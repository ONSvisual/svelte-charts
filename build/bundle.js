var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function o(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function s(t,e,n){t.$$.on_destroy.push(o(e,n))}function c(t,e,n,r){if(t){const i=l(t,e,n,r);return t[0](i)}}function l(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function u(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}function d(t,e,n,r,i,a){if(i){const o=l(e,n,r,a);t.p(o,i)}}function h(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function f(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function y(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function $(t){return document.createElement(t)}function m(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function v(){return x(" ")}function k(){return x("")}function w(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function z(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function M(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}let T,N;function A(){if(void 0===T){T=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){T=!0}}return T}function K(t,e,n){t.classList[n?"add":"remove"](e)}function j(t){N=t}function R(){if(!N)throw new Error("Function called outside component initialization");return N}function S(t){return R().$$.context.get(t)}const D=[],C=[],q=[],E=[],L=Promise.resolve();let O=!1;function P(t){q.push(t)}let G=!1;const B=new Set;function _(){if(!G){G=!0;do{for(let t=0;t<D.length;t+=1){const e=D[t];j(e),W(e.$$)}for(j(null),D.length=0;C.length;)C.pop()();for(let t=0;t<q.length;t+=1){const e=q[t];B.has(e)||(B.add(e),e())}q.length=0}while(D.length);for(;E.length;)E.pop()();O=!1,G=!1,B.clear()}}function W(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(P)}}const H=new Set;let I;function F(){I={r:0,c:[],p:I}}function J(){I.r||r(I.c),I=I.p}function Y(t,e){t&&t.i&&(H.delete(t),t.i(e))}function V(t,e,n,r){if(t&&t.o){if(H.has(t))return;H.add(t),I.c.push((()=>{H.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function Z(t){t&&t.c()}function X(t,n,a,o){const{fragment:s,on_mount:c,on_destroy:l,after_update:u}=t.$$;s&&s.m(n,a),o||P((()=>{const n=c.map(e).filter(i);l?l.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(P)}function U(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Q(t,e){-1===t.$$.dirty[0]&&(D.push(t),O||(O=!0,L.then(_)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function tt(e,i,a,o,s,c,l,u=[-1]){const d=N;j(e);const h=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:i.context||[]),callbacks:n(),dirty:u,skip_bound:!1,root:i.target||d.$$.root};l&&l(h.root);let f=!1;if(h.ctx=a?a(e,i.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&s(h.ctx[t],h.ctx[t]=i)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](i),f&&Q(e,t)),n})):[],h.update(),f=!0,r(h.before_update),h.fragment=!!o&&o(h.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);h.fragment&&h.fragment.l(t),t.forEach(p)}else h.fragment&&h.fragment.c();i.intro&&Y(e.$$.fragment),X(e,i.target,i.anchor,i.customElement),_()}j(d)}class et{$destroy(){U(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const nt=[];function rt(e,n=t){let r;const i=new Set;function o(t){if(a(e,t)&&(e=t,r)){const t=!nt.length;for(const t of i)t[1](),nt.push(t,e);if(t){for(let t=0;t<nt.length;t+=2)nt[t][0](nt[t+1]);nt.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,s=t){const c=[a,s];return i.add(c),1===i.size&&(r=n(o)||t),a(e),()=>{i.delete(c),0===i.size&&(r(),r=null)}}}}function it(e,n,a){const s=!Array.isArray(e),c=s?[e]:e,l=n.length<2;return{subscribe:rt(a,(e=>{let a=!1;const u=[];let d=0,h=t;const f=()=>{if(d)return;h();const r=n(s?u[0]:u,e);l?e(r):h=i(r)?r:t},g=c.map(((t,e)=>o(t,(t=>{u[e]=t,d&=~(1<<e),a&&f()}),(()=>{d|=1<<e}))));return a=!0,f(),function(){r(g),h()}})).subscribe}}function at(t){return 0===(e=t)||e?Array.isArray(t)?e=>t.map((t=>"function"!=typeof t?e[t]:t(e))):"function"!=typeof t?e=>e[t]:t:null;var e}function ot(t,e={}){return function(t){const e={};for(const n of t){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{0:t,1:r}=n;Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:r})}return e}(Object.entries(t).filter((([t,n])=>void 0!==n&&void 0===e[t])))}function st(t,e){if(!Array.isArray(t))throw new TypeError("The first argument of calcExtents() must be an array.");if(Array.isArray(e)||null==e)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},r=Object.keys(e),i=r.length;let a,o,s,c,l,u,d,h;const f=t.length;for(a=0;a<i;a+=1){for(c=r[a],d=e[c],l=null,u=null,o=0;o<f;o+=1)if(h=d(t[o]),Array.isArray(h)){const t=h.length;for(s=0;s<t;s+=1)void 0!==h[s]&&null!==h[s]&&!1===Number.isNaN(h[s])&&((null===l||h[s]<l)&&(l=h[s]),(null===u||h[s]>u)&&(u=h[s]))}else null!=h&&!1===Number.isNaN(h)&&((null===l||h<l)&&(l=h),(null===u||h>u)&&(u=h));n[c]=[l,u]}return n}function ct(t=[],e){return!0===Array.isArray(e)?e.map(((e,n)=>null===e?t[n]:e)):t}function lt(t){return function([e,n]){return e?ct(e[t],n):n}}function ut(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function dt(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const a=r+i>>>1;n(t[a],e)<0?r=a+1:i=a}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>ut(t(e),n)}(t)),{left:r,center:function(t,n,i,a){null==i&&(i=0),null==a&&(a=t.length);const o=r(t,n,i,a-1);return o>i&&e(t[o-1],n)>-e(t[o],n)?o-1:o},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const a=r+i>>>1;n(t[a],e)>0?i=a:r=a+1}return r}}}const ht=dt(ut).right;dt((function(t){return null===t?NaN:+t})).center;var ft=ht,gt=Math.sqrt(50),pt=Math.sqrt(10),yt=Math.sqrt(2);function $t(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=gt?10:a>=pt?5:a>=yt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=gt?10:a>=pt?5:a>=yt?2:1)}function mt(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}function xt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const vt=Symbol("implicit");function kt(){var t=new Map,e=[],n=[],r=vt;function i(i){var a=i+"",o=t.get(a);if(!o){if(r!==vt)return r;t.set(a,o=e.push(i))}return n[(o-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const r of n){const n=r+"";t.has(n)||t.set(n,e.push(r))}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return kt(e,n).unknown(r)},xt.apply(i,arguments),i}function wt(){var t,e,n=kt().unknown(void 0),r=n.domain,i=n.range,a=0,o=1,s=!1,c=0,l=0,u=.5;function d(){var n=r().length,d=o<a,h=d?o:a,f=d?a:o;t=(f-h)/Math.max(1,n-c+2*l),s&&(t=Math.floor(t)),h+=(f-h-t*(n-c))*u,e=t*(1-c),s&&(h=Math.round(h),e=Math.round(e));var g=mt(n).map((function(e){return h+t*e}));return i(d?g.reverse():g)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),d()):r()},n.range=function(t){return arguments.length?([a,o]=t,a=+a,o=+o,d()):[a,o]},n.rangeRound=function(t){return[a,o]=t,a=+a,o=+o,s=!0,d()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,d()):s},n.padding=function(t){return arguments.length?(c=Math.min(1,l=+t),d()):c},n.paddingInner=function(t){return arguments.length?(c=Math.min(1,t),d()):c},n.paddingOuter=function(t){return arguments.length?(l=+t,d()):l},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),d()):u},n.copy=function(){return wt(r(),[a,o]).round(s).paddingInner(c).paddingOuter(l).align(u)},xt.apply(d(),arguments)}function bt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function zt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Mt(){}var Tt=.7,Nt=1/Tt,At="\\s*([+-]?\\d+)\\s*",Kt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",jt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Rt=/^#([0-9a-f]{3,8})$/,St=new RegExp("^rgb\\("+[At,At,At]+"\\)$"),Dt=new RegExp("^rgb\\("+[jt,jt,jt]+"\\)$"),Ct=new RegExp("^rgba\\("+[At,At,At,Kt]+"\\)$"),qt=new RegExp("^rgba\\("+[jt,jt,jt,Kt]+"\\)$"),Et=new RegExp("^hsl\\("+[Kt,jt,jt]+"\\)$"),Lt=new RegExp("^hsla\\("+[Kt,jt,jt,Kt]+"\\)$"),Ot={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Pt(){return this.rgb().formatHex()}function Gt(){return this.rgb().formatRgb()}function Bt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Rt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?_t(e):3===n?new Ft(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Wt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Wt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=St.exec(t))?new Ft(e[1],e[2],e[3],1):(e=Dt.exec(t))?new Ft(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ct.exec(t))?Wt(e[1],e[2],e[3],e[4]):(e=qt.exec(t))?Wt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Et.exec(t))?Zt(e[1],e[2]/100,e[3]/100,1):(e=Lt.exec(t))?Zt(e[1],e[2]/100,e[3]/100,e[4]):Ot.hasOwnProperty(t)?_t(Ot[t]):"transparent"===t?new Ft(NaN,NaN,NaN,0):null}function _t(t){return new Ft(t>>16&255,t>>8&255,255&t,1)}function Wt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ft(t,e,n,r)}function Ht(t){return t instanceof Mt||(t=Bt(t)),t?new Ft((t=t.rgb()).r,t.g,t.b,t.opacity):new Ft}function It(t,e,n,r){return 1===arguments.length?Ht(t):new Ft(t,e,n,null==r?1:r)}function Ft(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Jt(){return"#"+Vt(this.r)+Vt(this.g)+Vt(this.b)}function Yt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Vt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Zt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ut(t,e,n,r)}function Xt(t){if(t instanceof Ut)return new Ut(t.h,t.s,t.l,t.opacity);if(t instanceof Mt||(t=Bt(t)),!t)return new Ut;if(t instanceof Ut)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new Ut(o,s,c,t.opacity)}function Ut(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Qt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}bt(Mt,Bt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Pt,formatHex:Pt,formatHsl:function(){return Xt(this).formatHsl()},formatRgb:Gt,toString:Gt}),bt(Ft,It,zt(Mt,{brighter:function(t){return t=null==t?Nt:Math.pow(Nt,t),new Ft(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Tt:Math.pow(Tt,t),new Ft(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jt,formatHex:Jt,formatRgb:Yt,toString:Yt})),bt(Ut,(function(t,e,n,r){return 1===arguments.length?Xt(t):new Ut(t,e,n,null==r?1:r)}),zt(Mt,{brighter:function(t){return t=null==t?Nt:Math.pow(Nt,t),new Ut(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Tt:Math.pow(Tt,t),new Ut(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ft(Qt(t>=240?t-240:t+120,i,r),Qt(t,i,r),Qt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var te=t=>()=>t;function ee(t){return 1==(t=+t)?ne:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):te(isNaN(e)?n:e)}}function ne(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):te(isNaN(t)?e:t)}var re=function t(e){var n=ee(e);function r(t,e){var r=n((t=It(t)).r,(e=It(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=ne(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function ie(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function ae(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=he(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}function oe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function se(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ce(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=he(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var le=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ue=new RegExp(le.source,"g");function de(t,e){var n,r,i,a=le.lastIndex=ue.lastIndex=0,o=-1,s=[],c=[];for(t+="",e+="";(n=le.exec(t))&&(r=ue.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,c.push({i:o,x:se(n,r)})),a=ue.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)s[(n=c[r]).i]=n.x(t);return s.join("")})}function he(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?te(e):("number"===i?se:"string"===i?(n=Bt(e))?(e=n,re):de:e instanceof Bt?re:e instanceof Date?oe:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?ae:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?ce:se:ie))(t,e)}function fe(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ge(t){return+t}var pe=[0,1];function ye(t){return t}function $e(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function me(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=$e(i,r),a=n(o,a)):(r=$e(r,i),a=n(a,o)),function(t){return a(r(t))}}function xe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=$e(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=ft(t,e,1,r)-1;return a[n](i[n](e))}}function ve(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ke(){var t,e,n,r,i,a,o=pe,s=pe,c=he,l=ye;function u(){var t,e,n,c=Math.min(o.length,s.length);return l!==ye&&(t=o[0],e=o[c-1],t>e&&(n=t,t=e,e=n),l=function(n){return Math.max(t,Math.min(e,n))}),r=c>2?xe:me,i=a=null,d}function d(e){return isNaN(e=+e)?n:(i||(i=r(o.map(t),s,c)))(t(l(e)))}return d.invert=function(n){return l(e((a||(a=r(s,o.map(t),se)))(n)))},d.domain=function(t){return arguments.length?(o=Array.from(t,ge),u()):o.slice()},d.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},d.rangeRound=function(t){return s=Array.from(t),c=fe,u()},d.clamp=function(t){return arguments.length?(l=!!t||ye,u()):l!==ye},d.interpolate=function(t){return arguments.length?(c=t,u()):c},d.unknown=function(t){return arguments.length?(n=t,d):n},function(n,r){return t=n,e=r,u()}}function we(){return ke()(ye,ye)}function be(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ze(t){return(t=be(Math.abs(t)))?t[1]:NaN}var Me,Te=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ne(t){if(!(e=Te.exec(t)))throw new Error("invalid format: "+t);var e;return new Ae({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ae(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ke(t,e){var n=be(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Ne.prototype=Ae.prototype,Ae.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var je={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ke(100*t,e),r:Ke,s:function(t,e){var n=be(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Me=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+be(t,Math.max(0,e+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Re(t){return t}var Se,De,Ce,qe=Array.prototype.map,Ee=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Le(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Re:(e=qe.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),a.push(t.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Re:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(qe.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function d(t){var e=(t=Ne(t)).fill,n=t.align,d=t.sign,h=t.symbol,f=t.zero,g=t.width,p=t.comma,y=t.precision,$=t.trim,m=t.type;"n"===m?(p=!0,m="g"):je[m]||(void 0===y&&(y=12),$=!0,m="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var x="$"===h?i:"#"===h&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",v="$"===h?a:/[%p]/.test(m)?c:"",k=je[m],w=/[defgprs%]/.test(m);function b(t){var i,a,c,h=x,b=v;if("c"===m)b=k(t)+b,t="";else{var z=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:k(Math.abs(t),y),$&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),z&&0==+t&&"+"!==d&&(z=!1),h=(z?"("===d?d:l:"-"===d||"("===d?"":d)+h,b=("s"===m?Ee[8+Me/3]:"")+b+(z&&"("===d?")":""),w)for(i=-1,a=t.length;++i<a;)if(48>(c=t.charCodeAt(i))||c>57){b=(46===c?o+t.slice(i+1):t.slice(i))+b,t=t.slice(0,i);break}}p&&!f&&(t=r(t,1/0));var M=h.length+t.length+b.length,T=M<g?new Array(g-M+1).join(e):"";switch(p&&f&&(t=r(T+t,T.length?g-b.length:1/0),T=""),n){case"<":t=h+t+b+T;break;case"=":t=h+T+t+b;break;case"^":t=T.slice(0,M=T.length>>1)+h+t+b+T.slice(M);break;default:t=T+h+t+b}return s(t)}return y=void 0===y?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),b.toString=function(){return t+""},b}return{format:d,formatPrefix:function(t,e){var n=d(((t=Ne(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(ze(e)/3))),i=Math.pow(10,-r),a=Ee[8+r/3];return function(t){return n(i*t)+a}}}}function Oe(t,e,n,r){var i,a=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=gt?i*=10:a>=pt?i*=5:a>=yt&&(i*=2),e<t?-i:i}(t,e,n);switch((r=Ne(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ze(e)/3)))-ze(Math.abs(t)))}(a,o))||(r.precision=i),Ce(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ze(e)-ze(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-ze(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return De(r)}function Pe(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,a,o,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=$t(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(t+s)*o;else for(o=-o,t=Math.ceil(t*o),e=Math.floor(e*o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(t+s)/o;return r&&a.reverse(),a}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Oe(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,a=e(),o=0,s=a.length-1,c=a[o],l=a[s],u=10;for(l<c&&(i=c,c=l,l=i,i=o,o=s,s=i);u-- >0;){if((i=$t(c,l,n))===r)return a[o]=c,a[s]=l,e(a);if(i>0)c=Math.floor(c/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}function Ge(){var t=we();return t.copy=function(){return ve(t,Ge())},xt.apply(t,arguments),Pe(t)}function Be(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function _e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function We(t){return t<0?-t*t:t*t}function He(t){var e=t(ye,ye),n=1;function r(){return 1===n?t(ye,ye):.5===n?t(_e,We):t(Be(n),Be(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},Pe(e)}function Ie(){var t=He(ke());return t.copy=function(){return ve(t,Ie()).exponent(t.exponent())},xt.apply(t,arguments),t}Se=Le({thousands:",",grouping:[3],currency:["$",""]}),De=Se.format,Ce=Se.formatPrefix;var Fe={x:Ge,y:Ge,z:Ge,r:function(){return Ie.apply(null,arguments).exponent(.5)}};function Je(t){return t}function Ye(t){return e=>Math.log(t*e)}function Ve(t){return e=>t*Math.exp(e)}function Ze(t){return e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}function Xe(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ue(t,e){if("function"!=typeof t.range)throw new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(e))return t.domain();2!==t.domain().length&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",t.domain()),2!==t.range().length&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",t.range());const{lift:n,ground:r}=function(t){const e=function(t){return t.constant?"symlog":t.base?"log":t.exponent?.5===t.exponent()?"sqrt":"pow":"other"}(t);if("log"===e){const n=Math.sign(t.domain()[0]);return{lift:Ye(n),ground:Ve(n),scaleType:e}}if("pow"===e){const t=1;return{lift:Xe(t),ground:Xe(1/t),scaleType:e}}if("sqrt"===e){const t=.5;return{lift:Xe(t),ground:Xe(1/t),scaleType:e}}if("symlog"===e){const t=1;return{lift:(n=t,t=>Math.sign(t)*Math.log1p(Math.abs(t/n))),ground:Ze(t),scaleType:e}}var n;return{lift:Je,ground:Je,scaleType:e}}(t),i=t.domain()[0],a="[object Date]"===Object.prototype.toString.call(i),[o,s]=t.domain().map((t=>n(a?t.getTime():t))),[c,l]=t.range(),u=e[0]||0,d=e[1]||0,h=(s-o)/(Math.abs(l-c)-u-d);return[o-u*h,d*h+s].map((t=>r(a?new Date(t):t)))}function Qe(t){return function([e,n,r,i,a,o,s,c,l,u]){if(null===n)return null;const d=function(t,e,n,r,i,a){return i?"function"==typeof i?i({width:e,height:n}):i:function(t,e,n,r,i){let a,o;return!0===i?(a=0,o=100):(a="r"===t?1:0,o="y"===t?n:"r"===t?25:e),!0===r?[o,a]:[a,o]}(t,e,n,r,a)}(t,s,c,o,l,u),h=e===Fe[t]?e():e.copy();return h.domain(ct(n[t],r)).range(d),i&&h.domain(Ue(h,i)),!0===a&&("function"==typeof h.nice?h.nice():console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),h}}function tn([t,e]){return n=>{const r=t(n);return Array.isArray(r)?r.map((t=>e(t))):e(r)}}function en([t]){if("function"==typeof t){if("function"==typeof t.range)return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}var nn={x:!1,y:!0,z:!1,r:!1};const rn=t=>({element:4&t[0],width:64&t[0],height:128&t[0],aspectRatio:256&t[0],containerWidth:512&t[0],containerHeight:1024&t[0]}),an=t=>({element:t[2],width:t[6],height:t[7],aspectRatio:t[8],containerWidth:t[9],containerHeight:t[10]});function on(t){let e,n,r,i;const a=t[54].default,o=c(a,t,t[53],an);return{c(){e=$("div"),o&&o.c(),b(e,"class","layercake-container svelte-vhzpsp"),b(e,"style",n="\n\t\t\tposition:"+t[5]+";\n\t\t\t"+("absolute"===t[5]?"top:0;right:0;bottom:0;left:0;":"")+"\n\t\t\t"+(!1===t[4]?"pointer-events:none;":"")+"\n\t\t"),P((()=>t[56].call(e)))},m(n,a){g(n,e,a),o&&o.m(e,null),t[55](e),r=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=$("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=A();let i;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=w(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{i=w(n.contentWindow,"resize",e)}),f(t,n),()=>{(r||i&&n.contentWindow)&&i(),p(n)}}(e,t[56].bind(e)),i=!0},p(t,r){o&&o.p&&(!i||1988&r[0]|4194304&r[1])&&d(o,a,t,t[53],i?u(a,t[53],r,rn):h(t[53]),an),(!i||48&r[0]&&n!==(n="\n\t\t\tposition:"+t[5]+";\n\t\t\t"+("absolute"===t[5]?"top:0;right:0;bottom:0;left:0;":"")+"\n\t\t\t"+(!1===t[4]?"pointer-events:none;":"")+"\n\t\t"))&&b(e,"style",n)},i(t){i||(Y(o,t),i=!0)},o(t){V(o,t),i=!1},d(n){n&&p(e),o&&o.d(n),t[55](null),r()}}}function sn(t){let e,n,r=(!0===t[3]||"undefined"!=typeof window)&&on(t);return{c(){r&&r.c(),e=k()},m(t,i){r&&r.m(t,i),g(t,e,i),n=!0},p(t,n){!0===t[3]||"undefined"!=typeof window?r?(r.p(t,n),8&n[0]&&Y(r,1)):(r=on(t),r.c(),Y(r,1),r.m(e.parentNode,e)):r&&(F(),V(r,1,1,(()=>{r=null})),J())},i(t){n||(Y(r),n=!0)},o(t){V(r),n=!1},d(t){r&&r.d(t),t&&p(e)}}}function cn(t,e,n){let r,i,a,o,c,l,{$$slots:u={},$$scope:d}=e,{ssr:h=!1}=e,{pointerEvents:f=!0}=e,{position:g="relative"}=e,{percentRange:p=!1}=e,{width:y}=e,{height:$}=e,{containerWidth:m=y||100}=e,{containerHeight:x=$||100}=e,{element:v}=e,{x:k}=e,{y:w}=e,{z:b}=e,{r:z}=e,{custom:M={}}=e,{data:T=[]}=e,{xDomain:N}=e,{yDomain:A}=e,{zDomain:K}=e,{rDomain:j}=e,{xNice:S=!1}=e,{yNice:D=!1}=e,{zNice:q=!1}=e,{rNice:E=!1}=e,{xReverse:L=nn.x}=e,{yReverse:O=nn.y}=e,{zReverse:P=nn.z}=e,{rReverse:G=nn.r}=e,{xPadding:B}=e,{yPadding:_}=e,{zPadding:W}=e,{rPadding:H}=e,{xScale:I=Fe.x}=e,{yScale:F=Fe.y}=e,{zScale:J=Fe.y}=e,{rScale:Y=Fe.r}=e,{xRange:V}=e,{yRange:Z}=e,{zRange:X}=e,{rRange:U}=e,{padding:Q={}}=e,{extents:tt={}}=e,{flatData:et}=e;const nt={},ct=rt(),ut=rt();s(t,ut,(t=>n(9,c=t)));const dt=rt();s(t,dt,(t=>n(10,l=t)));const ht=rt(),ft=rt(),gt=rt(),pt=rt(),yt=rt(),$t=rt(),mt=rt(),xt=rt(),vt=rt(),kt=rt(),wt=rt(),bt=rt(),zt=rt(),Mt=rt(),Tt=rt(),Nt=rt(),At=rt(),Kt=rt(),jt=rt(),Rt=rt(),St=rt(),Dt=rt(),Ct=rt(),qt=rt(),Et=rt(),Lt=rt(),Ot=rt(),Pt=rt(),Gt=rt(),Bt=rt(),_t=rt(),Wt=rt(),Ht=rt(),It=rt(nt),Ft=it([ht,ft,gt,pt],(([t,e,n,r])=>{const i={};return t&&(i.x=t),e&&(i.y=e),n&&(i.z=n),r&&(i.r=r),i})),Jt=it([_t,ut,dt],(([t])=>Object.assign({top:0,right:0,bottom:0,left:0},t))),Yt=it([ut,dt,Jt],(([t,e,n])=>{const r={};return r.top=n.top,r.right=t-n.right,r.bottom=e-n.bottom,r.left=n.left,r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<=0&&console.error("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),r.height<=0&&console.error("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),r})),Vt=it([Yt],(([t])=>t.width));s(t,Vt,(t=>n(6,i=t)));const Zt=it([Yt],(([t])=>t.height));s(t,Zt,(t=>n(7,a=t)));const Xt=it([Wt,Ft,Ht],(([t,e,n])=>({...st(t,ot(e,n)),...n}))),Ut=it([Xt,mt],lt("x")),Qt=it([Xt,xt],lt("y")),te=it([Xt,vt],lt("z")),ee=it([Xt,kt],lt("r")),ne=it([Ct,Xt,Ut,jt,wt,Tt,Vt,Zt,Ot,ct],Qe("x")),re=it([ht,ne],tn),ie=it([qt,Xt,Qt,Rt,bt,Nt,Vt,Zt,Pt,ct],Qe("y")),ae=it([ft,ie],tn),oe=it([Et,Xt,te,St,zt,At,Vt,Zt,Gt,ct],Qe("z")),se=it([gt,oe],tn),ce=it([Lt,Xt,ee,Dt,Mt,Kt,Vt,Zt,Bt,ct],Qe("r")),le=it([pt,ce],tn),ue=it([ne],en),de=it([ie],en),he=it([oe],en),fe=it([ce],en),ge=it([Vt,Zt],(([t,e,n])=>e/n));return s(t,ge,(t=>n(8,o=t))),t.$$set=t=>{"ssr"in t&&n(3,h=t.ssr),"pointerEvents"in t&&n(4,f=t.pointerEvents),"position"in t&&n(5,g=t.position),"percentRange"in t&&n(16,p=t.percentRange),"width"in t&&n(17,y=t.width),"height"in t&&n(18,$=t.height),"containerWidth"in t&&n(0,m=t.containerWidth),"containerHeight"in t&&n(1,x=t.containerHeight),"element"in t&&n(2,v=t.element),"x"in t&&n(19,k=t.x),"y"in t&&n(20,w=t.y),"z"in t&&n(21,b=t.z),"r"in t&&n(22,z=t.r),"custom"in t&&n(23,M=t.custom),"data"in t&&n(24,T=t.data),"xDomain"in t&&n(25,N=t.xDomain),"yDomain"in t&&n(26,A=t.yDomain),"zDomain"in t&&n(27,K=t.zDomain),"rDomain"in t&&n(28,j=t.rDomain),"xNice"in t&&n(29,S=t.xNice),"yNice"in t&&n(30,D=t.yNice),"zNice"in t&&n(31,q=t.zNice),"rNice"in t&&n(32,E=t.rNice),"xReverse"in t&&n(33,L=t.xReverse),"yReverse"in t&&n(34,O=t.yReverse),"zReverse"in t&&n(35,P=t.zReverse),"rReverse"in t&&n(36,G=t.rReverse),"xPadding"in t&&n(37,B=t.xPadding),"yPadding"in t&&n(38,_=t.yPadding),"zPadding"in t&&n(39,W=t.zPadding),"rPadding"in t&&n(40,H=t.rPadding),"xScale"in t&&n(41,I=t.xScale),"yScale"in t&&n(42,F=t.yScale),"zScale"in t&&n(43,J=t.zScale),"rScale"in t&&n(44,Y=t.rScale),"xRange"in t&&n(45,V=t.xRange),"yRange"in t&&n(46,Z=t.yRange),"zRange"in t&&n(47,X=t.zRange),"rRange"in t&&n(48,U=t.rRange),"padding"in t&&n(49,Q=t.padding),"extents"in t&&n(50,tt=t.extents),"flatData"in t&&n(51,et=t.flatData),"$$scope"in t&&n(53,d=t.$$scope)},t.$$.update=()=>{524288&t.$$.dirty[0]&&k&&(nt.x=k),1048576&t.$$.dirty[0]&&w&&(nt.y=w),2097152&t.$$.dirty[0]&&b&&(nt.z=b),4194304&t.$$.dirty[0]&&z&&(nt.r=z),33554432&t.$$.dirty[0]&&N&&(nt.xDomain=N),67108864&t.$$.dirty[0]&&A&&(nt.yDomain=A),134217728&t.$$.dirty[0]&&K&&(nt.zDomain=K),268435456&t.$$.dirty[0]&&j&&(nt.rDomain=j),16384&t.$$.dirty[1]&&V&&(nt.xRange=V),32768&t.$$.dirty[1]&&Z&&(nt.yRange=Z),65536&t.$$.dirty[1]&&X&&(nt.zRange=X),131072&t.$$.dirty[1]&&U&&(nt.rRange=U),65536&t.$$.dirty[0]&&ct.set(p),1&t.$$.dirty[0]&&ut.set(m),2&t.$$.dirty[0]&&dt.set(x),524288&t.$$.dirty[0]&&ht.set(at(k)),1048576&t.$$.dirty[0]&&ft.set(at(w)),2097152&t.$$.dirty[0]&&gt.set(at(b)),4194304&t.$$.dirty[0]&&pt.set(at(z)),33554432&t.$$.dirty[0]&&mt.set(N),67108864&t.$$.dirty[0]&&xt.set(A),134217728&t.$$.dirty[0]&&vt.set(K),268435456&t.$$.dirty[0]&&kt.set(j),8388608&t.$$.dirty[0]&&yt.set(M),16777216&t.$$.dirty[0]&&$t.set(T),536870912&t.$$.dirty[0]&&wt.set(S),1073741824&t.$$.dirty[0]&&bt.set(D),1&t.$$.dirty[1]&&zt.set(q),2&t.$$.dirty[1]&&Mt.set(E),4&t.$$.dirty[1]&&Tt.set(L),8&t.$$.dirty[1]&&Nt.set(O),16&t.$$.dirty[1]&&At.set(P),32&t.$$.dirty[1]&&Kt.set(G),64&t.$$.dirty[1]&&jt.set(B),128&t.$$.dirty[1]&&Rt.set(_),256&t.$$.dirty[1]&&St.set(W),512&t.$$.dirty[1]&&Dt.set(H),1024&t.$$.dirty[1]&&Ct.set(I),2048&t.$$.dirty[1]&&qt.set(F),4096&t.$$.dirty[1]&&Et.set(J),8192&t.$$.dirty[1]&&Lt.set(Y),16384&t.$$.dirty[1]&&Ot.set(V),32768&t.$$.dirty[1]&&Pt.set(Z),65536&t.$$.dirty[1]&&Gt.set(X),131072&t.$$.dirty[1]&&Bt.set(U),262144&t.$$.dirty[1]&&_t.set(Q),524288&t.$$.dirty[1]&&Ht.set(ot(tt)),16777216&t.$$.dirty[0]|1048576&t.$$.dirty[1]&&Wt.set(et||T),2097152&t.$$.dirty[1]&&function(t,e){R().$$.context.set(t,e)}("LayerCake",r)},n(52,r={activeGetters:Ft,width:Vt,height:Zt,percentRange:ct,aspectRatio:ge,containerWidth:ut,containerHeight:dt,x:ht,y:ft,z:gt,r:pt,custom:yt,data:$t,xNice:wt,yNice:bt,zNice:zt,rNice:Mt,xReverse:Tt,yReverse:Nt,zReverse:At,rReverse:Kt,xPadding:jt,yPadding:Rt,zPadding:St,rPadding:Dt,padding:Jt,flatData:Wt,extents:Xt,xDomain:Ut,yDomain:Qt,zDomain:te,rDomain:ee,xRange:ue,yRange:de,zRange:he,rRange:fe,config:It,xScale:ne,xGet:re,yScale:ie,yGet:ae,zScale:oe,zGet:se,rScale:ce,rGet:le}),[m,x,v,h,f,g,i,a,o,c,l,ut,dt,Vt,Zt,ge,p,y,$,k,w,b,z,M,T,N,A,K,j,S,D,q,E,L,O,P,G,B,_,W,H,I,F,J,Y,V,Z,X,U,Q,tt,et,r,d,u,function(t){C[t?"unshift":"push"]((()=>{v=t,n(2,v)}))},function(){m=this.clientWidth,x=this.clientHeight,n(0,m),n(1,x)}]}class ln extends et{constructor(t){super(),tt(this,t,cn,sn,a,{ssr:3,pointerEvents:4,position:5,percentRange:16,width:17,height:18,containerWidth:0,containerHeight:1,element:2,x:19,y:20,z:21,r:22,custom:23,data:24,xDomain:25,yDomain:26,zDomain:27,rDomain:28,xNice:29,yNice:30,zNice:31,rNice:32,xReverse:33,yReverse:34,zReverse:35,rReverse:36,xPadding:37,yPadding:38,zPadding:39,rPadding:40,xScale:41,yScale:42,zScale:43,rScale:44,xRange:45,yRange:46,zRange:47,rRange:48,padding:49,extents:50,flatData:51},null,[-1,-1,-1,-1])}}const un=t=>({element:1&t}),dn=t=>({element:t[0]}),hn=t=>({element:1&t}),fn=t=>({element:t[0]});function gn(t){let e,n,r,i,a,o;const s=t[13].defs,l=c(s,t,t[12],fn),y=t[13].default,$=c(y,t,t[12],dn);return{c(){e=m("svg"),n=m("defs"),l&&l.c(),r=m("g"),$&&$.c(),b(r,"class","layercake-layout-svg_g"),b(r,"transform",i="translate("+t[6].left+", "+t[6].top+")"),b(e,"class","layercake-layout-svg svelte-u84d8d"),b(e,"viewBox",t[1]),b(e,"width",t[4]),b(e,"height",t[5]),b(e,"style",a=""+(t[2]+t[3]))},m(i,a){g(i,e,a),f(e,n),l&&l.m(n,null),f(e,r),$&&$.m(r,null),t[14](e),o=!0},p(t,[n]){l&&l.p&&(!o||4097&n)&&d(l,s,t,t[12],o?u(s,t[12],n,hn):h(t[12]),fn),$&&$.p&&(!o||4097&n)&&d($,y,t,t[12],o?u(y,t[12],n,un):h(t[12]),dn),(!o||64&n&&i!==(i="translate("+t[6].left+", "+t[6].top+")"))&&b(r,"transform",i),(!o||2&n)&&b(e,"viewBox",t[1]),(!o||16&n)&&b(e,"width",t[4]),(!o||32&n)&&b(e,"height",t[5]),(!o||12&n&&a!==(a=""+(t[2]+t[3])))&&b(e,"style",a)},i(t){o||(Y(l,t),Y($,t),o=!0)},o(t){V(l,t),V($,t),o=!1},d(n){n&&p(e),l&&l.d(n),$&&$.d(n),t[14](null)}}}function pn(t,e,n){let r,i,a,{$$slots:o={},$$scope:c}=e,{element:l}=e,{viewBox:u}=e,{zIndex:d}=e,{pointerEvents:h}=e,f="",g="";const{containerWidth:p,containerHeight:y,padding:$}=S("LayerCake");return s(t,p,(t=>n(4,r=t))),s(t,y,(t=>n(5,i=t))),s(t,$,(t=>n(6,a=t))),t.$$set=t=>{"element"in t&&n(0,l=t.element),"viewBox"in t&&n(1,u=t.viewBox),"zIndex"in t&&n(10,d=t.zIndex),"pointerEvents"in t&&n(11,h=t.pointerEvents),"$$scope"in t&&n(12,c=t.$$scope)},t.$$.update=()=>{1024&t.$$.dirty&&n(2,f=void 0!==d?`z-index:${d};`:""),2048&t.$$.dirty&&n(3,g=!1===h?"pointer-events:none;":"")},[l,u,f,g,r,i,a,p,y,$,d,h,c,o,function(t){C[t?"unshift":"push"]((()=>{l=t,n(0,l)}))}]}class yn extends et{constructor(t){super(),tt(this,t,pn,gn,a,{element:0,viewBox:1,zIndex:10,pointerEvents:11})}}function $n(t,e,n){const r=t.slice();return r[12]=e[n],r}function mn(t){let e,n,r;return{c(){e=m("path"),b(e,"class","path-line svelte-1a99x5h"),b(e,"d",n=t[2](t[12])),b(e,"stroke",r=t[0].z?t[3](t[12][0]):t[0].zRange[0])},m(t,n){g(t,e,n)},p(t,i){6&i&&n!==(n=t[2](t[12]))&&b(e,"d",n),11&i&&r!==(r=t[0].z?t[3](t[12][0]):t[0].zRange[0])&&b(e,"stroke",r)},d(t){t&&p(e)}}}function xn(e){let n,r=e[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=mn($n(e,r,t));return{c(){n=m("g");for(let t=0;t<i.length;t+=1)i[t].c();b(n,"class","line-group")},m(t,e){g(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(15&e){let a;for(r=t[1],a=0;a<r.length;a+=1){const o=$n(t,r,a);i[a]?i[a].p(o,e):(i[a]=mn(o),i[a].c(),i[a].m(n,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},i:t,o:t,d(t){t&&p(n),y(i,t)}}}function vn(t,e,n){let r,i,a,o,c,l;const{data:u,xGet:d,yGet:h,zGet:f,config:g}=S("LayerCake");let p;return s(t,u,(t=>n(11,o=t))),s(t,d,(t=>n(10,a=t))),s(t,h,(t=>n(9,i=t))),s(t,f,(t=>n(3,l=t))),s(t,g,(t=>n(0,c=t))),t.$$.update=()=>{if(2049&t.$$.dirty&&o)if(c.z){let t=[];c.zDomain.forEach((e=>{t.push(o.filter((t=>t[c.z]==e)))})),n(1,p=t)}else n(1,p=[o]);1536&t.$$.dirty&&n(2,r=t=>"M"+t.map((t=>a(t)+","+i(t))).join("L"))},[c,p,r,l,u,d,h,f,g,i,a,o]}class kn extends et{constructor(t){super(),tt(this,t,vn,xn,a,{})}}function wn(t,e,n){let r=[];return n?e.forEach((e=>{r.push(t.filter((t=>t[n]==e)))})):r=[t],r}function bn(t,e,n,r){let i=[],a=JSON.parse(JSON.stringify(t.filter((t=>t[r]==e[0]))));return a.forEach((t=>t[n]=0)),e.forEach((e=>{let o=JSON.parse(JSON.stringify(t.filter((t=>t[r]==e))));o.forEach(((t,e)=>{t[n]+=a[e][n],a[e][n]=t[n]})),i.push(o)})),i}function zn(t,e,n){const r=t.slice();return r[24]=e[n],r[26]=n,r}function Mn(t){let e,n,r;return{c(){e=m("path"),b(e,"class","path-area"),b(e,"d",n=t[3](t[24],t[26])),b(e,"fill",r=t[2].z?t[4](t[24][0]):t[5][0]),b(e,"opacity",t[0])},m(t,n){g(t,e,n)},p(t,i){10&i&&n!==(n=t[3](t[24],t[26]))&&b(e,"d",n),54&i&&r!==(r=t[2].z?t[4](t[24][0]):t[5][0])&&b(e,"fill",r),1&i&&b(e,"opacity",t[0])},d(t){t&&p(e)}}}function Tn(e){let n,r=e[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=Mn(zn(e,r,t));return{c(){n=m("g");for(let t=0;t<i.length;t+=1)i[t].c();b(n,"class","area-group")},m(t,e){g(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(63&e){let a;for(r=t[1],a=0;a<r.length;a+=1){const o=zn(t,r,a);i[a]?i[a].p(o,e):(i[a]=Mn(o),i[a].c(),i[a].m(n,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},i:t,o:t,d(t){t&&p(n),y(i,t)}}}function Nn(t,e,n){let r,i,a,o,c,l,u,d,h,f,g,p;const{data:y,xGet:$,yGet:m,xScale:x,yScale:v,z:k,zGet:w,zDomain:b,zRange:z,extents:M,config:T}=S("LayerCake");s(t,y,(t=>n(22,f=t))),s(t,$,(t=>n(17,o=t))),s(t,m,(t=>n(16,a=t))),s(t,x,(t=>n(19,l=t))),s(t,v,(t=>n(20,u=t))),s(t,w,(t=>n(4,g=t))),s(t,b,(t=>n(21,h=t))),s(t,z,(t=>n(5,p=t))),s(t,M,(t=>n(18,c=t))),s(t,T,(t=>n(2,d=t)));let{opacity:N=1}=e;return t.$$set=t=>{"opacity"in t&&n(0,N=t.opacity)},t.$$.update=()=>{6291460&t.$$.dirty&&n(1,r=wn(f,h,d.z)),2031618&t.$$.dirty&&n(3,i=(t,e)=>{const n=u.range();return"M"+t.map((t=>o(t)+","+a(t))).join("L")+(0==e?"L"+l(c.x?c.x[1]:0)+","+n[0]+"L"+l(c.x?c.x[0]:0)+","+n[0]:"L"+[...r[e-1]].reverse().map((t=>o(t)+","+a(t))).join("L"))+"Z"})},[N,r,d,i,g,p,y,$,m,x,v,w,b,z,M,T,a,o,c,l,u,h,f]}class An extends et{constructor(t){super(),tt(this,t,Nn,Tn,a,{opacity:0})}}function Kn(t,e,n){const r=t.slice();return r[12]=e[n],r}function jn(t){let e,n,r;return{c(){e=m("path"),b(e,"class","path-line svelte-1a99x5h"),b(e,"d",n=t[2](t[12])),b(e,"stroke",r=t[0].z?t[3](t[12][0]):t[0].zRange[0])},m(t,n){g(t,e,n)},p(t,i){6&i&&n!==(n=t[2](t[12]))&&b(e,"d",n),11&i&&r!==(r=t[0].z?t[3](t[12][0]):t[0].zRange[0])&&b(e,"stroke",r)},d(t){t&&p(e)}}}function Rn(e){let n,r=e[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=jn(Kn(e,r,t));return{c(){n=m("g");for(let t=0;t<i.length;t+=1)i[t].c();b(n,"class","line-group")},m(t,e){g(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(15&e){let a;for(r=t[1],a=0;a<r.length;a+=1){const o=Kn(t,r,a);i[a]?i[a].p(o,e):(i[a]=jn(o),i[a].c(),i[a].m(n,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},i:t,o:t,d(t){t&&p(n),y(i,t)}}}function Sn(t,e,n){let r,i,a,o,c,l;const{data:u,xGet:d,yGet:h,zGet:f,config:g}=S("LayerCake");let p;return s(t,u,(t=>n(11,c=t))),s(t,d,(t=>n(10,a=t))),s(t,h,(t=>n(9,i=t))),s(t,f,(t=>n(3,l=t))),s(t,g,(t=>n(0,o=t))),t.$$.update=()=>{if(2049&t.$$.dirty&&c&&o.z){let t=[],e=JSON.parse(JSON.stringify(c.filter((t=>t[o.z]==o.zDomain[0]))));e.forEach((t=>t[o.y]=0)),o.zDomain.forEach((n=>{let r=JSON.parse(JSON.stringify(c.filter((t=>t[o.z]==n))));r.forEach(((t,n)=>{t[o.y]+=e[n][o.y],e[n][o.y]=t[o.y]})),t.push(r)})),n(1,p=t)}1536&t.$$.dirty&&n(2,r=t=>"M"+t.map((t=>a(t)+","+i(t))).join("L"))},[o,p,r,l,u,d,h,f,g,i,a,c]}class Dn extends et{constructor(t){super(),tt(this,t,Sn,Rn,a,{})}}function Cn(t,e,n){const r=t.slice();return r[24]=e[n],r[26]=n,r}function qn(t){let e,n,r;return{c(){e=m("path"),b(e,"class","path-area"),b(e,"d",n=t[3](t[24],t[26])),b(e,"fill",r=t[2].z?t[4](t[24][0]):t[5][0]),b(e,"opacity",t[0])},m(t,n){g(t,e,n)},p(t,i){10&i&&n!==(n=t[3](t[24],t[26]))&&b(e,"d",n),54&i&&r!==(r=t[2].z?t[4](t[24][0]):t[5][0])&&b(e,"fill",r),1&i&&b(e,"opacity",t[0])},d(t){t&&p(e)}}}function En(e){let n,r=e[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=qn(Cn(e,r,t));return{c(){n=m("g");for(let t=0;t<i.length;t+=1)i[t].c();b(n,"class","area-group")},m(t,e){g(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(63&e){let a;for(r=t[1],a=0;a<r.length;a+=1){const o=Cn(t,r,a);i[a]?i[a].p(o,e):(i[a]=qn(o),i[a].c(),i[a].m(n,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},i:t,o:t,d(t){t&&p(n),y(i,t)}}}function Ln(t,e,n){let r,i,a,o,c,l,u,d,h,f,g,p;const{data:y,xGet:$,xScale:m,yGet:x,yScale:v,z:k,zGet:w,zDomain:b,zRange:z,extents:M,config:T}=S("LayerCake");s(t,y,(t=>n(22,f=t))),s(t,$,(t=>n(17,o=t))),s(t,m,(t=>n(19,l=t))),s(t,x,(t=>n(16,a=t))),s(t,v,(t=>n(20,u=t))),s(t,w,(t=>n(4,g=t))),s(t,b,(t=>n(21,h=t))),s(t,z,(t=>n(5,p=t))),s(t,M,(t=>n(18,c=t))),s(t,T,(t=>n(2,d=t)));let{opacity:N=1}=e;return t.$$set=t=>{"opacity"in t&&n(0,N=t.opacity)},t.$$.update=()=>{6291460&t.$$.dirty&&n(1,r=bn(f,h,d.y,d.z)),2031618&t.$$.dirty&&n(3,i=(t,e)=>{const n=u.range();return"M"+t.map((t=>o(t)+","+a(t))).join("L")+(0==e?"L"+l(c.x?c.x[1]:0)+","+n[0]+"L"+l(c.x?c.x[0]:0)+","+n[0]:"L"+[...r[e-1]].reverse().map((t=>o(t)+","+a(t))).join("L"))+"Z"})},[N,r,d,i,g,p,y,$,m,x,v,w,b,z,M,T,a,o,c,l,u,h,f]}class On extends et{constructor(t){super(),tt(this,t,Ln,En,a,{opacity:0})}}function Pn(t,e,n){const r=t.slice();return r[21]=e[n],r[23]=n,r}function Gn(t){let e,n;return{c(){e=m("line"),b(e,"class","gridline svelte-1jyxmqj"),b(e,"y1",n=-1*t[13]),b(e,"y2","0"),b(e,"x1","0"),b(e,"x2","0")},m(t,n){g(t,e,n)},p(t,r){8192&r&&n!==(n=-1*t[13])&&b(e,"y1",n)},d(t){t&&p(e)}}}function Bn(t){let e,n,r;return{c(){e=m("line"),b(e,"class","tick-mark svelte-1jyxmqj"),b(e,"y1",0),b(e,"y2",6),b(e,"x1",n=t[5]||t[9]?t[10].bandwidth()/2:0),b(e,"x2",r=t[5]||t[9]?t[10].bandwidth()/2:0)},m(t,n){g(t,e,n)},p(t,i){1568&i&&n!==(n=t[5]||t[9]?t[10].bandwidth()/2:0)&&b(e,"x1",n),1568&i&&r!==(r=t[5]||t[9]?t[10].bandwidth()/2:0)&&b(e,"x2",r)},d(t){t&&p(e)}}}function _n(t){let e,n,r,i,a,o,s,c,l=t[2](t[21])+"",u=!1!==t[0]&&Gn(t),d=!0===t[1]&&Bn(t);return{c(){e=m("g"),u&&u.c(),n=k(),d&&d.c(),r=m("text"),i=x(l),b(r,"x",a=t[5]||t[9]?t[10].bandwidth()/2:0),b(r,"y",t[6]),b(r,"dx",t[7]),b(r,"dy",t[8]),b(r,"text-anchor",o=t[19](t[23])),b(r,"class","svelte-1jyxmqj"),b(e,"class",s="tick tick-"+t[23]+" svelte-1jyxmqj"),b(e,"transform",c="translate("+t[10](t[21])+","+t[12][0]+")")},m(t,a){g(t,e,a),u&&u.m(e,null),f(e,n),d&&d.m(e,null),f(e,r),f(r,i)},p(t,o){!1!==t[0]?u?u.p(t,o):(u=Gn(t),u.c(),u.m(e,n)):u&&(u.d(1),u=null),!0===t[1]?d?d.p(t,o):(d=Bn(t),d.c(),d.m(e,r)):d&&(d.d(1),d=null),2052&o&&l!==(l=t[2](t[21])+"")&&z(i,l),1568&o&&a!==(a=t[5]||t[9]?t[10].bandwidth()/2:0)&&b(r,"x",a),64&o&&b(r,"y",t[6]),128&o&&b(r,"dx",t[7]),256&o&&b(r,"dy",t[8]),7168&o&&c!==(c="translate("+t[10](t[21])+","+t[12][0]+")")&&b(e,"transform",c)},d(t){t&&p(e),u&&u.d(),d&&d.d()}}}function Wn(t){let e,n,r;return{c(){e=m("line"),b(e,"class","baseline svelte-1jyxmqj"),b(e,"y1",n=t[13]+.5),b(e,"y2",r=t[13]+.5),b(e,"x1","0"),b(e,"x2",t[14])},m(t,n){g(t,e,n)},p(t,i){8192&i&&n!==(n=t[13]+.5)&&b(e,"y1",n),8192&i&&r!==(r=t[13]+.5)&&b(e,"y2",r),16384&i&&b(e,"x2",t[14])},d(t){t&&p(e)}}}function Hn(e){let n,r,i=e[11],a=[];for(let t=0;t<i.length;t+=1)a[t]=_n(Pn(e,i,t));let o=!0===e[3]&&Wn(e);return{c(){n=m("g");for(let t=0;t<a.length;t+=1)a[t].c();r=k(),o&&o.c(),b(n,"class","axis x-axis svelte-1jyxmqj"),K(n,"snapTicks",e[4])},m(t,e){g(t,n,e);for(let t=0;t<a.length;t+=1)a[t].m(n,null);f(n,r),o&&o.m(n,null)},p(t,[e]){if(540647&e){let o;for(i=t[11],o=0;o<i.length;o+=1){const s=Pn(t,i,o);a[o]?a[o].p(s,e):(a[o]=_n(s),a[o].c(),a[o].m(n,r))}for(;o<a.length;o+=1)a[o].d(1);a.length=i.length}!0===t[3]?o?o.p(t,e):(o=Wn(t),o.c(),o.m(n,null)):o&&(o.d(1),o=null),16&e&&K(n,"snapTicks",t[4])},i:t,o:t,d(t){t&&p(n),y(a,t),o&&o.d()}}}function In(t,e,n){let r,i,a,o,c,l;const{width:u,height:d,xScale:h,yRange:f}=S("LayerCake");s(t,u,(t=>n(14,l=t))),s(t,d,(t=>n(13,c=t))),s(t,h,(t=>n(10,a=t))),s(t,f,(t=>n(12,o=t)));let{gridlines:g=!0}=e,{tickMarks:p=!1}=e,{formatTick:y=(t=>t)}=e,{baseline:$=!1}=e,{snapTicks:m=!1}=e,{ticks:x}=e,{xTick:v}=e,{yTick:k=16}=e,{dxTick:w=0}=e,{dyTick:b=0}=e;return t.$$set=t=>{"gridlines"in t&&n(0,g=t.gridlines),"tickMarks"in t&&n(1,p=t.tickMarks),"formatTick"in t&&n(2,y=t.formatTick),"baseline"in t&&n(3,$=t.baseline),"snapTicks"in t&&n(4,m=t.snapTicks),"ticks"in t&&n(20,x=t.ticks),"xTick"in t&&n(5,v=t.xTick),"yTick"in t&&n(6,k=t.yTick),"dxTick"in t&&n(7,w=t.dxTick),"dyTick"in t&&n(8,b=t.dyTick)},t.$$.update=()=>{1024&t.$$.dirty&&n(9,r="function"==typeof a.bandwidth),1050112&t.$$.dirty&&n(11,i=Array.isArray(x)?x:r?a.domain():"function"==typeof x?x(a.ticks()):a.ticks(x))},[g,p,y,$,m,v,k,w,b,r,a,i,o,c,l,u,d,h,f,function(t){if(!0===m){if(0===t)return"start";if(t===i.length-1)return"end"}return"middle"},x]}class Fn extends et{constructor(t){super(),tt(this,t,In,Hn,a,{gridlines:0,tickMarks:1,formatTick:2,baseline:3,snapTicks:4,ticks:20,xTick:5,yTick:6,dxTick:7,dyTick:8})}}function Jn(t,e,n){const r=t.slice();return r[17]=e[n],r[19]=n,r}function Yn(t){let e,n,r;return{c(){e=m("line"),b(e,"class","gridline svelte-lyo2tj"),b(e,"x2","100%"),b(e,"y1",n=t[4]+(t[8]?t[9].bandwidth()/2:0)),b(e,"y2",r=t[4]+(t[8]?t[9].bandwidth()/2:0))},m(t,n){g(t,e,n)},p(t,i){784&i&&n!==(n=t[4]+(t[8]?t[9].bandwidth()/2:0))&&b(e,"y1",n),784&i&&r!==(r=t[4]+(t[8]?t[9].bandwidth()/2:0))&&b(e,"y2",r)},d(t){t&&p(e)}}}function Vn(t){let e,n,r,i;return{c(){e=m("line"),b(e,"class","tick-mark svelte-lyo2tj"),b(e,"x1","0"),b(e,"x2",n=t[8]?-6:6),b(e,"y1",r=t[4]+(t[8]?t[9].bandwidth()/2:0)),b(e,"y2",i=t[4]+(t[8]?t[9].bandwidth()/2:0))},m(t,n){g(t,e,n)},p(t,a){256&a&&n!==(n=t[8]?-6:6)&&b(e,"x2",n),784&a&&r!==(r=t[4]+(t[8]?t[9].bandwidth()/2:0))&&b(e,"y1",r),784&a&&i!==(i=t[4]+(t[8]?t[9].bandwidth()/2:0))&&b(e,"y2",i)},d(t){t&&p(e)}}}function Zn(t){let e,n,r,i,a,o,s,c,l,u=t[2](t[17])+"",d=!1!==t[1]&&Yn(t),h=!0===t[0]&&Vn(t);return{c(){e=m("g"),d&&d.c(),n=k(),h&&h.c(),r=m("text"),i=x(u),b(r,"x",t[3]),b(r,"y",a=t[4]+(t[8]?t[9].bandwidth()/2:0)),b(r,"dx",o=t[8]?-9:t[5]),b(r,"dy",s=t[8]?4:t[6]),M(r,"text-anchor",t[8]?"end":t[7]),b(r,"class","svelte-lyo2tj"),b(e,"class",c="tick tick-"+t[17]+" svelte-lyo2tj"),b(e,"transform",l="translate("+(t[12][0]+(t[8]?t[11].left:0))+", "+t[9](t[17])+")")},m(t,a){g(t,e,a),d&&d.m(e,null),f(e,n),h&&h.m(e,null),f(e,r),f(r,i)},p(t,f){!1!==t[1]?d?d.p(t,f):(d=Yn(t),d.c(),d.m(e,n)):d&&(d.d(1),d=null),!0===t[0]?h?h.p(t,f):(h=Vn(t),h.c(),h.m(e,r)):h&&(h.d(1),h=null),1028&f&&u!==(u=t[2](t[17])+"")&&z(i,u),8&f&&b(r,"x",t[3]),784&f&&a!==(a=t[4]+(t[8]?t[9].bandwidth()/2:0))&&b(r,"y",a),288&f&&o!==(o=t[8]?-9:t[5])&&b(r,"dx",o),320&f&&s!==(s=t[8]?4:t[6])&&b(r,"dy",s),384&f&&M(r,"text-anchor",t[8]?"end":t[7]),1024&f&&c!==(c="tick tick-"+t[17]+" svelte-lyo2tj")&&b(e,"class",c),7936&f&&l!==(l="translate("+(t[12][0]+(t[8]?t[11].left:0))+", "+t[9](t[17])+")")&&b(e,"transform",l)},d(t){t&&p(e),d&&d.d(),h&&h.d()}}}function Xn(e){let n,r,i=e[10],a=[];for(let t=0;t<i.length;t+=1)a[t]=Zn(Jn(e,i,t));return{c(){n=m("g");for(let t=0;t<a.length;t+=1)a[t].c();b(n,"class","axis y-axis"),b(n,"transform",r="translate("+-e[11].left+", 0)")},m(t,e){g(t,n,e);for(let t=0;t<a.length;t+=1)a[t].m(n,null)},p(t,[e]){if(8191&e){let r;for(i=t[10],r=0;r<i.length;r+=1){const o=Jn(t,i,r);a[r]?a[r].p(o,e):(a[r]=Zn(o),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}2048&e&&r!==(r="translate("+-t[11].left+", 0)")&&b(n,"transform",r)},i:t,o:t,d(t){t&&p(n),y(a,t)}}}function Un(t,e,n){let r,i,a,o,c;const{padding:l,xRange:u,yScale:d}=S("LayerCake");s(t,l,(t=>n(11,o=t))),s(t,u,(t=>n(12,c=t))),s(t,d,(t=>n(9,a=t)));let{ticks:h=4}=e,{tickMarks:f=!1}=e,{gridlines:g=!0}=e,{formatTick:p=(t=>t)}=e,{xTick:y=0}=e,{yTick:$=0}=e,{dxTick:m=0}=e,{dyTick:x=-4}=e,{textAnchor:v="start"}=e;return t.$$set=t=>{"ticks"in t&&n(16,h=t.ticks),"tickMarks"in t&&n(0,f=t.tickMarks),"gridlines"in t&&n(1,g=t.gridlines),"formatTick"in t&&n(2,p=t.formatTick),"xTick"in t&&n(3,y=t.xTick),"yTick"in t&&n(4,$=t.yTick),"dxTick"in t&&n(5,m=t.dxTick),"dyTick"in t&&n(6,x=t.dyTick),"textAnchor"in t&&n(7,v=t.textAnchor)},t.$$.update=()=>{512&t.$$.dirty&&n(8,r="function"==typeof a.bandwidth),66304&t.$$.dirty&&n(10,i=Array.isArray(h)?h:r?a.domain():"function"==typeof h?h(a.ticks()):a.ticks(h))},[f,g,p,y,$,m,x,v,r,a,i,o,c,l,u,d,h]}class Qn extends et{constructor(t){super(),tt(this,t,Un,Xn,a,{ticks:16,tickMarks:0,gridlines:1,formatTick:2,xTick:3,yTick:4,dxTick:5,dyTick:6,textAnchor:7})}}const tr=t=>({}),er=t=>({}),nr=t=>({}),rr=t=>({});function ir(t){let e,n;return e=new Fn({props:{ticks:t[6],snapTicks:t[8]}}),{c(){Z(e.$$.fragment)},m(t,r){X(e,t,r),n=!0},p(t,n){const r={};64&n&&(r.ticks=t[6]),256&n&&(r.snapTicks=t[8]),e.$set(r)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function ar(t){let e,n;return e=new Qn({props:{ticks:t[7]}}),{c(){Z(e.$$.fragment)},m(t,r){X(e,t,r),n=!0},p(t,n){const r={};128&n&&(r.ticks=t[7]),e.$set(r)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function or(t){let e,n,r,i;const a=[cr,sr],o=[];function s(t,e){return t[11]&&t[3]?0:1}return e=s(t),n=o[e]=a[e](t),{c(){n.c(),r=k()},m(t,n){o[e].m(t,n),g(t,r,n),i=!0},p(t,i){let c=e;e=s(t),e===c?o[e].p(t,i):(F(),V(o[c],1,1,(()=>{o[c]=null})),J(),n=o[e],n?n.p(t,i):(n=o[e]=a[e](t),n.c()),Y(n,1),n.m(r.parentNode,r))},i(t){i||(Y(n),i=!0)},o(t){V(n),i=!1},d(t){o[e].d(t),t&&p(r)}}}function sr(t){let e,n;return e=new An({props:{opacity:t[12]}}),{c(){Z(e.$$.fragment)},m(t,r){X(e,t,r),n=!0},p(t,n){const r={};4096&n&&(r.opacity=t[12]),e.$set(r)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function cr(t){let e,n;return e=new On({props:{opacity:t[12]}}),{c(){Z(e.$$.fragment)},m(t,r){X(e,t,r),n=!0},p(t,n){const r={};4096&n&&(r.opacity=t[12]),e.$set(r)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function lr(t){let e,n,r,i;const a=[dr,ur],o=[];function s(t,e){return t[11]&&t[3]?0:1}return e=s(t),n=o[e]=a[e](t),{c(){n.c(),r=k()},m(t,n){o[e].m(t,n),g(t,r,n),i=!0},p(t,i){let c=e;e=s(t),e!==c&&(F(),V(o[c],1,1,(()=>{o[c]=null})),J(),n=o[e],n||(n=o[e]=a[e](t),n.c()),Y(n,1),n.m(r.parentNode,r))},i(t){i||(Y(n),i=!0)},o(t){V(n),i=!1},d(t){o[e].d(t),t&&p(r)}}}function ur(t){let e,n;return e=new kn({}),{c(){Z(e.$$.fragment)},m(t,r){X(e,t,r),n=!0},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function dr(t){let e,n;return e=new Dn({}),{c(){Z(e.$$.fragment)},m(t,r){X(e,t,r),n=!0},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function hr(t){let e,n,r,i,a,o=t[4]&&ir(t),s=t[5]&&ar(t),c=t[10]&&or(t),l=t[9]&&lr(t);return{c(){o&&o.c(),e=v(),s&&s.c(),n=v(),c&&c.c(),r=v(),l&&l.c(),i=k()},m(t,u){o&&o.m(t,u),g(t,e,u),s&&s.m(t,u),g(t,n,u),c&&c.m(t,u),g(t,r,u),l&&l.m(t,u),g(t,i,u),a=!0},p(t,a){t[4]?o?(o.p(t,a),16&a&&Y(o,1)):(o=ir(t),o.c(),Y(o,1),o.m(e.parentNode,e)):o&&(F(),V(o,1,1,(()=>{o=null})),J()),t[5]?s?(s.p(t,a),32&a&&Y(s,1)):(s=ar(t),s.c(),Y(s,1),s.m(n.parentNode,n)):s&&(F(),V(s,1,1,(()=>{s=null})),J()),t[10]?c?(c.p(t,a),1024&a&&Y(c,1)):(c=or(t),c.c(),Y(c,1),c.m(r.parentNode,r)):c&&(F(),V(c,1,1,(()=>{c=null})),J()),t[9]?l?(l.p(t,a),512&a&&Y(l,1)):(l=lr(t),l.c(),Y(l,1),l.m(i.parentNode,i)):l&&(F(),V(l,1,1,(()=>{l=null})),J())},i(t){a||(Y(o),Y(s),Y(c),Y(l),a=!0)},o(t){V(o),V(s),V(c),V(l),a=!1},d(t){o&&o.d(t),t&&p(e),s&&s.d(t),t&&p(n),c&&c.d(t),t&&p(r),l&&l.d(t),t&&p(i)}}}function fr(t){let e,n,r,i;const a=t[17].back,o=c(a,t,t[18],rr);n=new yn({props:{$$slots:{default:[hr]},$$scope:{ctx:t}}});const s=t[17].front,l=c(s,t,t[18],er);return{c(){o&&o.c(),e=v(),Z(n.$$.fragment),r=v(),l&&l.c()},m(t,a){o&&o.m(t,a),g(t,e,a),X(n,t,a),g(t,r,a),l&&l.m(t,a),i=!0},p(t,e){o&&o.p&&(!i||262144&e)&&d(o,a,t,t[18],i?u(a,t[18],e,nr):h(t[18]),rr);const r={};270328&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r),l&&l.p&&(!i||262144&e)&&d(l,s,t,t[18],i?u(s,t[18],e,tr):h(t[18]),er)},i(t){i||(Y(o,t),Y(n.$$.fragment,t),Y(l,t),i=!0)},o(t){V(o,t),V(n.$$.fragment,t),V(l,t),i=!1},d(t){o&&o.d(t),t&&p(e),U(n,t),t&&p(r),l&&l.d(t)}}}function gr(t){let e,n,r;return n=new ln({props:{padding:t[13],x:t[1],y:t[2],z:t[3],yDomain:t[16],zScale:kt(),zDomain:t[15],zRange:t[14],data:t[0],$$slots:{default:[fr]},$$scope:{ctx:t}}}),{c(){e=$("div"),Z(n.$$.fragment),b(e,"class","chart-container svelte-ivcd9i")},m(t,i){g(t,e,i),X(n,e,null),r=!0},p(t,[e]){const r={};8192&e&&(r.padding=t[13]),2&e&&(r.x=t[1]),4&e&&(r.y=t[2]),8&e&&(r.z=t[3]),65536&e&&(r.yDomain=t[16]),32768&e&&(r.zDomain=t[15]),16384&e&&(r.zRange=t[14]),1&e&&(r.data=t[0]),270328&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(Y(n.$$.fragment,t),r=!0)},o(t){V(n.$$.fragment,t),r=!1},d(t){t&&p(e),U(n)}}}function pr(t,e,n){let r,i,{$$slots:a={},$$scope:o}=e,{data:s}=e,{xKey:c="x"}=e,{yKey:l="y"}=e,{zKey:u=null}=e,{xAxis:d=!0}=e,{yAxis:h=!0}=e,{xTicks:f=4}=e,{yTicks:g=4}=e,{snapTicks:p=!0}=e,{line:y=!0}=e,{area:$=!0}=e,{stacked:m=!1}=e,{areaOpacity:x=1}=e,{padding:v={top:0,bottom:20,left:35,right:0}}=e,{colors:k=["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]}=e;const w=(t,e,n)=>n.indexOf(t)==e;function b(t,e){let n=[];return e.forEach((e=>{let r=t.filter((t=>t[c]==e)).map((t=>t[l])).reduce(((t,e)=>t+e));n.push(r)})),n}return t.$$set=t=>{"data"in t&&n(0,s=t.data),"xKey"in t&&n(1,c=t.xKey),"yKey"in t&&n(2,l=t.yKey),"zKey"in t&&n(3,u=t.zKey),"xAxis"in t&&n(4,d=t.xAxis),"yAxis"in t&&n(5,h=t.yAxis),"xTicks"in t&&n(6,f=t.xTicks),"yTicks"in t&&n(7,g=t.yTicks),"snapTicks"in t&&n(8,p=t.snapTicks),"line"in t&&n(9,y=t.line),"area"in t&&n(10,$=t.area),"stacked"in t&&n(11,m=t.stacked),"areaOpacity"in t&&n(12,x=t.areaOpacity),"padding"in t&&n(13,v=t.padding),"colors"in t&&n(14,k=t.colors),"$$scope"in t&&n(18,o=t.$$scope)},t.$$.update=()=>{2063&t.$$.dirty&&n(16,r=m&&u?[0,Math.max(...b(s,s.map((t=>t[c])).filter(w)))]:[0,Math.max(...s.map((t=>t[l])))]),9&t.$$.dirty&&n(15,i=u?s.map((t=>t[u])).filter(w):null)},[s,c,l,u,d,h,f,g,p,y,$,m,x,v,k,i,r,a,o]}class yr extends et{constructor(t){super(),tt(this,t,pr,gr,a,{data:0,xKey:1,yKey:2,zKey:3,xAxis:4,yAxis:5,xTicks:6,yTicks:7,snapTicks:8,line:9,area:10,stacked:11,areaOpacity:12,padding:13,colors:14})}get data(){return this.$$.ctx[0]}set data(t){this.$$set({data:t}),_()}get xKey(){return this.$$.ctx[1]}set xKey(t){this.$$set({xKey:t}),_()}get yKey(){return this.$$.ctx[2]}set yKey(t){this.$$set({yKey:t}),_()}get zKey(){return this.$$.ctx[3]}set zKey(t){this.$$set({zKey:t}),_()}get xAxis(){return this.$$.ctx[4]}set xAxis(t){this.$$set({xAxis:t}),_()}get yAxis(){return this.$$.ctx[5]}set yAxis(t){this.$$set({yAxis:t}),_()}get xTicks(){return this.$$.ctx[6]}set xTicks(t){this.$$set({xTicks:t}),_()}get yTicks(){return this.$$.ctx[7]}set yTicks(t){this.$$set({yTicks:t}),_()}get snapTicks(){return this.$$.ctx[8]}set snapTicks(t){this.$$set({snapTicks:t}),_()}get line(){return this.$$.ctx[9]}set line(t){this.$$set({line:t}),_()}get area(){return this.$$.ctx[10]}set area(t){this.$$set({area:t}),_()}get stacked(){return this.$$.ctx[11]}set stacked(t){this.$$set({stacked:t}),_()}get areaOpacity(){return this.$$.ctx[12]}set areaOpacity(t){this.$$set({areaOpacity:t}),_()}get padding(){return this.$$.ctx[13]}set padding(t){this.$$set({padding:t}),_()}get colors(){return this.$$.ctx[14]}set colors(t){this.$$set({colors:t}),_()}}function $r(t,e,n){const r=t.slice();return r[20]=e[n],r[22]=n,r}function mr(t,e,n){const r=t.slice();return r[23]=e[n],r[25]=n,r}function xr(t){let e,n,r,i,a;return{c(){e=m("rect"),b(e,"class","bar-marker"),b(e,"data-id",t[25]),b(e,"x",n=t[6](t[23])-t[0]/2),b(e,"y",r=t[4](t[23])),b(e,"height",i=t[5].bandwidth()),b(e,"width","2"),b(e,"fill",a=t[7](t[23]))},m(t,n){g(t,e,n)},p(t,o){67&o&&n!==(n=t[6](t[23])-t[0]/2)&&b(e,"x",n),18&o&&r!==(r=t[4](t[23]))&&b(e,"y",r),32&o&&i!==(i=t[5].bandwidth())&&b(e,"height",i),130&o&&a!==(a=t[7](t[23]))&&b(e,"fill",a)},d(t){t&&p(e)}}}function vr(t){let e,n,r,i,a,o;return{c(){e=m("rect"),b(e,"class","bar-rect"),b(e,"data-id",t[25]),b(e,"x",n=t[3].range()[0]),b(e,"y",r=t[4](t[23])),b(e,"height",i=t[5].bandwidth()),b(e,"width",a=t[6](t[23])),b(e,"fill",o=t[2].z?t[7](t[23]):t[8][0])},m(t,n){g(t,e,n)},p(t,s){8&s&&n!==(n=t[3].range()[0])&&b(e,"x",n),18&s&&r!==(r=t[4](t[23]))&&b(e,"y",r),32&s&&i!==(i=t[5].bandwidth())&&b(e,"height",i),66&s&&a!==(a=t[6](t[23]))&&b(e,"width",a),390&s&&o!==(o=t[2].z?t[7](t[23]):t[8][0])&&b(e,"fill",o)},d(t){t&&p(e)}}}function kr(t){let e;let n=function(t,e){return 0==t[22]?vr:xr}(t)(t);return{c(){n.c(),e=k()},m(t,r){n.m(t,r),g(t,e,r)},p(t,e){n.p(t,e)},d(t){n.d(t),t&&p(e)}}}function wr(t){let e,n=t[20],r=[];for(let e=0;e<n.length;e+=1)r[e]=kr(mr(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=k()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);g(t,e,n)},p(t,i){if(511&i){let a;for(n=t[20],a=0;a<n.length;a+=1){const o=mr(t,n,a);r[a]?r[a].p(o,i):(r[a]=kr(o),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(t){y(r,t),t&&p(e)}}}function br(e){let n,r=e[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=wr($r(e,r,t));return{c(){n=m("g");for(let t=0;t<i.length;t+=1)i[t].c();b(n,"class","bar-group")},m(t,e){g(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(511&e){let a;for(r=t[1],a=0;a<r.length;a+=1){const o=$r(t,r,a);i[a]?i[a].p(o,e):(i[a]=wr(o),i[a].c(),i[a].m(n,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},i:t,o:t,d(t){t&&p(n),y(i,t)}}}function zr(t,e,n){let r,i,a,o,c,l,u,d,h,f;const{data:g,xGet:p,yGet:y,zGet:$,zRange:m,zDomain:x,xScale:v,yScale:k,config:w}=S("LayerCake");s(t,g,(t=>n(19,o=t))),s(t,p,(t=>n(6,d=t))),s(t,y,(t=>n(4,l=t))),s(t,$,(t=>n(7,h=t))),s(t,m,(t=>n(8,f=t))),s(t,x,(t=>n(18,a=t))),s(t,v,(t=>n(3,c=t))),s(t,k,(t=>n(5,u=t))),s(t,w,(t=>n(2,i=t)));let{markerWidth:b=2}=e;return t.$$set=t=>{"markerWidth"in t&&n(0,b=t.markerWidth)},t.$$.update=()=>{786436&t.$$.dirty&&n(1,r=wn(o,a,i.z)),2&t.$$.dirty&&console.log(r)},[b,r,i,c,l,u,d,h,f,g,p,y,$,m,x,v,k,w,a,o]}class Mr extends et{constructor(t){super(),tt(this,t,zr,br,a,{markerWidth:0})}}function Tr(t,e,n){const r=t.slice();return r[19]=e[n],r[21]=n,r}function Nr(t,e,n){const r=t.slice();return r[22]=e[n],r[24]=n,r}function Ar(t){let e,n,r,i,a,o;return{c(){e=m("rect"),b(e,"class","bar-rect"),b(e,"data-id",t[24]),b(e,"x",n=t[2](t[21],t[24])),b(e,"y",r=t[3](t[22])),b(e,"height",i=t[4].bandwidth()),b(e,"width",a=t[1](t[22],t[21],t[24])),b(e,"fill",o=t[5](t[22]))},m(t,n){g(t,e,n)},p(t,s){4&s&&n!==(n=t[2](t[21],t[24]))&&b(e,"x",n),9&s&&r!==(r=t[3](t[22]))&&b(e,"y",r),16&s&&i!==(i=t[4].bandwidth())&&b(e,"height",i),3&s&&a!==(a=t[1](t[22],t[21],t[24]))&&b(e,"width",a),33&s&&o!==(o=t[5](t[22]))&&b(e,"fill",o)},d(t){t&&p(e)}}}function Kr(t){let e,n=t[19],r=[];for(let e=0;e<n.length;e+=1)r[e]=Ar(Nr(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=k()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);g(t,e,n)},p(t,i){if(63&i){let a;for(n=t[19],a=0;a<n.length;a+=1){const o=Nr(t,n,a);r[a]?r[a].p(o,i):(r[a]=Ar(o),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(t){y(r,t),t&&p(e)}}}function jr(e){let n,r=e[0],i=[];for(let t=0;t<r.length;t+=1)i[t]=Kr(Tr(e,r,t));return{c(){n=m("g");for(let t=0;t<i.length;t+=1)i[t].c();b(n,"class","bar-group")},m(t,e){g(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(63&e){let a;for(r=t[0],a=0;a<r.length;a+=1){const o=Tr(t,r,a);i[a]?i[a].p(o,e):(i[a]=Kr(o),i[a].c(),i[a].m(n,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},i:t,o:t,d(t){t&&p(n),y(i,t)}}}function Rr(t,e,n){let r,i,a,o,c,l,u,d,h,f,g;const{data:p,xGet:y,xScale:$,yGet:m,zGet:x,yScale:v,zDomain:k,config:w}=S("LayerCake");return s(t,p,(t=>n(18,d=t))),s(t,y,(t=>n(14,o=t))),s(t,$,(t=>n(15,c=t))),s(t,m,(t=>n(3,h=t))),s(t,x,(t=>n(5,g=t))),s(t,v,(t=>n(4,f=t))),s(t,k,(t=>n(17,u=t))),s(t,w,(t=>n(16,l=t))),t.$$.update=()=>{458752&t.$$.dirty&&n(0,r=bn(d,u,l.x,l.z)),49153&t.$$.dirty&&n(2,i=(t,e)=>0==t?c(0):o(r[t-1][e])),16385&t.$$.dirty&&n(1,a=(t,e,n)=>0==e?o(t):o(t)-o(r[e-1][n]))},[r,a,i,h,f,g,p,y,$,m,x,v,k,w,o,c,l,u,d]}class Sr extends et{constructor(t){super(),tt(this,t,Rr,jr,a,{})}}const Dr=t=>({}),Cr=t=>({}),qr=t=>({}),Er=t=>({});function Lr(t){let e,n;return e=new Fn({props:{ticks:t[6],snapTicks:t[7]}}),{c(){Z(e.$$.fragment)},m(t,r){X(e,t,r),n=!0},p(t,n){const r={};64&n&&(r.ticks=t[6]),128&n&&(r.snapTicks=t[7]),e.$set(r)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Or(t){let e,n;return e=new Qn({props:{gridlines:!1}}),{c(){Z(e.$$.fragment)},m(t,r){X(e,t,r),n=!0},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Pr(t){let e,n;return e=new Mr({}),{c(){Z(e.$$.fragment)},m(t,r){X(e,t,r),n=!0},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Gr(t){let e,n;return e=new Sr({}),{c(){Z(e.$$.fragment)},m(t,r){X(e,t,r),n=!0},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Br(t){let e,n,r,i,a,o,s=t[4]&&Lr(t),c=t[5]&&Or();const l=[Gr,Pr],u=[];function d(t,e){return t[8]?0:1}return r=d(t),i=u[r]=l[r](t),{c(){s&&s.c(),e=v(),c&&c.c(),n=v(),i.c(),a=k()},m(t,i){s&&s.m(t,i),g(t,e,i),c&&c.m(t,i),g(t,n,i),u[r].m(t,i),g(t,a,i),o=!0},p(t,o){t[4]?s?(s.p(t,o),16&o&&Y(s,1)):(s=Lr(t),s.c(),Y(s,1),s.m(e.parentNode,e)):s&&(F(),V(s,1,1,(()=>{s=null})),J()),t[5]?c?32&o&&Y(c,1):(c=Or(),c.c(),Y(c,1),c.m(n.parentNode,n)):c&&(F(),V(c,1,1,(()=>{c=null})),J());let h=r;r=d(t),r!==h&&(F(),V(u[h],1,1,(()=>{u[h]=null})),J(),i=u[r],i||(i=u[r]=l[r](t),i.c()),Y(i,1),i.m(a.parentNode,a))},i(t){o||(Y(s),Y(c),Y(i),o=!0)},o(t){V(s),V(c),V(i),o=!1},d(t){s&&s.d(t),t&&p(e),c&&c.d(t),t&&p(n),u[r].d(t),t&&p(a)}}}function _r(t){let e,n,r,i;const a=t[14].back,o=c(a,t,t[15],Er);n=new yn({props:{$$slots:{default:[Br]},$$scope:{ctx:t}}});const s=t[14].front,l=c(s,t,t[15],Cr);return{c(){o&&o.c(),e=v(),Z(n.$$.fragment),r=v(),l&&l.c()},m(t,a){o&&o.m(t,a),g(t,e,a),X(n,t,a),g(t,r,a),l&&l.m(t,a),i=!0},p(t,e){o&&o.p&&(!i||32768&e)&&d(o,a,t,t[15],i?u(a,t[15],e,qr):h(t[15]),Er);const r={};33264&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r),l&&l.p&&(!i||32768&e)&&d(l,s,t,t[15],i?u(s,t[15],e,Dr):h(t[15]),Cr)},i(t){i||(Y(o,t),Y(n.$$.fragment,t),Y(l,t),i=!0)},o(t){V(o,t),V(n.$$.fragment,t),V(l,t),i=!1},d(t){o&&o.d(t),t&&p(e),U(n,t),t&&p(r),l&&l.d(t)}}}function Wr(t){let e,n,r;return n=new ln({props:{padding:t[9],x:t[1],y:t[2],z:t[3],xDomain:t[13],yDomain:t[12],yScale:wt().paddingInner([.05]).round(!0),zScale:kt(),zDomain:t[11],zRange:t[10],data:t[0],$$slots:{default:[_r]},$$scope:{ctx:t}}}),{c(){e=$("div"),Z(n.$$.fragment),b(e,"class","chart-container svelte-ivcd9i")},m(t,i){g(t,e,i),X(n,e,null),r=!0},p(t,[e]){const r={};512&e&&(r.padding=t[9]),2&e&&(r.x=t[1]),4&e&&(r.y=t[2]),8&e&&(r.z=t[3]),8192&e&&(r.xDomain=t[13]),4096&e&&(r.yDomain=t[12]),2048&e&&(r.zDomain=t[11]),1024&e&&(r.zRange=t[10]),1&e&&(r.data=t[0]),33264&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(Y(n.$$.fragment,t),r=!0)},o(t){V(n.$$.fragment,t),r=!1},d(t){t&&p(e),U(n)}}}function Hr(t,e,n){let r,i,a,{$$slots:o={},$$scope:s}=e,{data:c}=e,{xKey:l="x"}=e,{yKey:u="y"}=e,{zKey:d=null}=e,{xAxis:h=!0}=e,{yAxis:f=!0}=e,{xTicks:g=4}=e,{snapTicks:p=!1}=e,{stacked:y=!1}=e,{padding:$={top:0,bottom:20,left:35,right:0}}=e,{colors:m=["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]}=e;const x=(t,e,n)=>n.indexOf(t)==e;function v(t,e){let n=[];return e.forEach((e=>{let r=t.filter((t=>t[l]==e)).map((t=>t[u])).reduce(((t,e)=>t+e));n.push(r)})),n}return t.$$set=t=>{"data"in t&&n(0,c=t.data),"xKey"in t&&n(1,l=t.xKey),"yKey"in t&&n(2,u=t.yKey),"zKey"in t&&n(3,d=t.zKey),"xAxis"in t&&n(4,h=t.xAxis),"yAxis"in t&&n(5,f=t.yAxis),"xTicks"in t&&n(6,g=t.xTicks),"snapTicks"in t&&n(7,p=t.snapTicks),"stacked"in t&&n(8,y=t.stacked),"padding"in t&&n(9,$=t.padding),"colors"in t&&n(10,m=t.colors),"$$scope"in t&&n(15,s=t.$$scope)},t.$$.update=()=>{267&t.$$.dirty&&n(13,r=y&&d?[0,Math.max(...v(c,c.map((t=>t[l])).filter(x)))]:[0,Math.max(...c.map((t=>t[l])))]),5&t.$$.dirty&&n(12,i=c.map((t=>t[u])).filter(x)),9&t.$$.dirty&&n(11,a=d?c.map((t=>t[d])).filter(x):null)},[c,l,u,d,h,f,g,p,y,$,m,a,i,r,o,s]}class Ir extends et{constructor(t){super(),tt(this,t,Hr,Wr,a,{data:0,xKey:1,yKey:2,zKey:3,xAxis:4,yAxis:5,xTicks:6,snapTicks:7,stacked:8,padding:9,colors:10})}get data(){return this.$$.ctx[0]}set data(t){this.$$set({data:t}),_()}get xKey(){return this.$$.ctx[1]}set xKey(t){this.$$set({xKey:t}),_()}get yKey(){return this.$$.ctx[2]}set yKey(t){this.$$set({yKey:t}),_()}get zKey(){return this.$$.ctx[3]}set zKey(t){this.$$set({zKey:t}),_()}get xAxis(){return this.$$.ctx[4]}set xAxis(t){this.$$set({xAxis:t}),_()}get yAxis(){return this.$$.ctx[5]}set yAxis(t){this.$$set({yAxis:t}),_()}get xTicks(){return this.$$.ctx[6]}set xTicks(t){this.$$set({xTicks:t}),_()}get snapTicks(){return this.$$.ctx[7]}set snapTicks(t){this.$$set({snapTicks:t}),_()}get stacked(){return this.$$.ctx[8]}set stacked(t){this.$$set({stacked:t}),_()}get padding(){return this.$$.ctx[9]}set padding(t){this.$$set({padding:t}),_()}get colors(){return this.$$.ctx[10]}set colors(t){this.$$set({colors:t}),_()}}function Fr(t,e,n){const r=t.slice();return r[22]=e[n],r[24]=n,r}function Jr(t,e,n){const r=t.slice();return r[25]=e[n],r[27]=n,r}function Yr(t){let e,n,r,i,a;return{c(){e=m("rect"),b(e,"class","column-marker"),b(e,"data-id",t[27]),b(e,"x",n=t[7].bandwidth?t[2](t[25]):t[2](t[25])[0]),b(e,"y",r=t[1](t[25])-t[0]/2),b(e,"width",i=t[7].bandwidth?t[7].bandwidth():t[5](t[25])),b(e,"height",t[0]),b(e,"fill",a=t[8](t[25]))},m(t,n){g(t,e,n)},p(t,o){196&o&&n!==(n=t[7].bandwidth?t[2](t[25]):t[2](t[25])[0])&&b(e,"x",n),67&o&&r!==(r=t[1](t[25])-t[0]/2)&&b(e,"y",r),224&o&&i!==(i=t[7].bandwidth?t[7].bandwidth():t[5](t[25]))&&b(e,"width",i),1&o&&b(e,"height",t[0]),320&o&&a!==(a=t[8](t[25]))&&b(e,"fill",a)},d(t){t&&p(e)}}}function Vr(t){let e,n,r,i,a,o;return{c(){e=m("rect"),b(e,"class","column-rect"),b(e,"data-id",t[27]),b(e,"x",n=t[7].bandwidth?t[2](t[25]):t[2](t[25])[0]),b(e,"y",r=t[1](t[25])),b(e,"width",i=t[7].bandwidth?t[7].bandwidth():t[5](t[25])),b(e,"height",a=t[4](t[25])),b(e,"fill",o=t[3].z?t[8](t[25]):t[9][0])},m(t,n){g(t,e,n)},p(t,s){196&s&&n!==(n=t[7].bandwidth?t[2](t[25]):t[2](t[25])[0])&&b(e,"x",n),66&s&&r!==(r=t[1](t[25]))&&b(e,"y",r),224&s&&i!==(i=t[7].bandwidth?t[7].bandwidth():t[5](t[25]))&&b(e,"width",i),80&s&&a!==(a=t[4](t[25]))&&b(e,"height",a),840&s&&o!==(o=t[3].z?t[8](t[25]):t[9][0])&&b(e,"fill",o)},d(t){t&&p(e)}}}function Zr(t){let e;let n=function(t,e){return 0==t[24]?Vr:Yr}(t)(t);return{c(){n.c(),e=k()},m(t,r){n.m(t,r),g(t,e,r)},p(t,e){n.p(t,e)},d(t){n.d(t),t&&p(e)}}}function Xr(t){let e,n=t[22],r=[];for(let e=0;e<n.length;e+=1)r[e]=Zr(Jr(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=k()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);g(t,e,n)},p(t,i){if(1023&i){let a;for(n=t[22],a=0;a<n.length;a+=1){const o=Jr(t,n,a);r[a]?r[a].p(o,i):(r[a]=Zr(o),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(t){y(r,t),t&&p(e)}}}function Ur(e){let n,r=e[6],i=[];for(let t=0;t<r.length;t+=1)i[t]=Xr(Fr(e,r,t));return{c(){n=m("g");for(let t=0;t<i.length;t+=1)i[t].c();b(n,"class","column-group")},m(t,e){g(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(1023&e){let a;for(r=t[6],a=0;a<r.length;a+=1){const o=Fr(t,r,a);i[a]?i[a].p(o,e):(i[a]=Xr(o),i[a].c(),i[a].m(n,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},i:t,o:t,d(t){t&&p(n),y(i,t)}}}function Qr(t,e,n){let r,i,a,o,c,l,u,d,h,f,g,p;const{data:y,xGet:$,xScale:m,yGet:x,yRange:v,zGet:k,zRange:w,zDomain:b,config:z}=S("LayerCake");s(t,y,(t=>n(21,h=t))),s(t,$,(t=>n(2,l=t))),s(t,m,(t=>n(7,f=t))),s(t,x,(t=>n(1,o=t))),s(t,v,(t=>n(19,c=t))),s(t,k,(t=>n(8,g=t))),s(t,w,(t=>n(9,p=t))),s(t,b,(t=>n(20,d=t))),s(t,z,(t=>n(3,u=t)));let{markerWidth:M=2}=e;return t.$$set=t=>{"markerWidth"in t&&n(0,M=t.markerWidth)},t.$$.update=()=>{3145736&t.$$.dirty&&n(6,r=wn(h,d,u.z)),4&t.$$.dirty&&n(5,i=t=>{const e=l(t);return Math.max(0,e[1]-e[0])}),524290&t.$$.dirty&&n(4,a=t=>c[0]-o(t))},[M,o,l,u,a,i,r,f,g,p,y,$,m,x,v,k,w,b,z,c,d,h]}class ti extends et{constructor(t){super(),tt(this,t,Qr,Ur,a,{markerWidth:0})}}function ei(t,e,n){const r=t.slice();return r[18]=e[n],r[20]=n,r}function ni(t,e,n){const r=t.slice();return r[21]=e[n],r[23]=n,r}function ri(t){let e,n,r,i,a,o;return{c(){e=m("rect"),b(e,"class","column-rect"),b(e,"data-id",t[23]),b(e,"x",n=t[3](t[21])),b(e,"y",r=t[1](t[21])),b(e,"height",i=t[2](t[21],t[20],t[23])),b(e,"width",a=t[4].bandwidth()),b(e,"fill",o=t[5](t[21]))},m(t,n){g(t,e,n)},p(t,s){9&s&&n!==(n=t[3](t[21]))&&b(e,"x",n),3&s&&r!==(r=t[1](t[21]))&&b(e,"y",r),5&s&&i!==(i=t[2](t[21],t[20],t[23]))&&b(e,"height",i),16&s&&a!==(a=t[4].bandwidth())&&b(e,"width",a),33&s&&o!==(o=t[5](t[21]))&&b(e,"fill",o)},d(t){t&&p(e)}}}function ii(t){let e,n=t[18],r=[];for(let e=0;e<n.length;e+=1)r[e]=ri(ni(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=k()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);g(t,e,n)},p(t,i){if(63&i){let a;for(n=t[18],a=0;a<n.length;a+=1){const o=ni(t,n,a);r[a]?r[a].p(o,i):(r[a]=ri(o),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(t){y(r,t),t&&p(e)}}}function ai(e){let n,r=e[0],i=[];for(let t=0;t<r.length;t+=1)i[t]=ii(ei(e,r,t));return{c(){n=m("g");for(let t=0;t<i.length;t+=1)i[t].c();b(n,"class","column-group")},m(t,e){g(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(63&e){let a;for(r=t[0],a=0;a<r.length;a+=1){const o=ei(t,r,a);i[a]?i[a].p(o,e):(i[a]=ii(o),i[a].c(),i[a].m(n,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},i:t,o:t,d(t){t&&p(n),y(i,t)}}}function oi(t,e,n){let r,i,a,o,c,l,u,d,h,f;const{data:g,xGet:p,xScale:y,yGet:$,yScale:m,zGet:x,zDomain:v,config:k}=S("LayerCake");return s(t,g,(t=>n(17,u=t))),s(t,p,(t=>n(3,d=t))),s(t,y,(t=>n(4,h=t))),s(t,$,(t=>n(1,a=t))),s(t,m,(t=>n(14,o=t))),s(t,x,(t=>n(5,f=t))),s(t,v,(t=>n(16,l=t))),s(t,k,(t=>n(15,c=t))),t.$$.update=()=>{229376&t.$$.dirty&&n(0,r=bn(u,l,c.y,c.z)),16387&t.$$.dirty&&n(2,i=(t,e,n)=>0==e?o(0)-a(t):a(r[e-1][n])-a(t))},[r,a,i,d,h,f,g,p,y,$,m,x,v,k,o,c,l,u]}class si extends et{constructor(t){super(),tt(this,t,oi,ai,a,{})}}const ci=t=>({}),li=t=>({}),ui=t=>({}),di=t=>({});function hi(t){let e,n;return e=new Fn({props:{gridlines:!1}}),{c(){Z(e.$$.fragment)},m(t,r){X(e,t,r),n=!0},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function fi(t){let e,n;return e=new Qn({props:{ticks:t[6]}}),{c(){Z(e.$$.fragment)},m(t,r){X(e,t,r),n=!0},p(t,n){const r={};64&n&&(r.ticks=t[6]),e.$set(r)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function gi(t){let e,n;return e=new ti({}),{c(){Z(e.$$.fragment)},m(t,r){X(e,t,r),n=!0},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function pi(t){let e,n;return e=new si({}),{c(){Z(e.$$.fragment)},m(t,r){X(e,t,r),n=!0},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function yi(t){let e,n,r,i,a,o,s=t[4]&&hi(),c=t[5]&&fi(t);const l=[pi,gi],u=[];function d(t,e){return t[7]?0:1}return r=d(t),i=u[r]=l[r](t),{c(){s&&s.c(),e=v(),c&&c.c(),n=v(),i.c(),a=k()},m(t,i){s&&s.m(t,i),g(t,e,i),c&&c.m(t,i),g(t,n,i),u[r].m(t,i),g(t,a,i),o=!0},p(t,o){t[4]?s?16&o&&Y(s,1):(s=hi(),s.c(),Y(s,1),s.m(e.parentNode,e)):s&&(F(),V(s,1,1,(()=>{s=null})),J()),t[5]?c?(c.p(t,o),32&o&&Y(c,1)):(c=fi(t),c.c(),Y(c,1),c.m(n.parentNode,n)):c&&(F(),V(c,1,1,(()=>{c=null})),J());let h=r;r=d(t),r!==h&&(F(),V(u[h],1,1,(()=>{u[h]=null})),J(),i=u[r],i||(i=u[r]=l[r](t),i.c()),Y(i,1),i.m(a.parentNode,a))},i(t){o||(Y(s),Y(c),Y(i),o=!0)},o(t){V(s),V(c),V(i),o=!1},d(t){s&&s.d(t),t&&p(e),c&&c.d(t),t&&p(n),u[r].d(t),t&&p(a)}}}function $i(t){let e,n,r,i;const a=t[13].back,o=c(a,t,t[14],di);n=new yn({props:{$$slots:{default:[yi]},$$scope:{ctx:t}}});const s=t[13].front,l=c(s,t,t[14],li);return{c(){o&&o.c(),e=v(),Z(n.$$.fragment),r=v(),l&&l.c()},m(t,a){o&&o.m(t,a),g(t,e,a),X(n,t,a),g(t,r,a),l&&l.m(t,a),i=!0},p(t,e){o&&o.p&&(!i||16384&e)&&d(o,a,t,t[14],i?u(a,t[14],e,ui):h(t[14]),di);const r={};16624&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r),l&&l.p&&(!i||16384&e)&&d(l,s,t,t[14],i?u(s,t[14],e,ci):h(t[14]),li)},i(t){i||(Y(o,t),Y(n.$$.fragment,t),Y(l,t),i=!0)},o(t){V(o,t),V(n.$$.fragment,t),V(l,t),i=!1},d(t){o&&o.d(t),t&&p(e),U(n,t),t&&p(r),l&&l.d(t)}}}function mi(t){let e,n,r;return n=new ln({props:{padding:t[8],x:t[1],y:t[2],z:t[3],xDomain:t[12],yDomain:t[11],xScale:wt().paddingInner([.05]).round(!0),zScale:kt(),zDomain:t[10],zRange:t[9],data:t[0],$$slots:{default:[$i]},$$scope:{ctx:t}}}),{c(){e=$("div"),Z(n.$$.fragment),b(e,"class","chart-container svelte-ivcd9i")},m(t,i){g(t,e,i),X(n,e,null),r=!0},p(t,[e]){const r={};256&e&&(r.padding=t[8]),2&e&&(r.x=t[1]),4&e&&(r.y=t[2]),8&e&&(r.z=t[3]),4096&e&&(r.xDomain=t[12]),2048&e&&(r.yDomain=t[11]),1024&e&&(r.zDomain=t[10]),512&e&&(r.zRange=t[9]),1&e&&(r.data=t[0]),16624&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(Y(n.$$.fragment,t),r=!0)},o(t){V(n.$$.fragment,t),r=!1},d(t){t&&p(e),U(n)}}}function xi(t,e,n){let r,i,a,{$$slots:o={},$$scope:s}=e,{data:c}=e,{xKey:l="x"}=e,{yKey:u="y"}=e,{zKey:d=null}=e,{xAxis:h=!0}=e,{yAxis:f=!0}=e,{yTicks:g=4}=e,{stacked:p=!1}=e,{padding:y={top:0,bottom:20,left:35,right:0}}=e,{colors:$=["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]}=e;const m=(t,e,n)=>n.indexOf(t)==e;function x(t,e){let n=[];return e.forEach((e=>{let r=t.filter((t=>t[u]==e)).map((t=>t[l])).reduce(((t,e)=>t+e));n.push(r)})),n}return t.$$set=t=>{"data"in t&&n(0,c=t.data),"xKey"in t&&n(1,l=t.xKey),"yKey"in t&&n(2,u=t.yKey),"zKey"in t&&n(3,d=t.zKey),"xAxis"in t&&n(4,h=t.xAxis),"yAxis"in t&&n(5,f=t.yAxis),"yTicks"in t&&n(6,g=t.yTicks),"stacked"in t&&n(7,p=t.stacked),"padding"in t&&n(8,y=t.padding),"colors"in t&&n(9,$=t.colors),"$$scope"in t&&n(14,s=t.$$scope)},t.$$.update=()=>{3&t.$$.dirty&&n(12,r=c.map((t=>t[l])).filter(m)),133&t.$$.dirty&&n(11,i=p&&u?[0,Math.max(...x(c,c.map((t=>t[u])).filter(m)))]:[0,Math.max(...c.map((t=>t[u])))]),9&t.$$.dirty&&n(10,a=d?c.map((t=>t[d])).filter(m):null)},[c,l,u,d,h,f,g,p,y,$,a,i,r,o,s]}class vi extends et{constructor(t){super(),tt(this,t,xi,mi,a,{data:0,xKey:1,yKey:2,zKey:3,xAxis:4,yAxis:5,yTicks:6,stacked:7,padding:8,colors:9})}get data(){return this.$$.ctx[0]}set data(t){this.$$set({data:t}),_()}get xKey(){return this.$$.ctx[1]}set xKey(t){this.$$set({xKey:t}),_()}get yKey(){return this.$$.ctx[2]}set yKey(t){this.$$set({yKey:t}),_()}get zKey(){return this.$$.ctx[3]}set zKey(t){this.$$set({zKey:t}),_()}get xAxis(){return this.$$.ctx[4]}set xAxis(t){this.$$set({xAxis:t}),_()}get yAxis(){return this.$$.ctx[5]}set yAxis(t){this.$$set({yAxis:t}),_()}get yTicks(){return this.$$.ctx[6]}set yTicks(t){this.$$set({yTicks:t}),_()}get stacked(){return this.$$.ctx[7]}set stacked(t){this.$$set({stacked:t}),_()}get padding(){return this.$$.ctx[8]}set padding(t){this.$$set({padding:t}),_()}get colors(){return this.$$.ctx[9]}set colors(t){this.$$set({colors:t}),_()}}var ki=[{year:2017,value:320,group:"apples"},{year:2017,value:480,group:"bananas"},{year:2017,value:640,group:"cherries"},{year:2017,value:400,group:"dates"},{year:2018,value:640,group:"apples"},{year:2018,value:960,group:"bananas"},{year:2018,value:640,group:"cherries"},{year:2018,value:400,group:"dates"},{year:2019,value:1600,group:"apples"},{year:2019,value:1440,group:"bananas"},{year:2019,value:960,group:"cherries"},{year:2019,value:400,group:"dates"},{year:2020,value:3840,group:"apples"},{year:2020,value:1920,group:"bananas"},{year:2020,value:960,group:"cherries"},{year:2020,value:400,group:"dates"}];function wi(e){let n,r,i,a,o,s,c,l,u,d,h,y,m,x,k,w,z,M,T,N,A,K,j,R,S,D,C,q,E,L,O,P,G,B,_,W,H,I,F,J,Q,tt,et,nt,rt,it,at,ot,st,ct,lt,ut,dt,ht,ft,gt,pt,yt,$t,mt,xt,vt,kt,wt,bt,zt;return u=new yr({props:{data:ki.filter(bi),xKey:"year",yKey:"value",areaOpacity:.3}}),k=new yr({props:{data:ki,xKey:"year",yKey:"value",zKey:"group",area:!1}}),A=new yr({props:{data:ki,xKey:"year",yKey:"value",zKey:"group",stacked:!0,line:!1}}),C=new yr({props:{data:ki,xKey:"year",yKey:"value",zKey:"group",stacked:!0,areaOpacity:.3}}),G=new Ir({props:{data:ki.filter(zi),xKey:"value",yKey:"year"}}),F=new Ir({props:{data:ki,xKey:"value",yKey:"year",zKey:"group"}}),rt=new Ir({props:{data:ki,xKey:"value",yKey:"year",zKey:"group",stacked:!0}}),lt=new vi({props:{data:ki.filter(Mi),xKey:"year",yKey:"value"}}),pt=new vi({props:{data:ki,xKey:"year",yKey:"value",zKey:"group"}}),kt=new vi({props:{data:ki,xKey:"year",yKey:"value",zKey:"group",stacked:!0}}),{c(){n=$("section"),n.innerHTML='<div class="wrapper svelte-jnq8k"><h1>ONS Svelte Charts Library</h1> \n    <p>Below are a series of charts built using Layer Cake, a responsive charts/graphics framework for Svelte. The charts are all responsive in that they fit to the size (width and height) of their html container element, and will resize automatically when the screen/window is resized. The charts below can be used in the following ways:</p> \n    <ol><li>The charts and/or their sub-components (axes etc) can be imported into Svelte projects via NPM.</li> \n    \t<li>The charts also have compiled versions that can be embedded in plain (&quot;vanilla&quot;) javascript projects.</li> \n    \t<li>This whole repository can be downloaded/cloned and hacked to create variations of the charts.</li></ol></div>',r=v(),i=$("section"),a=$("div"),o=$("div"),s=$("h2"),s.textContent="Line chart with area",c=v(),l=$("div"),Z(u.$$.fragment),d=v(),h=$("div"),y=$("h2"),y.textContent="Multi-line chart",m=v(),x=$("div"),Z(k.$$.fragment),w=v(),z=$("div"),M=$("h2"),M.textContent="Stacked area chart",T=v(),N=$("div"),Z(A.$$.fragment),K=v(),j=$("div"),R=$("h2"),R.textContent="Stacked area chart with lines",S=v(),D=$("div"),Z(C.$$.fragment),q=v(),E=$("div"),L=$("h2"),L.textContent="Bar chart",O=v(),P=$("div"),Z(G.$$.fragment),B=v(),_=$("div"),W=$("h2"),W.textContent="Bar chart with comparison markers",H=v(),I=$("div"),Z(F.$$.fragment),J=v(),Q=$("div"),tt=$("h2"),tt.textContent="Stacked bar chart",et=v(),nt=$("div"),Z(rt.$$.fragment),it=v(),at=$("div"),ot=$("h2"),ot.textContent="Column chart",st=v(),ct=$("div"),Z(lt.$$.fragment),ut=v(),dt=$("div"),ht=$("h2"),ht.textContent="Column chart with comparison markers",ft=v(),gt=$("div"),Z(pt.$$.fragment),yt=v(),$t=$("div"),mt=$("h2"),mt.textContent="Stacked column chart",xt=v(),vt=$("div"),Z(kt.$$.fragment),wt=v(),bt=$("section"),bt.innerHTML='<div class="wrapper svelte-jnq8k"><h2 class="svelte-jnq8k">Features</h2> \n    <p>In all of the above use cases, each top-level chart component (eg. bar chart, scatter chart) is able to take a series of parameters (data, colours, etc) to  initialise and customise it.</p> \n\t\t<p>As far as possible these parameters are consistent across chart types, and generally there are sensible default values for all parameters other than &quot;data&quot;.</p> \n\t\t<h2 class="svelte-jnq8k">Examples of usage</h2> \n\t\t<p>You can see examples of how these charts can be used in a Svelte project in this REPL, and how they can be used in a plain/vanilla javascript project in <a href="https://codepen.io/bothness/pen/RwVJvav" target="_blank">this CodePen</a>.</p> \n\t\t<h2 class="svelte-jnq8k">In progress</h2> \n\t\t<p>It is the intention to translate all of the most useful charts from Layer Cake&#39;s examples into components, as well as a number of other custom charts (eg. spine charts). For each of the charts, it is the intention to support the following functionalities:</p> \n\t\t<ul><li>Every chart type to support a standard Tidy Data format.</li> \n\t\t\t<li>To include optional title, legend and footnote types that can be added to charts.</li> \n\t\t\t<li>To include optional hover and click-to-select functionality on all relevant chart types with custom events.</li> \n\t\t\t<li>To include options/methods for inline labelling and annotations.</li> \n\t\t\t<li>To include optional prefixes and suffixes for axis labels.</li> \n\t\t\t<li>Colour by group (z parameter) with colors = [array], and colours for hovered and highlighted/selected data points.</li> \n\t\t\t<li>Animated transitions when data or keys change (which can be enabled/disabled with animation = true/false).</li> \n\t\t\t<li>To group chart similar charts in a logical way to improve ease of use and allow for custom combinations and animated transitions (eg. scatter + beeswarm or line + area).</li> \n\t\t\t<li>Possibility to add custom LayerCake SVG/HTML/Canvas layers in front or behind standard layers of any chart.</li></ul></div>',b(n,"class","svelte-jnq8k"),b(s,"class","svelte-jnq8k"),b(l,"class","chart svelte-jnq8k"),b(y,"class","svelte-jnq8k"),b(x,"class","chart svelte-jnq8k"),b(M,"class","svelte-jnq8k"),b(N,"class","chart svelte-jnq8k"),b(R,"class","svelte-jnq8k"),b(D,"class","chart svelte-jnq8k"),b(L,"class","svelte-jnq8k"),b(P,"class","chart svelte-jnq8k"),b(W,"class","svelte-jnq8k"),b(I,"class","chart svelte-jnq8k"),b(tt,"class","svelte-jnq8k"),b(nt,"class","chart svelte-jnq8k"),b(ot,"class","svelte-jnq8k"),b(ct,"class","chart svelte-jnq8k"),b(ht,"class","svelte-jnq8k"),b(gt,"class","chart svelte-jnq8k"),b(mt,"class","svelte-jnq8k"),b(vt,"class","chart svelte-jnq8k"),b(a,"class","grid svelte-jnq8k"),b(i,"class","svelte-jnq8k"),b(bt,"class","svelte-jnq8k")},m(t,e){g(t,n,e),g(t,r,e),g(t,i,e),f(i,a),f(a,o),f(o,s),f(o,c),f(o,l),X(u,l,null),f(a,d),f(a,h),f(h,y),f(h,m),f(h,x),X(k,x,null),f(a,w),f(a,z),f(z,M),f(z,T),f(z,N),X(A,N,null),f(a,K),f(a,j),f(j,R),f(j,S),f(j,D),X(C,D,null),f(a,q),f(a,E),f(E,L),f(E,O),f(E,P),X(G,P,null),f(a,B),f(a,_),f(_,W),f(_,H),f(_,I),X(F,I,null),f(a,J),f(a,Q),f(Q,tt),f(Q,et),f(Q,nt),X(rt,nt,null),f(a,it),f(a,at),f(at,ot),f(at,st),f(at,ct),X(lt,ct,null),f(a,ut),f(a,dt),f(dt,ht),f(dt,ft),f(dt,gt),X(pt,gt,null),f(a,yt),f(a,$t),f($t,mt),f($t,xt),f($t,vt),X(kt,vt,null),g(t,wt,e),g(t,bt,e),zt=!0},p:t,i(t){zt||(Y(u.$$.fragment,t),Y(k.$$.fragment,t),Y(A.$$.fragment,t),Y(C.$$.fragment,t),Y(G.$$.fragment,t),Y(F.$$.fragment,t),Y(rt.$$.fragment,t),Y(lt.$$.fragment,t),Y(pt.$$.fragment,t),Y(kt.$$.fragment,t),zt=!0)},o(t){V(u.$$.fragment,t),V(k.$$.fragment,t),V(A.$$.fragment,t),V(C.$$.fragment,t),V(G.$$.fragment,t),V(F.$$.fragment,t),V(rt.$$.fragment,t),V(lt.$$.fragment,t),V(pt.$$.fragment,t),V(kt.$$.fragment,t),zt=!1},d(t){t&&p(n),t&&p(r),t&&p(i),U(u),U(k),U(A),U(C),U(G),U(F),U(rt),U(lt),U(pt),U(kt),t&&p(wt),t&&p(bt)}}}const bi=t=>"apples"==t.group,zi=t=>"apples"==t.group,Mi=t=>"apples"==t.group;var Ti=!1;return new class extends et{constructor(t){super(),tt(this,t,null,wi,a,{})}}({target:document.body,hydrate:Ti})}();
//# sourceMappingURL=bundle.js.map
