var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function s(t){t.forEach(r)}function a(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function c(t,e,n){t.$$.on_destroy.push(l(e,n))}function u(t,e,n,r){if(t){const i=h(t,e,n,r);return t[0](i)}}function h(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function d(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}function f(t,e,n,r,i,s){if(i){const a=h(e,n,r,s);t.p(a,i)}}function p(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}const g="undefined"!=typeof window;let $=g?()=>window.performance.now():()=>Date.now(),m=g?t=>requestAnimationFrame(t):t;const y=new Set;function x(t){y.forEach((e=>{e.c(t)||(y.delete(e),e.f())})),0!==y.size&&m(x)}function v(t,e){t.appendChild(e)}function k(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode.removeChild(t)}function w(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _(t){return document.createElement(t)}function z(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function M(t){return document.createTextNode(t)}function T(){return M(" ")}function A(){return M("")}function K(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function N(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function S(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function R(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}let D,W;function C(){if(void 0===D){D=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){D=!0}}return D}function E(t,e,n){t.classList[n?"add":"remove"](e)}function L(t){W=t}function P(){if(!W)throw new Error("Function called outside component initialization");return W}function j(t){return P().$$.context.get(t)}const O=[],B=[],I=[],F=[],G=Promise.resolve();let q=!1;function H(t){I.push(t)}let U=!1;const Y=new Set;function J(){if(!U){U=!0;do{for(let t=0;t<O.length;t+=1){const e=O[t];L(e),Z(e.$$)}for(L(null),O.length=0;B.length;)B.pop()();for(let t=0;t<I.length;t+=1){const e=I[t];Y.has(e)||(Y.add(e),e())}I.length=0}while(O.length);for(;F.length;)F.pop()();q=!1,U=!1,Y.clear()}}function Z(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(H)}}const V=new Set;let X;function Q(){X={r:0,c:[],p:X}}function tt(){X.r||s(X.c),X=X.p}function et(t,e){t&&t.i&&(V.delete(t),t.i(e))}function nt(t,e,n,r){if(t&&t.o){if(V.has(t))return;V.add(t),X.c.push((()=>{V.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function rt(t){t&&t.c()}function it(t,e,n,i){const{fragment:o,on_mount:l,on_destroy:c,after_update:u}=t.$$;o&&o.m(e,n),i||H((()=>{const e=l.map(r).filter(a);c?c.push(...e):s(e),t.$$.on_mount=[]})),u.forEach(H)}function st(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function at(t,e){-1===t.$$.dirty[0]&&(O.push(t),q||(q=!0,G.then(J)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ot(e,n,r,a,o,l,c,u=[-1]){const h=W;L(e);const d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:o,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:n.context||[]),callbacks:i(),dirty:u,skip_bound:!1,root:n.target||h.$$.root};c&&c(d.root);let f=!1;if(d.ctx=r?r(e,n.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return d.ctx&&o(d.ctx[t],d.ctx[t]=i)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](i),f&&at(e,t)),n})):[],d.update(),f=!0,s(d.before_update),d.fragment=!!a&&a(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(b)}else d.fragment&&d.fragment.c();n.intro&&et(e.$$.fragment),it(e,n.target,n.anchor,n.customElement),J()}L(h)}class lt{$destroy(){st(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ct=[];function ut(e,n=t){let r;const i=new Set;function s(t){if(o(e,t)&&(e=t,r)){const t=!ct.length;for(const t of i)t[1](),ct.push(t,e);if(t){for(let t=0;t<ct.length;t+=2)ct[t][0](ct[t+1]);ct.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(a,o=t){const l=[a,o];return i.add(l),1===i.size&&(r=n(s)||t),a(e),()=>{i.delete(l),0===i.size&&(r(),r=null)}}}}function ht(e,n,r){const i=!Array.isArray(e),o=i?[e]:e,c=n.length<2;return{subscribe:ut(r,(e=>{let r=!1;const u=[];let h=0,d=t;const f=()=>{if(h)return;d();const r=n(i?u[0]:u,e);c?e(r):d=a(r)?r:t},p=o.map(((t,e)=>l(t,(t=>{u[e]=t,h&=~(1<<e),r&&f()}),(()=>{h|=1<<e}))));return r=!0,f(),function(){s(p),d()}})).subscribe}}function dt(t){return 0===(e=t)||e?Array.isArray(t)?e=>t.map((t=>"function"!=typeof t?e[t]:t(e))):"function"!=typeof t?e=>e[t]:t:null;var e}function ft(t,e={}){return function(t){const e={};for(const n of t){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{0:t,1:r}=n;Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:r})}return e}(Object.entries(t).filter((([t,n])=>void 0!==n&&void 0===e[t])))}function pt(t,e){if(!Array.isArray(t))throw new TypeError("The first argument of calcExtents() must be an array.");if(Array.isArray(e)||null==e)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},r=Object.keys(e),i=r.length;let s,a,o,l,c,u,h,d;const f=t.length;for(s=0;s<i;s+=1){for(l=r[s],h=e[l],c=null,u=null,a=0;a<f;a+=1)if(d=h(t[a]),Array.isArray(d)){const t=d.length;for(o=0;o<t;o+=1)void 0!==d[o]&&null!==d[o]&&!1===Number.isNaN(d[o])&&((null===c||d[o]<c)&&(c=d[o]),(null===u||d[o]>u)&&(u=d[o]))}else null!=d&&!1===Number.isNaN(d)&&((null===c||d<c)&&(c=d),(null===u||d>u)&&(u=d));n[l]=[c,u]}return n}function gt(t=[],e){return!0===Array.isArray(e)?e.map(((e,n)=>null===e?t[n]:e)):t}function $t(t){return function([e,n]){return e?gt(e[t],n):n}}function mt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function yt(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const s=r+i>>>1;n(t[s],e)<0?r=s+1:i=s}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>mt(t(e),n)}(t)),{left:r,center:function(t,n,i,s){null==i&&(i=0),null==s&&(s=t.length);const a=r(t,n,i,s-1);return a>i&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const s=r+i>>>1;n(t[s],e)>0?i=s:r=s+1}return r}}}const xt=yt(mt).right;yt((function(t){return null===t?NaN:+t})).center;var vt=xt,kt=Math.sqrt(50),bt=Math.sqrt(10),wt=Math.sqrt(2);function _t(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=kt?10:s>=bt?5:s>=wt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=kt?10:s>=bt?5:s>=wt?2:1)}function zt(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Mt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const Tt=Symbol("implicit");function At(){var t=new Map,e=[],n=[],r=Tt;function i(i){var s=i+"",a=t.get(s);if(!a){if(r!==Tt)return r;t.set(s,a=e.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const r of n){const n=r+"";t.has(n)||t.set(n,e.push(r))}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return At(e,n).unknown(r)},Mt.apply(i,arguments),i}function Kt(){var t,e,n=At().unknown(void 0),r=n.domain,i=n.range,s=0,a=1,o=!1,l=0,c=0,u=.5;function h(){var n=r().length,h=a<s,d=h?a:s,f=h?s:a;t=(f-d)/Math.max(1,n-l+2*c),o&&(t=Math.floor(t)),d+=(f-d-t*(n-l))*u,e=t*(1-l),o&&(d=Math.round(d),e=Math.round(e));var p=zt(n).map((function(e){return d+t*e}));return i(h?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),h()):r()},n.range=function(t){return arguments.length?([s,a]=t,s=+s,a=+a,h()):[s,a]},n.rangeRound=function(t){return[s,a]=t,s=+s,a=+a,o=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(o=!!t,h()):o},n.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),h()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),h()):l},n.paddingOuter=function(t){return arguments.length?(c=+t,h()):c},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),h()):u},n.copy=function(){return Kt(r(),[s,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},Mt.apply(h(),arguments)}function Nt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function St(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Rt(){}var Dt=.7,Wt=1/Dt,Ct="\\s*([+-]?\\d+)\\s*",Et="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pt=/^#([0-9a-f]{3,8})$/,jt=new RegExp("^rgb\\("+[Ct,Ct,Ct]+"\\)$"),Ot=new RegExp("^rgb\\("+[Lt,Lt,Lt]+"\\)$"),Bt=new RegExp("^rgba\\("+[Ct,Ct,Ct,Et]+"\\)$"),It=new RegExp("^rgba\\("+[Lt,Lt,Lt,Et]+"\\)$"),Ft=new RegExp("^hsl\\("+[Et,Lt,Lt]+"\\)$"),Gt=new RegExp("^hsla\\("+[Et,Lt,Lt,Et]+"\\)$"),qt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ht(){return this.rgb().formatHex()}function Ut(){return this.rgb().formatRgb()}function Yt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Pt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Jt(e):3===n?new Qt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Zt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Zt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=jt.exec(t))?new Qt(e[1],e[2],e[3],1):(e=Ot.exec(t))?new Qt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Bt.exec(t))?Zt(e[1],e[2],e[3],e[4]):(e=It.exec(t))?Zt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ft.exec(t))?re(e[1],e[2]/100,e[3]/100,1):(e=Gt.exec(t))?re(e[1],e[2]/100,e[3]/100,e[4]):qt.hasOwnProperty(t)?Jt(qt[t]):"transparent"===t?new Qt(NaN,NaN,NaN,0):null}function Jt(t){return new Qt(t>>16&255,t>>8&255,255&t,1)}function Zt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Qt(t,e,n,r)}function Vt(t){return t instanceof Rt||(t=Yt(t)),t?new Qt((t=t.rgb()).r,t.g,t.b,t.opacity):new Qt}function Xt(t,e,n,r){return 1===arguments.length?Vt(t):new Qt(t,e,n,null==r?1:r)}function Qt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function te(){return"#"+ne(this.r)+ne(this.g)+ne(this.b)}function ee(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ne(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function re(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new se(t,e,n,r)}function ie(t){if(t instanceof se)return new se(t.h,t.s,t.l,t.opacity);if(t instanceof Rt||(t=Yt(t)),!t)return new se;if(t instanceof se)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(a=e===s?(n-r)/o+6*(n<r):n===s?(r-e)/o+2:(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new se(a,o,l,t.opacity)}function se(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ae(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Nt(Rt,Yt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ht,formatHex:Ht,formatHsl:function(){return ie(this).formatHsl()},formatRgb:Ut,toString:Ut}),Nt(Qt,Xt,St(Rt,{brighter:function(t){return t=null==t?Wt:Math.pow(Wt,t),new Qt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Dt:Math.pow(Dt,t),new Qt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:te,formatHex:te,formatRgb:ee,toString:ee})),Nt(se,(function(t,e,n,r){return 1===arguments.length?ie(t):new se(t,e,n,null==r?1:r)}),St(Rt,{brighter:function(t){return t=null==t?Wt:Math.pow(Wt,t),new se(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Dt:Math.pow(Dt,t),new se(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Qt(ae(t>=240?t-240:t+120,i,r),ae(t,i,r),ae(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var oe=t=>()=>t;function le(t){return 1==(t=+t)?ce:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):oe(isNaN(e)?n:e)}}function ce(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):oe(isNaN(t)?e:t)}var ue=function t(e){var n=le(e);function r(t,e){var r=n((t=Xt(t)).r,(e=Xt(e)).r),i=n(t.g,e.g),s=n(t.b,e.b),a=ce(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=s(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function he(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(s){for(n=0;n<r;++n)i[n]=t[n]*(1-s)+e[n]*s;return i}}function de(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,s=new Array(i),a=new Array(r);for(n=0;n<i;++n)s[n]=xe(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=s[n](t);return a}}function fe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function pe(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ge(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=xe(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var $e=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,me=new RegExp($e.source,"g");function ye(t,e){var n,r,i,s=$e.lastIndex=me.lastIndex=0,a=-1,o=[],l=[];for(t+="",e+="";(n=$e.exec(t))&&(r=me.exec(e));)(i=r.index)>s&&(i=e.slice(s,i),o[a]?o[a]+=i:o[++a]=i),(n=n[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,l.push({i:a,x:pe(n,r)})),s=me.lastIndex;return s<e.length&&(i=e.slice(s),o[a]?o[a]+=i:o[++a]=i),o.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)o[(n=l[r]).i]=n.x(t);return o.join("")})}function xe(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?oe(e):("number"===i?pe:"string"===i?(n=Yt(e))?(e=n,ue):ye:e instanceof Yt?ue:e instanceof Date?fe:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?de:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?ge:pe:he))(t,e)}function ve(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ke(t){return+t}var be=[0,1];function we(t){return t}function _e(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function ze(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=_e(i,r),s=n(a,s)):(r=_e(r,i),s=n(s,a)),function(t){return s(r(t))}}function Me(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=_e(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(e){var n=vt(t,e,1,r)-1;return s[n](i[n](e))}}function Te(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ae(){var t,e,n,r,i,s,a=be,o=be,l=xe,c=we;function u(){var t,e,n,l=Math.min(a.length,o.length);return c!==we&&(t=a[0],e=a[l-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=l>2?Me:ze,i=s=null,h}function h(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),o,l)))(t(c(e)))}return h.invert=function(n){return c(e((s||(s=r(o,a.map(t),pe)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,ke),u()):a.slice()},h.range=function(t){return arguments.length?(o=Array.from(t),u()):o.slice()},h.rangeRound=function(t){return o=Array.from(t),l=ve,u()},h.clamp=function(t){return arguments.length?(c=!!t||we,u()):c!==we},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function Ke(){return Ae()(we,we)}function Ne(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Se(t){return(t=Ne(Math.abs(t)))?t[1]:NaN}var Re,De=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function We(t){if(!(e=De.exec(t)))throw new Error("invalid format: "+t);var e;return new Ce({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ce(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ee(t,e){var n=Ne(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}We.prototype=Ce.prototype,Ce.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Le={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ee(100*t,e),r:Ee,s:function(t,e){var n=Ne(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(Re=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Ne(t,Math.max(0,e+s-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Pe(t){return t}var je,Oe,Be,Ie=Array.prototype.map,Fe=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ge(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Pe:(e=Ie.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,s=[],a=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(t.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[a=(a+1)%e.length];return s.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",s=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",o=void 0===t.numerals?Pe:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Ie.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=We(t)).fill,n=t.align,h=t.sign,d=t.symbol,f=t.zero,p=t.width,g=t.comma,$=t.precision,m=t.trim,y=t.type;"n"===y?(g=!0,y="g"):Le[y]||(void 0===$&&($=12),m=!0,y="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var x="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",v="$"===d?s:/[%p]/.test(y)?l:"",k=Le[y],b=/[defgprs%]/.test(y);function w(t){var i,s,l,d=x,w=v;if("c"===y)w=k(t)+w,t="";else{var _=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:k(Math.abs(t),$),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),_&&0==+t&&"+"!==h&&(_=!1),d=(_?"("===h?h:c:"-"===h||"("===h?"":h)+d,w=("s"===y?Fe[8+Re/3]:"")+w+(_&&"("===h?")":""),b)for(i=-1,s=t.length;++i<s;)if(48>(l=t.charCodeAt(i))||l>57){w=(46===l?a+t.slice(i+1):t.slice(i))+w,t=t.slice(0,i);break}}g&&!f&&(t=r(t,1/0));var z=d.length+t.length+w.length,M=z<p?new Array(p-z+1).join(e):"";switch(g&&f&&(t=r(M+t,M.length?p-w.length:1/0),M=""),n){case"<":t=d+t+w+M;break;case"=":t=d+M+t+w;break;case"^":t=M.slice(0,z=M.length>>1)+d+t+w+M.slice(z);break;default:t=M+d+t+w}return o(t)}return $=void 0===$?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,$)):Math.max(0,Math.min(20,$)),w.toString=function(){return t+""},w}return{format:h,formatPrefix:function(t,e){var n=h(((t=We(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Se(e)/3))),i=Math.pow(10,-r),s=Fe[8+r/3];return function(t){return n(i*t)+s}}}}function qe(t,e,n,r){var i,s=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=kt?i*=10:s>=bt?i*=5:s>=wt&&(i*=2),e<t?-i:i}(t,e,n);switch((r=We(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Se(e)/3)))-Se(Math.abs(t)))}(s,a))||(r.precision=i),Be(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Se(e)-Se(t))+1}(s,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Se(Math.abs(t)))}(s))||(r.precision=i-2*("%"===r.type))}return Oe(r)}function He(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,s,a,o=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=_t(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),s=new Array(i=Math.ceil(e-t+1));++o<i;)s[o]=(t+o)*a;else for(a=-a,t=Math.ceil(t*a),e=Math.floor(e*a),s=new Array(i=Math.ceil(e-t+1));++o<i;)s[o]=(t+o)/a;return r&&s.reverse(),s}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return qe(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,s=e(),a=0,o=s.length-1,l=s[a],c=s[o],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=o,o=i);u-- >0;){if((i=_t(l,c,n))===r)return s[a]=l,s[o]=c,e(s);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Ue(){var t=Ke();return t.copy=function(){return Te(t,Ue())},Mt.apply(t,arguments),He(t)}function Ye(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Je(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ze(t){return t<0?-t*t:t*t}function Ve(t){var e=t(we,we),n=1;function r(){return 1===n?t(we,we):.5===n?t(Je,Ze):t(Ye(n),Ye(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},He(e)}function Xe(){var t=Ve(Ae());return t.copy=function(){return Te(t,Xe()).exponent(t.exponent())},Mt.apply(t,arguments),t}je=Ge({thousands:",",grouping:[3],currency:["$",""]}),Oe=je.format,Be=je.formatPrefix;var Qe={x:Ue,y:Ue,z:Ue,r:function(){return Xe.apply(null,arguments).exponent(.5)}};function tn(t){return t}function en(t){return e=>Math.log(t*e)}function nn(t){return e=>t*Math.exp(e)}function rn(t){return e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}function sn(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function an(t,e){if("function"!=typeof t.range)throw new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(e))return t.domain();2!==t.domain().length&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",t.domain()),2!==t.range().length&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",t.range());const{lift:n,ground:r}=function(t){const e=function(t){return t.constant?"symlog":t.base?"log":t.exponent?.5===t.exponent()?"sqrt":"pow":"other"}(t);if("log"===e){const n=Math.sign(t.domain()[0]);return{lift:en(n),ground:nn(n),scaleType:e}}if("pow"===e){const t=1;return{lift:sn(t),ground:sn(1/t),scaleType:e}}if("sqrt"===e){const t=.5;return{lift:sn(t),ground:sn(1/t),scaleType:e}}if("symlog"===e){const t=1;return{lift:(n=t,t=>Math.sign(t)*Math.log1p(Math.abs(t/n))),ground:rn(t),scaleType:e}}var n;return{lift:tn,ground:tn,scaleType:e}}(t),i=t.domain()[0],s="[object Date]"===Object.prototype.toString.call(i),[a,o]=t.domain().map((t=>n(s?t.getTime():t))),[l,c]=t.range(),u=e[0]||0,h=e[1]||0,d=(o-a)/(Math.abs(c-l)-u-h);return[a-u*d,h*d+o].map((t=>r(s?new Date(t):t)))}function on(t){return function([e,n,r,i,s,a,o,l,c,u]){if(null===n)return null;const h=function(t,e,n,r,i,s){return i?"function"==typeof i?i({width:e,height:n}):i:function(t,e,n,r,i){let s,a;return!0===i?(s=0,a=100):(s="r"===t?1:0,a="y"===t?n:"r"===t?25:e),!0===r?[a,s]:[s,a]}(t,e,n,r,s)}(t,o,l,a,c,u),d=e===Qe[t]?e():e.copy();return d.domain(gt(n[t],r)).range(h),i&&d.domain(an(d,i)),!0===s&&("function"==typeof d.nice?d.nice():console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),d}}function ln([t,e]){return n=>{const r=t(n);return Array.isArray(r)?r.map((t=>e(t))):e(r)}}function cn([t]){if("function"==typeof t){if("function"==typeof t.range)return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}var un={x:!1,y:!0,z:!1,r:!1};const hn=t=>({element:4&t[0],width:64&t[0],height:128&t[0],aspectRatio:256&t[0],containerWidth:512&t[0],containerHeight:1024&t[0]}),dn=t=>({element:t[2],width:t[6],height:t[7],aspectRatio:t[8],containerWidth:t[9],containerHeight:t[10]});function fn(t){let e,n,r,i;const s=t[54].default,a=u(s,t,t[53],dn);return{c(){e=_("div"),a&&a.c(),N(e,"class","layercake-container svelte-vhzpsp"),N(e,"style",n="\n\t\t\tposition:"+t[5]+";\n\t\t\t"+("absolute"===t[5]?"top:0;right:0;bottom:0;left:0;":"")+"\n\t\t\t"+(!1===t[4]?"pointer-events:none;":"")+"\n\t\t"),H((()=>t[56].call(e)))},m(n,s){k(n,e,s),a&&a.m(e,null),t[55](e),r=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=_("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=C();let i;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=K(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{i=K(n.contentWindow,"resize",e)}),v(t,n),()=>{(r||i&&n.contentWindow)&&i(),b(n)}}(e,t[56].bind(e)),i=!0},p(t,r){a&&a.p&&(!i||1988&r[0]|4194304&r[1])&&f(a,s,t,t[53],i?d(s,t[53],r,hn):p(t[53]),dn),(!i||48&r[0]&&n!==(n="\n\t\t\tposition:"+t[5]+";\n\t\t\t"+("absolute"===t[5]?"top:0;right:0;bottom:0;left:0;":"")+"\n\t\t\t"+(!1===t[4]?"pointer-events:none;":"")+"\n\t\t"))&&N(e,"style",n)},i(t){i||(et(a,t),i=!0)},o(t){nt(a,t),i=!1},d(n){n&&b(e),a&&a.d(n),t[55](null),r()}}}function pn(t){let e,n,r=(!0===t[3]||"undefined"!=typeof window)&&fn(t);return{c(){r&&r.c(),e=A()},m(t,i){r&&r.m(t,i),k(t,e,i),n=!0},p(t,n){!0===t[3]||"undefined"!=typeof window?r?(r.p(t,n),8&n[0]&&et(r,1)):(r=fn(t),r.c(),et(r,1),r.m(e.parentNode,e)):r&&(Q(),nt(r,1,1,(()=>{r=null})),tt())},i(t){n||(et(r),n=!0)},o(t){nt(r),n=!1},d(t){r&&r.d(t),t&&b(e)}}}function gn(t,e,n){let r,i,s,a,o,l,{$$slots:u={},$$scope:h}=e,{ssr:d=!1}=e,{pointerEvents:f=!0}=e,{position:p="relative"}=e,{percentRange:g=!1}=e,{width:$}=e,{height:m}=e,{containerWidth:y=$||100}=e,{containerHeight:x=m||100}=e,{element:v}=e,{x:k}=e,{y:b}=e,{z:w}=e,{r:_}=e,{custom:z={}}=e,{data:M=[]}=e,{xDomain:T}=e,{yDomain:A}=e,{zDomain:K}=e,{rDomain:N}=e,{xNice:S=!1}=e,{yNice:R=!1}=e,{zNice:D=!1}=e,{rNice:W=!1}=e,{xReverse:C=un.x}=e,{yReverse:E=un.y}=e,{zReverse:L=un.z}=e,{rReverse:j=un.r}=e,{xPadding:O}=e,{yPadding:I}=e,{zPadding:F}=e,{rPadding:G}=e,{xScale:q=Qe.x}=e,{yScale:H=Qe.y}=e,{zScale:U=Qe.y}=e,{rScale:Y=Qe.r}=e,{xRange:J}=e,{yRange:Z}=e,{zRange:V}=e,{rRange:X}=e,{padding:Q={}}=e,{extents:tt={}}=e,{flatData:et}=e;const nt={},rt=ut(),it=ut();c(t,it,(t=>n(9,o=t)));const st=ut();c(t,st,(t=>n(10,l=t)));const at=ut(),ot=ut(),lt=ut(),ct=ut(),gt=ut(),mt=ut(),yt=ut(),xt=ut(),vt=ut(),kt=ut(),bt=ut(),wt=ut(),_t=ut(),zt=ut(),Mt=ut(),Tt=ut(),At=ut(),Kt=ut(),Nt=ut(),St=ut(),Rt=ut(),Dt=ut(),Wt=ut(),Ct=ut(),Et=ut(),Lt=ut(),Pt=ut(),jt=ut(),Ot=ut(),Bt=ut(),It=ut(),Ft=ut(),Gt=ut(),qt=ut(nt),Ht=ht([at,ot,lt,ct],(([t,e,n,r])=>{const i={};return t&&(i.x=t),e&&(i.y=e),n&&(i.z=n),r&&(i.r=r),i})),Ut=ht([It,it,st],(([t])=>Object.assign({top:0,right:0,bottom:0,left:0},t))),Yt=ht([it,st,Ut],(([t,e,n])=>{const r={};return r.top=n.top,r.right=t-n.right,r.bottom=e-n.bottom,r.left=n.left,r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<=0&&console.error("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),r.height<=0&&console.error("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),r})),Jt=ht([Yt],(([t])=>t.width));c(t,Jt,(t=>n(6,i=t)));const Zt=ht([Yt],(([t])=>t.height));c(t,Zt,(t=>n(7,s=t)));const Vt=ht([Ft,Ht,Gt],(([t,e,n])=>({...pt(t,ft(e,n)),...n}))),Xt=ht([Vt,yt],$t("x")),Qt=ht([Vt,xt],$t("y")),te=ht([Vt,vt],$t("z")),ee=ht([Vt,kt],$t("r")),ne=ht([Wt,Vt,Xt,Nt,bt,Mt,Jt,Zt,Pt,rt],on("x")),re=ht([at,ne],ln),ie=ht([Ct,Vt,Qt,St,wt,Tt,Jt,Zt,jt,rt],on("y")),se=ht([ot,ie],ln),ae=ht([Et,Vt,te,Rt,_t,At,Jt,Zt,Ot,rt],on("z")),oe=ht([lt,ae],ln),le=ht([Lt,Vt,ee,Dt,zt,Kt,Jt,Zt,Bt,rt],on("r")),ce=ht([ct,le],ln),ue=ht([ne],cn),he=ht([ie],cn),de=ht([ae],cn),fe=ht([le],cn),pe=ht([Jt,Zt],(([t,e,n])=>e/n));return c(t,pe,(t=>n(8,a=t))),t.$$set=t=>{"ssr"in t&&n(3,d=t.ssr),"pointerEvents"in t&&n(4,f=t.pointerEvents),"position"in t&&n(5,p=t.position),"percentRange"in t&&n(16,g=t.percentRange),"width"in t&&n(17,$=t.width),"height"in t&&n(18,m=t.height),"containerWidth"in t&&n(0,y=t.containerWidth),"containerHeight"in t&&n(1,x=t.containerHeight),"element"in t&&n(2,v=t.element),"x"in t&&n(19,k=t.x),"y"in t&&n(20,b=t.y),"z"in t&&n(21,w=t.z),"r"in t&&n(22,_=t.r),"custom"in t&&n(23,z=t.custom),"data"in t&&n(24,M=t.data),"xDomain"in t&&n(25,T=t.xDomain),"yDomain"in t&&n(26,A=t.yDomain),"zDomain"in t&&n(27,K=t.zDomain),"rDomain"in t&&n(28,N=t.rDomain),"xNice"in t&&n(29,S=t.xNice),"yNice"in t&&n(30,R=t.yNice),"zNice"in t&&n(31,D=t.zNice),"rNice"in t&&n(32,W=t.rNice),"xReverse"in t&&n(33,C=t.xReverse),"yReverse"in t&&n(34,E=t.yReverse),"zReverse"in t&&n(35,L=t.zReverse),"rReverse"in t&&n(36,j=t.rReverse),"xPadding"in t&&n(37,O=t.xPadding),"yPadding"in t&&n(38,I=t.yPadding),"zPadding"in t&&n(39,F=t.zPadding),"rPadding"in t&&n(40,G=t.rPadding),"xScale"in t&&n(41,q=t.xScale),"yScale"in t&&n(42,H=t.yScale),"zScale"in t&&n(43,U=t.zScale),"rScale"in t&&n(44,Y=t.rScale),"xRange"in t&&n(45,J=t.xRange),"yRange"in t&&n(46,Z=t.yRange),"zRange"in t&&n(47,V=t.zRange),"rRange"in t&&n(48,X=t.rRange),"padding"in t&&n(49,Q=t.padding),"extents"in t&&n(50,tt=t.extents),"flatData"in t&&n(51,et=t.flatData),"$$scope"in t&&n(53,h=t.$$scope)},t.$$.update=()=>{524288&t.$$.dirty[0]&&k&&(nt.x=k),1048576&t.$$.dirty[0]&&b&&(nt.y=b),2097152&t.$$.dirty[0]&&w&&(nt.z=w),4194304&t.$$.dirty[0]&&_&&(nt.r=_),33554432&t.$$.dirty[0]&&T&&(nt.xDomain=T),67108864&t.$$.dirty[0]&&A&&(nt.yDomain=A),134217728&t.$$.dirty[0]&&K&&(nt.zDomain=K),268435456&t.$$.dirty[0]&&N&&(nt.rDomain=N),16384&t.$$.dirty[1]&&J&&(nt.xRange=J),32768&t.$$.dirty[1]&&Z&&(nt.yRange=Z),65536&t.$$.dirty[1]&&V&&(nt.zRange=V),131072&t.$$.dirty[1]&&X&&(nt.rRange=X),65536&t.$$.dirty[0]&&rt.set(g),1&t.$$.dirty[0]&&it.set(y),2&t.$$.dirty[0]&&st.set(x),524288&t.$$.dirty[0]&&at.set(dt(k)),1048576&t.$$.dirty[0]&&ot.set(dt(b)),2097152&t.$$.dirty[0]&&lt.set(dt(w)),4194304&t.$$.dirty[0]&&ct.set(dt(_)),33554432&t.$$.dirty[0]&&yt.set(T),67108864&t.$$.dirty[0]&&xt.set(A),134217728&t.$$.dirty[0]&&vt.set(K),268435456&t.$$.dirty[0]&&kt.set(N),8388608&t.$$.dirty[0]&&gt.set(z),16777216&t.$$.dirty[0]&&mt.set(M),536870912&t.$$.dirty[0]&&bt.set(S),1073741824&t.$$.dirty[0]&&wt.set(R),1&t.$$.dirty[1]&&_t.set(D),2&t.$$.dirty[1]&&zt.set(W),4&t.$$.dirty[1]&&Mt.set(C),8&t.$$.dirty[1]&&Tt.set(E),16&t.$$.dirty[1]&&At.set(L),32&t.$$.dirty[1]&&Kt.set(j),64&t.$$.dirty[1]&&Nt.set(O),128&t.$$.dirty[1]&&St.set(I),256&t.$$.dirty[1]&&Rt.set(F),512&t.$$.dirty[1]&&Dt.set(G),1024&t.$$.dirty[1]&&Wt.set(q),2048&t.$$.dirty[1]&&Ct.set(H),4096&t.$$.dirty[1]&&Et.set(U),8192&t.$$.dirty[1]&&Lt.set(Y),16384&t.$$.dirty[1]&&Pt.set(J),32768&t.$$.dirty[1]&&jt.set(Z),65536&t.$$.dirty[1]&&Ot.set(V),131072&t.$$.dirty[1]&&Bt.set(X),262144&t.$$.dirty[1]&&It.set(Q),524288&t.$$.dirty[1]&&Gt.set(ft(tt)),16777216&t.$$.dirty[0]|1048576&t.$$.dirty[1]&&Ft.set(et||M),2097152&t.$$.dirty[1]&&function(t,e){P().$$.context.set(t,e)}("LayerCake",r)},n(52,r={activeGetters:Ht,width:Jt,height:Zt,percentRange:rt,aspectRatio:pe,containerWidth:it,containerHeight:st,x:at,y:ot,z:lt,r:ct,custom:gt,data:mt,xNice:bt,yNice:wt,zNice:_t,rNice:zt,xReverse:Mt,yReverse:Tt,zReverse:At,rReverse:Kt,xPadding:Nt,yPadding:St,zPadding:Rt,rPadding:Dt,padding:Ut,flatData:Ft,extents:Vt,xDomain:Xt,yDomain:Qt,zDomain:te,rDomain:ee,xRange:ue,yRange:he,zRange:de,rRange:fe,config:qt,xScale:ne,xGet:re,yScale:ie,yGet:se,zScale:ae,zGet:oe,rScale:le,rGet:ce}),[y,x,v,d,f,p,i,s,a,o,l,it,st,Jt,Zt,pe,g,$,m,k,b,w,_,z,M,T,A,K,N,S,R,D,W,C,E,L,j,O,I,F,G,q,H,U,Y,J,Z,V,X,Q,tt,et,r,h,u,function(t){B[t?"unshift":"push"]((()=>{v=t,n(2,v)}))},function(){y=this.clientWidth,x=this.clientHeight,n(0,y),n(1,x)}]}class $n extends lt{constructor(t){super(),ot(this,t,gn,pn,o,{ssr:3,pointerEvents:4,position:5,percentRange:16,width:17,height:18,containerWidth:0,containerHeight:1,element:2,x:19,y:20,z:21,r:22,custom:23,data:24,xDomain:25,yDomain:26,zDomain:27,rDomain:28,xNice:29,yNice:30,zNice:31,rNice:32,xReverse:33,yReverse:34,zReverse:35,rReverse:36,xPadding:37,yPadding:38,zPadding:39,rPadding:40,xScale:41,yScale:42,zScale:43,rScale:44,xRange:45,yRange:46,zRange:47,rRange:48,padding:49,extents:50,flatData:51},null,[-1,-1,-1,-1])}}const mn=t=>({element:1&t}),yn=t=>({element:t[0]}),xn=t=>({element:1&t}),vn=t=>({element:t[0]});function kn(t){let e,n,r,i,s,a;const o=t[13].defs,l=u(o,t,t[12],vn),c=t[13].default,h=u(c,t,t[12],yn);return{c(){e=z("svg"),n=z("defs"),l&&l.c(),r=z("g"),h&&h.c(),N(r,"class","layercake-layout-svg_g"),N(r,"transform",i="translate("+t[6].left+", "+t[6].top+")"),N(e,"class","layercake-layout-svg svelte-u84d8d"),N(e,"viewBox",t[1]),N(e,"width",t[4]),N(e,"height",t[5]),N(e,"style",s=""+(t[2]+t[3]))},m(i,s){k(i,e,s),v(e,n),l&&l.m(n,null),v(e,r),h&&h.m(r,null),t[14](e),a=!0},p(t,[n]){l&&l.p&&(!a||4097&n)&&f(l,o,t,t[12],a?d(o,t[12],n,xn):p(t[12]),vn),h&&h.p&&(!a||4097&n)&&f(h,c,t,t[12],a?d(c,t[12],n,mn):p(t[12]),yn),(!a||64&n&&i!==(i="translate("+t[6].left+", "+t[6].top+")"))&&N(r,"transform",i),(!a||2&n)&&N(e,"viewBox",t[1]),(!a||16&n)&&N(e,"width",t[4]),(!a||32&n)&&N(e,"height",t[5]),(!a||12&n&&s!==(s=""+(t[2]+t[3])))&&N(e,"style",s)},i(t){a||(et(l,t),et(h,t),a=!0)},o(t){nt(l,t),nt(h,t),a=!1},d(n){n&&b(e),l&&l.d(n),h&&h.d(n),t[14](null)}}}function bn(t,e,n){let r,i,s,{$$slots:a={},$$scope:o}=e,{element:l}=e,{viewBox:u}=e,{zIndex:h}=e,{pointerEvents:d}=e,f="",p="";const{containerWidth:g,containerHeight:$,padding:m}=j("LayerCake");return c(t,g,(t=>n(4,r=t))),c(t,$,(t=>n(5,i=t))),c(t,m,(t=>n(6,s=t))),t.$$set=t=>{"element"in t&&n(0,l=t.element),"viewBox"in t&&n(1,u=t.viewBox),"zIndex"in t&&n(10,h=t.zIndex),"pointerEvents"in t&&n(11,d=t.pointerEvents),"$$scope"in t&&n(12,o=t.$$scope)},t.$$.update=()=>{1024&t.$$.dirty&&n(2,f=void 0!==h?`z-index:${h};`:""),2048&t.$$.dirty&&n(3,p=!1===d?"pointer-events:none;":"")},[l,u,f,p,r,i,s,g,$,m,h,d,o,a,function(t){B[t?"unshift":"push"]((()=>{l=t,n(0,l)}))}]}class wn extends lt{constructor(t){super(),ot(this,t,bn,kn,o,{element:0,viewBox:1,zIndex:10,pointerEvents:11})}}function _n(t,e,n){let r=[];return n?e.forEach((e=>{r.push(t.filter((t=>t[n]==e)))})):r=[t],r}function zn(t,e,n,r){let i=[],s=JSON.parse(JSON.stringify(t.filter((t=>t[r]==e[0]))));return s.forEach((t=>t[n]=0)),e.forEach((e=>{let a=JSON.parse(JSON.stringify(t.filter((t=>t[r]==e))));a.forEach(((t,e)=>{t[n]+=s[e][n],s[e][n]=t[n]})),i.push(a)})),i}function Mn(t,e,n){const r=t.slice();return r[15]=e[n],r}function Tn(t){let e,n,r;return{c(){e=z("path"),N(e,"class","path-line svelte-iw3qkv"),N(e,"d",n=t[3](t[15])),N(e,"stroke",r=t[1].z?t[4](t[15][0]):t[1].zRange[0]),N(e,"stroke-width",t[0])},m(t,n){k(t,e,n)},p(t,i){12&i&&n!==(n=t[3](t[15]))&&N(e,"d",n),22&i&&r!==(r=t[1].z?t[4](t[15][0]):t[1].zRange[0])&&N(e,"stroke",r),1&i&&N(e,"stroke-width",t[0])},d(t){t&&b(e)}}}function An(e){let n,r=e[2],i=[];for(let t=0;t<r.length;t+=1)i[t]=Tn(Mn(e,r,t));return{c(){n=z("g");for(let t=0;t<i.length;t+=1)i[t].c();N(n,"class","line-group")},m(t,e){k(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(31&e){let s;for(r=t[2],s=0;s<r.length;s+=1){const a=Mn(t,r,s);i[s]?i[s].p(a,e):(i[s]=Tn(a),i[s].c(),i[s].m(n,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=r.length}},i:t,o:t,d(t){t&&b(n),w(i,t)}}}function Kn(t,e,n){let r,i,s,a,o,l,u;const{data:h,xGet:d,yGet:f,zGet:p,zDomain:g,config:$}=j("LayerCake");c(t,h,(t=>n(13,a=t))),c(t,d,(t=>n(12,s=t))),c(t,f,(t=>n(11,i=t))),c(t,p,(t=>n(4,u=t))),c(t,g,(t=>n(14,l=t))),c(t,$,(t=>n(1,o=t)));let m,{lineWidth:y=2.5}=e;return t.$$set=t=>{"lineWidth"in t&&n(0,y=t.lineWidth)},t.$$.update=()=>{if(24578&t.$$.dirty&&n(2,m=_n(a,l,o.z)),8194&t.$$.dirty&&a)if(o.z){let t=[];o.zDomain.forEach((e=>{t.push(a.filter((t=>t[o.z]==e)))})),n(2,m=t)}else n(2,m=[a]);6144&t.$$.dirty&&n(3,r=t=>"M"+t.map((t=>s(t)+","+i(t))).join("L"))},[y,o,m,r,u,h,d,f,p,g,$,i,s,a,l]}class Nn extends lt{constructor(t){super(),ot(this,t,Kn,An,o,{lineWidth:0})}}function Sn(t,e,n){const r=t.slice();return r[24]=e[n],r[26]=n,r}function Rn(t){let e,n,r;return{c(){e=z("path"),N(e,"class","path-area"),N(e,"d",n=t[3](t[24],t[26])),N(e,"fill",r=t[2].z?t[4](t[24][0]):t[5][0]),N(e,"opacity",t[0])},m(t,n){k(t,e,n)},p(t,i){10&i&&n!==(n=t[3](t[24],t[26]))&&N(e,"d",n),54&i&&r!==(r=t[2].z?t[4](t[24][0]):t[5][0])&&N(e,"fill",r),1&i&&N(e,"opacity",t[0])},d(t){t&&b(e)}}}function Dn(e){let n,r=e[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=Rn(Sn(e,r,t));return{c(){n=z("g");for(let t=0;t<i.length;t+=1)i[t].c();N(n,"class","area-group")},m(t,e){k(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(63&e){let s;for(r=t[1],s=0;s<r.length;s+=1){const a=Sn(t,r,s);i[s]?i[s].p(a,e):(i[s]=Rn(a),i[s].c(),i[s].m(n,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=r.length}},i:t,o:t,d(t){t&&b(n),w(i,t)}}}function Wn(t,e,n){let r,i,s,a,o,l,u,h,d,f,p,g;const{data:$,xGet:m,yGet:y,xScale:x,yScale:v,z:k,zGet:b,zDomain:w,zRange:_,extents:z,config:M}=j("LayerCake");c(t,$,(t=>n(22,f=t))),c(t,m,(t=>n(17,a=t))),c(t,y,(t=>n(16,s=t))),c(t,x,(t=>n(19,l=t))),c(t,v,(t=>n(20,u=t))),c(t,b,(t=>n(4,p=t))),c(t,w,(t=>n(21,d=t))),c(t,_,(t=>n(5,g=t))),c(t,z,(t=>n(18,o=t))),c(t,M,(t=>n(2,h=t)));let{opacity:T=1}=e;return t.$$set=t=>{"opacity"in t&&n(0,T=t.opacity)},t.$$.update=()=>{6291460&t.$$.dirty&&n(1,r=_n(f,d,h.z)),2031618&t.$$.dirty&&n(3,i=(t,e)=>{const n=u.range();return"M"+t.map((t=>a(t)+","+s(t))).join("L")+(0==e?"L"+l(o.x?o.x[1]:0)+","+n[0]+"L"+l(o.x?o.x[0]:0)+","+n[0]:"L"+[...r[e-1]].reverse().map((t=>a(t)+","+s(t))).join("L"))+"Z"})},[T,r,h,i,p,g,$,m,y,x,v,b,w,_,z,M,s,a,o,l,u,d,f]}class Cn extends lt{constructor(t){super(),ot(this,t,Wn,Dn,o,{opacity:0})}}function En(t,e,n){const r=t.slice();return r[15]=e[n],r}function Ln(t){let e,n,r;return{c(){e=z("path"),N(e,"class","path-line svelte-iw3qkv"),N(e,"d",n=t[2](t[15])),N(e,"stroke",r=t[1].z?t[4](t[15][0]):t[1].zRange[0]),N(e,"stroke-width",t[0])},m(t,n){k(t,e,n)},p(t,i){12&i&&n!==(n=t[2](t[15]))&&N(e,"d",n),26&i&&r!==(r=t[1].z?t[4](t[15][0]):t[1].zRange[0])&&N(e,"stroke",r),1&i&&N(e,"stroke-width",t[0])},d(t){t&&b(e)}}}function Pn(e){let n,r=e[3],i=[];for(let t=0;t<r.length;t+=1)i[t]=Ln(En(e,r,t));return{c(){n=z("g");for(let t=0;t<i.length;t+=1)i[t].c();N(n,"class","line-group")},m(t,e){k(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(31&e){let s;for(r=t[3],s=0;s<r.length;s+=1){const a=En(t,r,s);i[s]?i[s].p(a,e):(i[s]=Ln(a),i[s].c(),i[s].m(n,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=r.length}},i:t,o:t,d(t){t&&b(n),w(i,t)}}}function jn(t,e,n){let r,i,s,a,o,l,u,h;const{data:d,xGet:f,yGet:p,zGet:g,zDomain:$,config:m}=j("LayerCake");c(t,d,(t=>n(14,u=t))),c(t,f,(t=>n(12,a=t))),c(t,p,(t=>n(11,s=t))),c(t,g,(t=>n(4,h=t))),c(t,$,(t=>n(13,l=t))),c(t,m,(t=>n(1,o=t)));let{lineWidth:y=2.5}=e;return t.$$set=t=>{"lineWidth"in t&&n(0,y=t.lineWidth)},t.$$.update=()=>{24578&t.$$.dirty&&n(3,r=zn(u,l,o.y,o.z)),6144&t.$$.dirty&&n(2,i=t=>"M"+t.map((t=>a(t)+","+s(t))).join("L"))},[y,o,i,r,h,d,f,p,g,$,m,s,a,l,u]}class On extends lt{constructor(t){super(),ot(this,t,jn,Pn,o,{lineWidth:0})}}function Bn(t,e,n){const r=t.slice();return r[24]=e[n],r[26]=n,r}function In(t){let e,n,r;return{c(){e=z("path"),N(e,"class","path-area"),N(e,"d",n=t[3](t[24],t[26])),N(e,"fill",r=t[2].z?t[4](t[24][0]):t[5][0]),N(e,"opacity",t[0])},m(t,n){k(t,e,n)},p(t,i){10&i&&n!==(n=t[3](t[24],t[26]))&&N(e,"d",n),54&i&&r!==(r=t[2].z?t[4](t[24][0]):t[5][0])&&N(e,"fill",r),1&i&&N(e,"opacity",t[0])},d(t){t&&b(e)}}}function Fn(e){let n,r=e[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=In(Bn(e,r,t));return{c(){n=z("g");for(let t=0;t<i.length;t+=1)i[t].c();N(n,"class","area-group")},m(t,e){k(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(63&e){let s;for(r=t[1],s=0;s<r.length;s+=1){const a=Bn(t,r,s);i[s]?i[s].p(a,e):(i[s]=In(a),i[s].c(),i[s].m(n,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=r.length}},i:t,o:t,d(t){t&&b(n),w(i,t)}}}function Gn(t,e,n){let r,i,s,a,o,l,u,h,d,f,p,g;const{data:$,xGet:m,xScale:y,yGet:x,yScale:v,z:k,zGet:b,zDomain:w,zRange:_,extents:z,config:M}=j("LayerCake");c(t,$,(t=>n(22,f=t))),c(t,m,(t=>n(17,a=t))),c(t,y,(t=>n(19,l=t))),c(t,x,(t=>n(16,s=t))),c(t,v,(t=>n(20,u=t))),c(t,b,(t=>n(4,p=t))),c(t,w,(t=>n(21,d=t))),c(t,_,(t=>n(5,g=t))),c(t,z,(t=>n(18,o=t))),c(t,M,(t=>n(2,h=t)));let{opacity:T=1}=e;return t.$$set=t=>{"opacity"in t&&n(0,T=t.opacity)},t.$$.update=()=>{6291460&t.$$.dirty&&n(1,r=zn(f,d,h.y,h.z)),2031618&t.$$.dirty&&n(3,i=(t,e)=>{const n=u.range();return"M"+t.map((t=>a(t)+","+s(t))).join("L")+(0==e?"L"+l(o.x?o.x[1]:0)+","+n[0]+"L"+l(o.x?o.x[0]:0)+","+n[0]:"L"+[...r[e-1]].reverse().map((t=>a(t)+","+s(t))).join("L"))+"Z"})},[T,r,h,i,p,g,$,m,y,x,v,b,w,_,z,M,s,a,o,l,u,d,f]}class qn extends lt{constructor(t){super(),ot(this,t,Gn,Fn,o,{opacity:0})}}function Hn(t,e,n){const r=t.slice();return r[21]=e[n],r[23]=n,r}function Un(t){let e,n;return{c(){e=z("line"),N(e,"class","gridline svelte-169v5yp"),N(e,"y1",n=-1*t[14]),N(e,"y2","0"),N(e,"x1","0"),N(e,"x2","0")},m(t,n){k(t,e,n)},p(t,r){16384&r&&n!==(n=-1*t[14])&&N(e,"y1",n)},d(t){t&&b(e)}}}function Yn(t){let e,n,r;return{c(){e=z("line"),N(e,"class","tick-mark svelte-169v5yp"),N(e,"y1",0),N(e,"y2",6),N(e,"x1",n=t[4]||t[10]?t[11].bandwidth()/2:0),N(e,"x2",r=t[4]||t[10]?t[11].bandwidth()/2:0)},m(t,n){k(t,e,n)},p(t,i){3088&i&&n!==(n=t[4]||t[10]?t[11].bandwidth()/2:0)&&N(e,"x1",n),3088&i&&r!==(r=t[4]||t[10]?t[11].bandwidth()/2:0)&&N(e,"x2",r)},d(t){t&&b(e)}}}function Jn(t){let e,n,r,i,s,a,o,l,c=(t[23]==t[12].length-1?t[8]+t[2](t[21])+t[9]:t[2](t[21]))+"",u=!1!==t[0]&&Un(t),h=!0===t[1]&&Yn(t);return{c(){e=z("g"),u&&u.c(),n=A(),h&&h.c(),r=z("text"),i=M(c),N(r,"x",s=t[4]||t[10]?t[11].bandwidth()/2:0),N(r,"y",t[5]),N(r,"dx",t[6]),N(r,"dy",t[7]),N(r,"text-anchor",a=t[18](t[23])),N(r,"class","svelte-169v5yp"),N(e,"class",o="tick tick-"+t[21]+" svelte-169v5yp"),N(e,"transform",l="translate("+t[11](t[21])+","+t[13][0]+")")},m(t,s){k(t,e,s),u&&u.m(e,null),v(e,n),h&&h.m(e,null),v(e,r),v(r,i)},p(t,a){!1!==t[0]?u?u.p(t,a):(u=Un(t),u.c(),u.m(e,n)):u&&(u.d(1),u=null),!0===t[1]?h?h.p(t,a):(h=Yn(t),h.c(),h.m(e,r)):h&&(h.d(1),h=null),4868&a&&c!==(c=(t[23]==t[12].length-1?t[8]+t[2](t[21])+t[9]:t[2](t[21]))+"")&&S(i,c),3088&a&&s!==(s=t[4]||t[10]?t[11].bandwidth()/2:0)&&N(r,"x",s),32&a&&N(r,"y",t[5]),64&a&&N(r,"dx",t[6]),128&a&&N(r,"dy",t[7]),4096&a&&o!==(o="tick tick-"+t[21]+" svelte-169v5yp")&&N(e,"class",o),14336&a&&l!==(l="translate("+t[11](t[21])+","+t[13][0]+")")&&N(e,"transform",l)},d(t){t&&b(e),u&&u.d(),h&&h.d()}}}function Zn(e){let n,r=e[12],i=[];for(let t=0;t<r.length;t+=1)i[t]=Jn(Hn(e,r,t));return{c(){n=z("g");for(let t=0;t<i.length;t+=1)i[t].c();N(n,"class","axis x-axis svelte-169v5yp"),E(n,"snapTicks",e[3])},m(t,e){k(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(294903&e){let s;for(r=t[12],s=0;s<r.length;s+=1){const a=Hn(t,r,s);i[s]?i[s].p(a,e):(i[s]=Jn(a),i[s].c(),i[s].m(n,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=r.length}8&e&&E(n,"snapTicks",t[3])},i:t,o:t,d(t){t&&b(n),w(i,t)}}}function Vn(t,e,n){let r,i,s,a,o;const{width:l,height:u,xScale:h,yRange:d}=j("LayerCake");c(t,u,(t=>n(14,o=t))),c(t,h,(t=>n(11,s=t))),c(t,d,(t=>n(13,a=t)));let{gridlines:f=!0}=e,{tickMarks:p=!1}=e,{formatTick:g=(t=>t)}=e,{snapTicks:$=!1}=e,{ticks:m}=e,{xTick:y}=e,{yTick:x=16}=e,{dxTick:v=0}=e,{dyTick:k=0}=e,{prefix:b=""}=e,{suffix:w=""}=e;return t.$$set=t=>{"gridlines"in t&&n(0,f=t.gridlines),"tickMarks"in t&&n(1,p=t.tickMarks),"formatTick"in t&&n(2,g=t.formatTick),"snapTicks"in t&&n(3,$=t.snapTicks),"ticks"in t&&n(19,m=t.ticks),"xTick"in t&&n(4,y=t.xTick),"yTick"in t&&n(5,x=t.yTick),"dxTick"in t&&n(6,v=t.dxTick),"dyTick"in t&&n(7,k=t.dyTick),"prefix"in t&&n(8,b=t.prefix),"suffix"in t&&n(9,w=t.suffix)},t.$$.update=()=>{2048&t.$$.dirty&&n(10,r="function"==typeof s.bandwidth),527360&t.$$.dirty&&n(12,i=Array.isArray(m)?m:r?s.domain():"function"==typeof m?m(s.ticks()):s.ticks(m))},[f,p,g,$,y,x,v,k,b,w,r,s,i,a,o,u,h,d,function(t){if(!0===$){if(0===t)return"start";if(t===i.length-1)return"end"}return"middle"},m]}class Xn extends lt{constructor(t){super(),ot(this,t,Vn,Zn,o,{gridlines:0,tickMarks:1,formatTick:2,snapTicks:3,ticks:19,xTick:4,yTick:5,dxTick:6,dyTick:7,prefix:8,suffix:9})}}function Qn(t,e,n){const r=t.slice();return r[19]=e[n],r[21]=n,r}function tr(t){let e,n,r;return{c(){e=z("line"),N(e,"class","gridline svelte-lyo2tj"),N(e,"x2","100%"),N(e,"y1",n=t[4]+(t[10]?t[11].bandwidth()/2:0)),N(e,"y2",r=t[4]+(t[10]?t[11].bandwidth()/2:0))},m(t,n){k(t,e,n)},p(t,i){3088&i&&n!==(n=t[4]+(t[10]?t[11].bandwidth()/2:0))&&N(e,"y1",n),3088&i&&r!==(r=t[4]+(t[10]?t[11].bandwidth()/2:0))&&N(e,"y2",r)},d(t){t&&b(e)}}}function er(t){let e,n,r,i;return{c(){e=z("line"),N(e,"class","tick-mark svelte-lyo2tj"),N(e,"x1","0"),N(e,"x2",n=t[10]?-6:6),N(e,"y1",r=t[4]+(t[10]?t[11].bandwidth()/2:0)),N(e,"y2",i=t[4]+(t[10]?t[11].bandwidth()/2:0))},m(t,n){k(t,e,n)},p(t,s){1024&s&&n!==(n=t[10]?-6:6)&&N(e,"x2",n),3088&s&&r!==(r=t[4]+(t[10]?t[11].bandwidth()/2:0))&&N(e,"y1",r),3088&s&&i!==(i=t[4]+(t[10]?t[11].bandwidth()/2:0))&&N(e,"y2",i)},d(t){t&&b(e)}}}function nr(t){let e,n,r,i,s,a,o,l,c,u=(t[21]==t[12].length-1?t[8]+t[2](t[19])+t[9]:t[2](t[19]))+"",h=!1!==t[1]&&tr(t),d=!0===t[0]&&er(t);return{c(){e=z("g"),h&&h.c(),n=A(),d&&d.c(),r=z("text"),i=M(u),N(r,"x",t[3]),N(r,"y",s=t[4]+(t[10]?t[11].bandwidth()/2:0)),N(r,"dx",a=t[10]?-4:t[5]),N(r,"dy",o=t[10]?4:t[6]),R(r,"text-anchor",t[10]?"end":t[7]),N(r,"class","svelte-lyo2tj"),N(e,"class",l="tick tick-"+t[19]+" svelte-lyo2tj"),N(e,"transform",c="translate("+(t[14][0]+(t[10]?t[13].left:0))+", "+t[11](t[19])+")")},m(t,s){k(t,e,s),h&&h.m(e,null),v(e,n),d&&d.m(e,null),v(e,r),v(r,i)},p(t,f){!1!==t[1]?h?h.p(t,f):(h=tr(t),h.c(),h.m(e,n)):h&&(h.d(1),h=null),!0===t[0]?d?d.p(t,f):(d=er(t),d.c(),d.m(e,r)):d&&(d.d(1),d=null),4868&f&&u!==(u=(t[21]==t[12].length-1?t[8]+t[2](t[19])+t[9]:t[2](t[19]))+"")&&S(i,u),8&f&&N(r,"x",t[3]),3088&f&&s!==(s=t[4]+(t[10]?t[11].bandwidth()/2:0))&&N(r,"y",s),1056&f&&a!==(a=t[10]?-4:t[5])&&N(r,"dx",a),1088&f&&o!==(o=t[10]?4:t[6])&&N(r,"dy",o),1152&f&&R(r,"text-anchor",t[10]?"end":t[7]),4096&f&&l!==(l="tick tick-"+t[19]+" svelte-lyo2tj")&&N(e,"class",l),31744&f&&c!==(c="translate("+(t[14][0]+(t[10]?t[13].left:0))+", "+t[11](t[19])+")")&&N(e,"transform",c)},d(t){t&&b(e),h&&h.d(),d&&d.d()}}}function rr(e){let n,r,i=e[12],s=[];for(let t=0;t<i.length;t+=1)s[t]=nr(Qn(e,i,t));return{c(){n=z("g");for(let t=0;t<s.length;t+=1)s[t].c();N(n,"class","axis y-axis"),N(n,"transform",r="translate("+-e[13].left+", 0)")},m(t,e){k(t,n,e);for(let t=0;t<s.length;t+=1)s[t].m(n,null)},p(t,[e]){if(32767&e){let r;for(i=t[12],r=0;r<i.length;r+=1){const a=Qn(t,i,r);s[r]?s[r].p(a,e):(s[r]=nr(a),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}8192&e&&r!==(r="translate("+-t[13].left+", 0)")&&N(n,"transform",r)},i:t,o:t,d(t){t&&b(n),w(s,t)}}}function ir(t,e,n){let r,i,s,a,o;const{padding:l,xRange:u,yScale:h}=j("LayerCake");c(t,l,(t=>n(13,a=t))),c(t,u,(t=>n(14,o=t))),c(t,h,(t=>n(11,s=t)));let{ticks:d=4}=e,{tickMarks:f=!1}=e,{gridlines:p=!0}=e,{formatTick:g=(t=>t)}=e,{xTick:$=0}=e,{yTick:m=0}=e,{dxTick:y=0}=e,{dyTick:x=-4}=e,{textAnchor:v="start"}=e,{prefix:k=""}=e,{suffix:b=""}=e;return t.$$set=t=>{"ticks"in t&&n(18,d=t.ticks),"tickMarks"in t&&n(0,f=t.tickMarks),"gridlines"in t&&n(1,p=t.gridlines),"formatTick"in t&&n(2,g=t.formatTick),"xTick"in t&&n(3,$=t.xTick),"yTick"in t&&n(4,m=t.yTick),"dxTick"in t&&n(5,y=t.dxTick),"dyTick"in t&&n(6,x=t.dyTick),"textAnchor"in t&&n(7,v=t.textAnchor),"prefix"in t&&n(8,k=t.prefix),"suffix"in t&&n(9,b=t.suffix)},t.$$.update=()=>{2048&t.$$.dirty&&n(10,r="function"==typeof s.bandwidth),265216&t.$$.dirty&&n(12,i=Array.isArray(d)?d:r?s.domain():"function"==typeof d?d(s.ticks()):s.ticks(d))},[f,p,g,$,m,y,x,v,k,b,r,s,i,a,o,l,u,h,d]}class sr extends lt{constructor(t){super(),ot(this,t,ir,rr,o,{ticks:18,tickMarks:0,gridlines:1,formatTick:2,xTick:3,yTick:4,dxTick:5,dyTick:6,textAnchor:7,prefix:8,suffix:9})}}function ar(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function or(t){let e,n=t[0],r=[];for(let e=0;e<n.length;e+=1)r[e]=lr(ar(t,n,e));return{c(){e=_("ul");for(let t=0;t<r.length;t+=1)r[t].c();N(e,"class","legend svelte-1w19nmy")},m(t,n){k(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,i){if(255&i){let s;for(n=t[0],s=0;s<n.length;s+=1){const a=ar(t,n,s);r[s]?r[s].p(a,i):(r[s]=lr(a),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(t){t&&b(e),w(r,t)}}}function lr(t){let e,n,r,i,s,a=t[8]+"";return{c(){e=_("li"),n=_("div"),r=T(),i=M(a),s=T(),N(n,"class","bullet svelte-1w19nmy"),R(n,"background-color",t[1][t[10]]),R(n,"width",(!t[4]&&(t[2]||t[3]&&0!=t[10])?t[5]:t[6])+"px"),R(n,"height",(t[4]&&(t[2]||t[3]&&0!=t[10])?t[5]:t[6])+"px"),E(n,"round",t[7]),N(e,"class","svelte-1w19nmy")},m(t,a){k(t,e,a),v(e,n),v(e,r),v(e,i),v(e,s)},p(t,e){2&e&&R(n,"background-color",t[1][t[10]]),124&e&&R(n,"width",(!t[4]&&(t[2]||t[3]&&0!=t[10])?t[5]:t[6])+"px"),124&e&&R(n,"height",(t[4]&&(t[2]||t[3]&&0!=t[10])?t[5]:t[6])+"px"),128&e&&E(n,"round",t[7]),1&e&&a!==(a=t[8]+"")&&S(i,a)},d(t){t&&b(e)}}}function cr(e){let n,r=Array.isArray(e[0])&&Array.isArray(e[1]),i=r&&or(e);return{c(){i&&i.c(),n=A()},m(t,e){i&&i.m(t,e),k(t,n,e)},p(t,[e]){3&e&&(r=Array.isArray(t[0])&&Array.isArray(t[1])),r?i?i.p(t,e):(i=or(t),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i:t,o:t,d(t){i&&i.d(t),t&&b(n)}}}function ur(t,e,n){let{domain:r=null}=e,{colors:i=null}=e,{line:s=!1}=e,{comparison:a=!1}=e,{horizontal:o=!0}=e,{markerWidth:l=2.5}=e,{markerLength:c=13}=e,{round:u=!1}=e;return t.$$set=t=>{"domain"in t&&n(0,r=t.domain),"colors"in t&&n(1,i=t.colors),"line"in t&&n(2,s=t.line),"comparison"in t&&n(3,a=t.comparison),"horizontal"in t&&n(4,o=t.horizontal),"markerWidth"in t&&n(5,l=t.markerWidth),"markerLength"in t&&n(6,c=t.markerLength),"round"in t&&n(7,u=t.round)},[r,i,s,a,o,l,c,u]}class hr extends lt{constructor(t){super(),ot(this,t,ur,cr,o,{domain:0,colors:1,line:2,comparison:3,horizontal:4,markerWidth:5,markerLength:6,round:7})}}function dr(t){let e,n;const r=t[1].default,i=u(r,t,t[0],null);return{c(){e=_("div"),i&&i.c(),N(e,"class","title svelte-b06b69")},m(t,r){k(t,e,r),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||1&e)&&f(i,r,t,t[0],n?d(r,t[0],e,null):p(t[0]),null)},i(t){n||(et(i,t),n=!0)},o(t){nt(i,t),n=!1},d(t){t&&b(e),i&&i.d(t)}}}function fr(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}class pr extends lt{constructor(t){super(),ot(this,t,fr,dr,o,{})}}function gr(t){let e,n;const r=t[1].default,i=u(r,t,t[0],null);return{c(){e=_("div"),i&&i.c(),N(e,"class","footer svelte-7jvwfp")},m(t,r){k(t,e,r),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||1&e)&&f(i,r,t,t[0],n?d(r,t[0],e,null):p(t[0]),null)},i(t){n||(et(i,t),n=!0)},o(t){nt(i,t),n=!1},d(t){t&&b(e),i&&i.d(t)}}}function $r(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}class mr extends lt{constructor(t){super(),ot(this,t,$r,gr,o,{})}}const yr=t=>({}),xr=t=>({}),vr=t=>({}),kr=t=>({}),br=t=>({}),wr=t=>({});function _r(t){let e,n;return e=new pr({props:{$$slots:{default:[zr]},$$scope:{ctx:t}}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};8389120&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function zr(t){let e;return{c(){e=M(t[9])},m(t,n){k(t,e,n)},p(t,n){512&n&&S(e,t[9])},d(t){t&&b(e)}}}function Mr(t){let e,n;return e=new Xn({props:{ticks:t[7],snapTicks:t[12]}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};128&n&&(r.ticks=t[7]),4096&n&&(r.snapTicks=t[12]),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Tr(t){let e,n;return e=new sr({props:{ticks:t[8]}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};256&n&&(r.ticks=t[8]),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Ar(t){let e,n,r,i;const s=[Nr,Kr],a=[];function o(t,e){return t[15]&&t[4]?0:1}return e=o(t),n=a[e]=s[e](t),{c(){n.c(),r=A()},m(t,n){a[e].m(t,n),k(t,r,n),i=!0},p(t,i){let l=e;e=o(t),e===l?a[e].p(t,i):(Q(),nt(a[l],1,1,(()=>{a[l]=null})),tt(),n=a[e],n?n.p(t,i):(n=a[e]=s[e](t),n.c()),et(n,1),n.m(r.parentNode,r))},i(t){i||(et(n),i=!0)},o(t){nt(n),i=!1},d(t){a[e].d(t),t&&b(r)}}}function Kr(t){let e,n;return e=new Cn({props:{opacity:t[16]}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};65536&n&&(r.opacity=t[16]),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Nr(t){let e,n;return e=new qn({props:{opacity:t[16]}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};65536&n&&(r.opacity=t[16]),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Sr(t){let e,n,r,i;const s=[Dr,Rr],a=[];function o(t,e){return t[15]&&t[4]?0:1}return e=o(t),n=a[e]=s[e](t),{c(){n.c(),r=A()},m(t,n){a[e].m(t,n),k(t,r,n),i=!0},p(t,i){let l=e;e=o(t),e===l?a[e].p(t,i):(Q(),nt(a[l],1,1,(()=>{a[l]=null})),tt(),n=a[e],n?n.p(t,i):(n=a[e]=s[e](t),n.c()),et(n,1),n.m(r.parentNode,r))},i(t){i||(et(n),i=!0)},o(t){nt(n),i=!1},d(t){a[e].d(t),t&&b(r)}}}function Rr(t){let e,n;return e=new Nn({props:{lineWidth:t[19]}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};524288&n&&(r.lineWidth=t[19]),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Dr(t){let e,n;return e=new On({props:{lineWidth:t[19]}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};524288&n&&(r.lineWidth=t[19]),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Wr(t){let e,n,r,i,s,a=t[5]&&Mr(t),o=t[6]&&Tr(t),l=t[14]&&Ar(t),c=t[13]&&Sr(t);return{c(){a&&a.c(),e=T(),o&&o.c(),n=T(),l&&l.c(),r=T(),c&&c.c(),i=A()},m(t,u){a&&a.m(t,u),k(t,e,u),o&&o.m(t,u),k(t,n,u),l&&l.m(t,u),k(t,r,u),c&&c.m(t,u),k(t,i,u),s=!0},p(t,s){t[5]?a?(a.p(t,s),32&s&&et(a,1)):(a=Mr(t),a.c(),et(a,1),a.m(e.parentNode,e)):a&&(Q(),nt(a,1,1,(()=>{a=null})),tt()),t[6]?o?(o.p(t,s),64&s&&et(o,1)):(o=Tr(t),o.c(),et(o,1),o.m(n.parentNode,n)):o&&(Q(),nt(o,1,1,(()=>{o=null})),tt()),t[14]?l?(l.p(t,s),16384&s&&et(l,1)):(l=Ar(t),l.c(),et(l,1),l.m(r.parentNode,r)):l&&(Q(),nt(l,1,1,(()=>{l=null})),tt()),t[13]?c?(c.p(t,s),8192&s&&et(c,1)):(c=Sr(t),c.c(),et(c,1),c.m(i.parentNode,i)):c&&(Q(),nt(c,1,1,(()=>{c=null})),tt())},i(t){s||(et(a),et(o),et(l),et(c),s=!0)},o(t){nt(a),nt(o),nt(l),nt(c),s=!1},d(t){a&&a.d(t),t&&b(e),o&&o.d(t),t&&b(n),l&&l.d(t),t&&b(r),c&&c.d(t),t&&b(i)}}}function Cr(t){let e,n,r,i;const s=t[22].back,a=u(s,t,t[23],kr);n=new wn({props:{$$slots:{default:[Wr]},$$scope:{ctx:t}}});const o=t[22].front,l=u(o,t,t[23],xr);return{c(){a&&a.c(),e=T(),rt(n.$$.fragment),r=T(),l&&l.c()},m(t,s){a&&a.m(t,s),k(t,e,s),it(n,t,s),k(t,r,s),l&&l.m(t,s),i=!0},p(t,e){a&&a.p&&(!i||8388608&e)&&f(a,s,t,t[23],i?d(s,t[23],e,vr):p(t[23]),kr);const r={};9040368&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r),l&&l.p&&(!i||8388608&e)&&f(l,o,t,t[23],i?d(o,t[23],e,yr):p(t[23]),xr)},i(t){i||(et(a,t),et(n.$$.fragment,t),et(l,t),i=!0)},o(t){nt(a,t),nt(n.$$.fragment,t),nt(l,t),i=!1},d(t){a&&a.d(t),t&&b(e),st(n,t),t&&b(r),l&&l.d(t)}}}function Er(t){let e,n;return e=new hr({props:{domain:t[20],colors:t[18],line:t[13],markerWidth:t[19]}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};1048576&n&&(r.domain=t[20]),262144&n&&(r.colors=t[18]),8192&n&&(r.line=t[13]),524288&n&&(r.markerWidth=t[19]),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Lr(t){let e,n;return e=new mr({props:{$$slots:{default:[Pr]},$$scope:{ctx:t}}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};8389632&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Pr(t){let e;return{c(){e=M(t[10])},m(t,n){k(t,e,n)},p(t,n){1024&n&&S(e,t[10])},d(t){t&&b(e)}}}function jr(t){let e,n,r,i,s,a,o,l,c=t[9]&&_r(t);const h=t[22].options,g=u(h,t,t[23],wr);i=new $n({props:{padding:t[17],x:t[2],y:t[3],z:t[4],yDomain:t[21],zScale:At(),zDomain:t[20],zRange:t[18],data:t[0],$$slots:{default:[Cr]},$$scope:{ctx:t}}});let $=t[11]&&t[20]&&Er(t),m=t[10]&&Lr(t);return{c(){c&&c.c(),e=T(),g&&g.c(),n=T(),r=_("div"),rt(i.$$.fragment),s=T(),$&&$.c(),a=T(),m&&m.c(),o=A(),N(r,"class","chart-container svelte-1dnlmiu"),R(r,"height","number"==typeof t[1]?t[1]+"px":t[1])},m(t,u){c&&c.m(t,u),k(t,e,u),g&&g.m(t,u),k(t,n,u),k(t,r,u),it(i,r,null),k(t,s,u),$&&$.m(t,u),k(t,a,u),m&&m.m(t,u),k(t,o,u),l=!0},p(t,[n]){t[9]?c?(c.p(t,n),512&n&&et(c,1)):(c=_r(t),c.c(),et(c,1),c.m(e.parentNode,e)):c&&(Q(),nt(c,1,1,(()=>{c=null})),tt()),g&&g.p&&(!l||8388608&n)&&f(g,h,t,t[23],l?d(h,t[23],n,br):p(t[23]),wr);const s={};131072&n&&(s.padding=t[17]),4&n&&(s.x=t[2]),8&n&&(s.y=t[3]),16&n&&(s.z=t[4]),2097152&n&&(s.yDomain=t[21]),1048576&n&&(s.zDomain=t[20]),262144&n&&(s.zRange=t[18]),1&n&&(s.data=t[0]),9040368&n&&(s.$$scope={dirty:n,ctx:t}),i.$set(s),(!l||2&n)&&R(r,"height","number"==typeof t[1]?t[1]+"px":t[1]),t[11]&&t[20]?$?($.p(t,n),1050624&n&&et($,1)):($=Er(t),$.c(),et($,1),$.m(a.parentNode,a)):$&&(Q(),nt($,1,1,(()=>{$=null})),tt()),t[10]?m?(m.p(t,n),1024&n&&et(m,1)):(m=Lr(t),m.c(),et(m,1),m.m(o.parentNode,o)):m&&(Q(),nt(m,1,1,(()=>{m=null})),tt())},i(t){l||(et(c),et(g,t),et(i.$$.fragment,t),et($),et(m),l=!0)},o(t){nt(c),nt(g,t),nt(i.$$.fragment,t),nt($),nt(m),l=!1},d(t){c&&c.d(t),t&&b(e),g&&g.d(t),t&&b(n),t&&b(r),st(i),t&&b(s),$&&$.d(t),t&&b(a),m&&m.d(t),t&&b(o)}}}function Or(t,e,n){let r,i,{$$slots:s={},$$scope:a}=e,{data:o}=e,{height:l=250}=e,{xKey:c="x"}=e,{yKey:u="y"}=e,{zKey:h=null}=e,{xAxis:d=!0}=e,{yAxis:f=!0}=e,{xTicks:p=4}=e,{yTicks:g=4}=e,{title:$=null}=e,{footer:m=null}=e,{legend:y=!1}=e,{snapTicks:x=!0}=e,{line:v=!0}=e,{area:k=!0}=e,{stacked:b=!1}=e,{areaOpacity:w=1}=e,{padding:_={top:0,bottom:20,left:35,right:0}}=e,{colors:z=["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]}=e,{lineWidth:M=2.5}=e;const T=(t,e,n)=>n.indexOf(t)==e;function A(t,e){let n=[];return e.forEach((e=>{let r=t.filter((t=>t[c]==e)).map((t=>t[u])).reduce(((t,e)=>t+e));n.push(r)})),n}return t.$$set=t=>{"data"in t&&n(0,o=t.data),"height"in t&&n(1,l=t.height),"xKey"in t&&n(2,c=t.xKey),"yKey"in t&&n(3,u=t.yKey),"zKey"in t&&n(4,h=t.zKey),"xAxis"in t&&n(5,d=t.xAxis),"yAxis"in t&&n(6,f=t.yAxis),"xTicks"in t&&n(7,p=t.xTicks),"yTicks"in t&&n(8,g=t.yTicks),"title"in t&&n(9,$=t.title),"footer"in t&&n(10,m=t.footer),"legend"in t&&n(11,y=t.legend),"snapTicks"in t&&n(12,x=t.snapTicks),"line"in t&&n(13,v=t.line),"area"in t&&n(14,k=t.area),"stacked"in t&&n(15,b=t.stacked),"areaOpacity"in t&&n(16,w=t.areaOpacity),"padding"in t&&n(17,_=t.padding),"colors"in t&&n(18,z=t.colors),"lineWidth"in t&&n(19,M=t.lineWidth),"$$scope"in t&&n(23,a=t.$$scope)},t.$$.update=()=>{32797&t.$$.dirty&&n(21,r=b&&h?[0,Math.max(...A(o,o.map((t=>t[c])).filter(T)))]:[0,Math.max(...o.map((t=>t[u])))]),17&t.$$.dirty&&n(20,i=h?o.map((t=>t[h])).filter(T):null)},[o,l,c,u,h,d,f,p,g,$,m,y,x,v,k,b,w,_,z,M,i,r,s,a]}class Br extends lt{constructor(t){super(),ot(this,t,Or,jr,o,{data:0,height:1,xKey:2,yKey:3,zKey:4,xAxis:5,yAxis:6,xTicks:7,yTicks:8,title:9,footer:10,legend:11,snapTicks:12,line:13,area:14,stacked:15,areaOpacity:16,padding:17,colors:18,lineWidth:19})}get data(){return this.$$.ctx[0]}set data(t){this.$$set({data:t}),J()}get height(){return this.$$.ctx[1]}set height(t){this.$$set({height:t}),J()}get xKey(){return this.$$.ctx[2]}set xKey(t){this.$$set({xKey:t}),J()}get yKey(){return this.$$.ctx[3]}set yKey(t){this.$$set({yKey:t}),J()}get zKey(){return this.$$.ctx[4]}set zKey(t){this.$$set({zKey:t}),J()}get xAxis(){return this.$$.ctx[5]}set xAxis(t){this.$$set({xAxis:t}),J()}get yAxis(){return this.$$.ctx[6]}set yAxis(t){this.$$set({yAxis:t}),J()}get xTicks(){return this.$$.ctx[7]}set xTicks(t){this.$$set({xTicks:t}),J()}get yTicks(){return this.$$.ctx[8]}set yTicks(t){this.$$set({yTicks:t}),J()}get title(){return this.$$.ctx[9]}set title(t){this.$$set({title:t}),J()}get footer(){return this.$$.ctx[10]}set footer(t){this.$$set({footer:t}),J()}get legend(){return this.$$.ctx[11]}set legend(t){this.$$set({legend:t}),J()}get snapTicks(){return this.$$.ctx[12]}set snapTicks(t){this.$$set({snapTicks:t}),J()}get line(){return this.$$.ctx[13]}set line(t){this.$$set({line:t}),J()}get area(){return this.$$.ctx[14]}set area(t){this.$$set({area:t}),J()}get stacked(){return this.$$.ctx[15]}set stacked(t){this.$$set({stacked:t}),J()}get areaOpacity(){return this.$$.ctx[16]}set areaOpacity(t){this.$$set({areaOpacity:t}),J()}get padding(){return this.$$.ctx[17]}set padding(t){this.$$set({padding:t}),J()}get colors(){return this.$$.ctx[18]}set colors(t){this.$$set({colors:t}),J()}get lineWidth(){return this.$$.ctx[19]}set lineWidth(t){this.$$set({lineWidth:t}),J()}}function Ir(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function Fr(t){return"[object Date]"===Object.prototype.toString.call(t)}function Gr(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>Gr(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(Fr(t)&&Fr(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),r={};return n.forEach((n=>{r[n]=Gr(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=r[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function qr(t,r={}){const i=ut(t);let s,a=t;function o(o,l){if(null==t)return i.set(t=o),Promise.resolve();a=o;let c=s,u=!1,{delay:h=0,duration:d=400,easing:f=e,interpolate:p=Gr}=n(n({},r),l);if(0===d)return c&&(c.abort(),c=null),i.set(t=a),Promise.resolve();const g=$()+h;let v;return s=function(t){let e;return 0===y.size&&m(x),{promise:new Promise((n=>{y.add(e={c:t,f:n})})),abort(){y.delete(e)}}}((e=>{if(e<g)return!0;u||(v=p(t,o),"function"==typeof d&&(d=d(t,o)),u=!0),c&&(c.abort(),c=null);const n=e-g;return n>d?(i.set(t=o),!1):(i.set(t=v(f(n/d))),!0)})),s.promise}return{set:o,update:(e,n)=>o(e(a,t),n),subscribe:i.subscribe}}function Hr(t,e,n){const r=t.slice();return r[25]=e[n],r[27]=n,r}function Ur(t,e,n){const r=t.slice();return r[28]=e[n],r[30]=n,r}function Yr(t){let e,n,r,i,s,a;return{c(){e=z("rect"),N(e,"class","bar-rect"),N(e,"data-id",t[30]),N(e,"x",n=t[28].x),N(e,"y",r=t[28].y),N(e,"height",i=t[28].h),N(e,"width",s=t[28].w),N(e,"fill",a=t[1].z?t[3](t[0][t[27]][t[30]]):t[4][0])},m(t,n){k(t,e,n)},p(t,o){4&o&&n!==(n=t[28].x)&&N(e,"x",n),4&o&&r!==(r=t[28].y)&&N(e,"y",r),4&o&&i!==(i=t[28].h)&&N(e,"height",i),4&o&&s!==(s=t[28].w)&&N(e,"width",s),27&o&&a!==(a=t[1].z?t[3](t[0][t[27]][t[30]]):t[4][0])&&N(e,"fill",a)},d(t){t&&b(e)}}}function Jr(t){let e,n=t[25],r=[];for(let e=0;e<n.length;e+=1)r[e]=Yr(Ur(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=A()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);k(t,e,n)},p(t,i){if(31&i){let s;for(n=t[25],s=0;s<n.length;s+=1){const a=Ur(t,n,s);r[s]?r[s].p(a,i):(r[s]=Yr(a),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(t){w(r,t),t&&b(e)}}}function Zr(e){let n,r=e[2],i=[];for(let t=0;t<r.length;t+=1)i[t]=Jr(Hr(e,r,t));return{c(){n=z("g");for(let t=0;t<i.length;t+=1)i[t].c();N(n,"class","bar-group")},m(t,e){k(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(31&e){let s;for(r=t[2],s=0;s<r.length;s+=1){const a=Hr(t,r,s);i[s]?i[s].p(a,e):(i[s]=Jr(a),i[s].c(),i[s].m(n,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=r.length}},i:t,o:t,d(t){t&&b(n),w(i,t)}}}function Vr(t,e,n){let r,i,s,a,o,l,u,h,d,f,p,g;const{data:$,xGet:m,yGet:y,zGet:x,zRange:v,zDomain:k,xScale:b,yScale:w,config:_,custom:z}=j("LayerCake");c(t,$,(t=>n(24,d=t))),c(t,m,(t=>n(20,a=t))),c(t,y,(t=>n(21,o=t))),c(t,x,(t=>n(3,p=t))),c(t,v,(t=>n(4,g=t))),c(t,k,(t=>n(23,h=t))),c(t,b,(t=>n(22,l=t))),c(t,w,(t=>n(19,s=t))),c(t,_,(t=>n(1,u=t))),c(t,z,(t=>n(18,i=t)));let{mode:M="default"}=e,{markerWidth:T=2.5}=e,A=i.points;return c(t,A,(t=>n(2,f=t))),t.$$set=t=>{"mode"in t&&n(16,M=t.mode),"markerWidth"in t&&n(17,T=t.markerWidth)},t.$$.update=()=>{25231362&t.$$.dirty&&n(0,r="stacked"==M?zn(d,h,u.x,u.z):_n(d,h,u.z)),8323073&t.$$.dirty&&A.set(r.map(((t,e)=>t.map(((t,n)=>({x:"default"==M||("comparison"==M||"stacked"==M)&&0==e?l(0):"stacked"==M?a(r[e-1][n]):a(t)-T/2,y:o(t),w:"default"==M||("comparison"==M||"stacked"==M)&&0==e?a(t):"stacked"==M?a(t)-a(r[e-1][n]):T,h:s.bandwidth()}))))),{duration:i.animation?i.duration:0})},[r,u,f,p,g,$,m,y,x,v,k,b,w,_,z,A,M,T,i,s,a,o,l,h,d]}class Xr extends lt{constructor(t){super(),ot(this,t,Vr,Zr,o,{mode:16,markerWidth:17})}}const Qr=t=>({}),ti=t=>({}),ei=t=>({}),ni=t=>({}),ri=t=>({}),ii=t=>({});function si(t){let e,n;return e=new pr({props:{$$slots:{default:[ai]},$$scope:{ctx:t}}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};8389632&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function ai(t){let e;return{c(){e=M(t[10])},m(t,n){k(t,e,n)},p(t,n){1024&n&&S(e,t[10])},d(t){t&&b(e)}}}function oi(t){let e,n;return e=new Xn({props:{ticks:t[9],snapTicks:t[13]}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};512&n&&(r.ticks=t[9]),8192&n&&(r.snapTicks=t[13]),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function li(t){let e,n;return e=new sr({props:{gridlines:!1}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function ci(t){let e,n,r,i,s=t[7]&&oi(t),a=t[8]&&li();return r=new Xr({props:{mode:t[14],markerWidth:t[17]}}),{c(){s&&s.c(),e=T(),a&&a.c(),n=T(),rt(r.$$.fragment)},m(t,o){s&&s.m(t,o),k(t,e,o),a&&a.m(t,o),k(t,n,o),it(r,t,o),i=!0},p(t,i){t[7]?s?(s.p(t,i),128&i&&et(s,1)):(s=oi(t),s.c(),et(s,1),s.m(e.parentNode,e)):s&&(Q(),nt(s,1,1,(()=>{s=null})),tt()),t[8]?a?256&i&&et(a,1):(a=li(),a.c(),et(a,1),a.m(n.parentNode,n)):a&&(Q(),nt(a,1,1,(()=>{a=null})),tt());const o={};16384&i&&(o.mode=t[14]),131072&i&&(o.markerWidth=t[17]),r.$set(o)},i(t){i||(et(s),et(a),et(r.$$.fragment,t),i=!0)},o(t){nt(s),nt(a),nt(r.$$.fragment,t),i=!1},d(t){s&&s.d(t),t&&b(e),a&&a.d(t),t&&b(n),st(r,t)}}}function ui(t){let e,n,r,i;const s=t[22].back,a=u(s,t,t[23],ni);n=new wn({props:{$$slots:{default:[ci]},$$scope:{ctx:t}}});const o=t[22].front,l=u(o,t,t[23],ti);return{c(){a&&a.c(),e=T(),rt(n.$$.fragment),r=T(),l&&l.c()},m(t,s){a&&a.m(t,s),k(t,e,s),it(n,t,s),k(t,r,s),l&&l.m(t,s),i=!0},p(t,e){a&&a.p&&(!i||8388608&e)&&f(a,s,t,t[23],i?d(s,t[23],e,ei):p(t[23]),ni);const r={};8545152&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r),l&&l.p&&(!i||8388608&e)&&f(l,o,t,t[23],i?d(o,t[23],e,Qr):p(t[23]),ti)},i(t){i||(et(a,t),et(n.$$.fragment,t),et(l,t),i=!0)},o(t){nt(a,t),nt(n.$$.fragment,t),nt(l,t),i=!1},d(t){a&&a.d(t),t&&b(e),st(n,t),t&&b(r),l&&l.d(t)}}}function hi(t){let e,n;return e=new hr({props:{domain:t[18],colors:t[16],markerWidth:t[17],horizontal:!1,line:"barcode"==t[14],comparison:"comparison"==t[14]}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};262144&n&&(r.domain=t[18]),65536&n&&(r.colors=t[16]),131072&n&&(r.markerWidth=t[17]),16384&n&&(r.line="barcode"==t[14]),16384&n&&(r.comparison="comparison"==t[14]),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function di(t){let e,n;return e=new mr({props:{$$slots:{default:[fi]},$$scope:{ctx:t}}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};8390656&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function fi(t){let e;return{c(){e=M(t[11])},m(t,n){k(t,e,n)},p(t,n){2048&n&&S(e,t[11])},d(t){t&&b(e)}}}function pi(t){let e,n,r,i,s,a,o,l,c=t[10]&&si(t);const h=t[22].options,g=u(h,t,t[23],ii);i=new $n({props:{padding:t[15],x:t[4],y:t[5],z:t[6],xDomain:t[20],yDomain:t[19],yScale:Kt().paddingInner([.05]).round(!0),zScale:At(),zDomain:t[18],zRange:t[16],data:t[0],custom:{points:qr(null,t[21]),animation:t[2],duration:t[3]},$$slots:{default:[ui]},$$scope:{ctx:t}}});let $=t[12]&&t[18]&&hi(t),m=t[11]&&di(t);return{c(){c&&c.c(),e=T(),g&&g.c(),n=T(),r=_("div"),rt(i.$$.fragment),s=T(),$&&$.c(),a=T(),m&&m.c(),o=A(),N(r,"class","chart-container svelte-1dnlmiu"),R(r,"height","number"==typeof t[1]?t[1]+"px":t[1])},m(t,u){c&&c.m(t,u),k(t,e,u),g&&g.m(t,u),k(t,n,u),k(t,r,u),it(i,r,null),k(t,s,u),$&&$.m(t,u),k(t,a,u),m&&m.m(t,u),k(t,o,u),l=!0},p(t,[n]){t[10]?c?(c.p(t,n),1024&n&&et(c,1)):(c=si(t),c.c(),et(c,1),c.m(e.parentNode,e)):c&&(Q(),nt(c,1,1,(()=>{c=null})),tt()),g&&g.p&&(!l||8388608&n)&&f(g,h,t,t[23],l?d(h,t[23],n,ri):p(t[23]),ii);const s={};32768&n&&(s.padding=t[15]),16&n&&(s.x=t[4]),32&n&&(s.y=t[5]),64&n&&(s.z=t[6]),1048576&n&&(s.xDomain=t[20]),524288&n&&(s.yDomain=t[19]),262144&n&&(s.zDomain=t[18]),65536&n&&(s.zRange=t[16]),1&n&&(s.data=t[0]),12&n&&(s.custom={points:qr(null,t[21]),animation:t[2],duration:t[3]}),8545152&n&&(s.$$scope={dirty:n,ctx:t}),i.$set(s),(!l||2&n)&&R(r,"height","number"==typeof t[1]?t[1]+"px":t[1]),t[12]&&t[18]?$?($.p(t,n),266240&n&&et($,1)):($=hi(t),$.c(),et($,1),$.m(a.parentNode,a)):$&&(Q(),nt($,1,1,(()=>{$=null})),tt()),t[11]?m?(m.p(t,n),2048&n&&et(m,1)):(m=di(t),m.c(),et(m,1),m.m(o.parentNode,o)):m&&(Q(),nt(m,1,1,(()=>{m=null})),tt())},i(t){l||(et(c),et(g,t),et(i.$$.fragment,t),et($),et(m),l=!0)},o(t){nt(c),nt(g,t),nt(i.$$.fragment,t),nt($),nt(m),l=!1},d(t){c&&c.d(t),t&&b(e),g&&g.d(t),t&&b(n),t&&b(r),st(i),t&&b(s),$&&$.d(t),t&&b(a),m&&m.d(t),t&&b(o)}}}function gi(t,e,n){let r,i,s,{$$slots:a={},$$scope:o}=e,{data:l}=e,{height:c=250}=e,{animation:u=!0}=e,{duration:h=800}=e,{xKey:d="x"}=e,{yKey:f="y"}=e,{zKey:p=null}=e,{xAxis:g=!0}=e,{yAxis:$=!0}=e,{xTicks:m=4}=e,{title:y=null}=e,{footer:x=null}=e,{legend:v=!1}=e,{snapTicks:k=!1}=e,{mode:b="default"}=e,{padding:w={top:0,bottom:20,left:35,right:0}}=e,{colors:_=["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]}=e,{markerWidth:z=2.5}=e;const M={duration:0,easing:Ir},T=(t,e,n)=>n.indexOf(t)==e;function A(t,e){let n=[];return e.forEach((e=>{let r=t.filter((t=>t[f]==e)).map((t=>t[d])).reduce(((t,e)=>t+e),0);n.push(r)})),console.log(t,e,n),n}return t.$$set=t=>{"data"in t&&n(0,l=t.data),"height"in t&&n(1,c=t.height),"animation"in t&&n(2,u=t.animation),"duration"in t&&n(3,h=t.duration),"xKey"in t&&n(4,d=t.xKey),"yKey"in t&&n(5,f=t.yKey),"zKey"in t&&n(6,p=t.zKey),"xAxis"in t&&n(7,g=t.xAxis),"yAxis"in t&&n(8,$=t.yAxis),"xTicks"in t&&n(9,m=t.xTicks),"title"in t&&n(10,y=t.title),"footer"in t&&n(11,x=t.footer),"legend"in t&&n(12,v=t.legend),"snapTicks"in t&&n(13,k=t.snapTicks),"mode"in t&&n(14,b=t.mode),"padding"in t&&n(15,w=t.padding),"colors"in t&&n(16,_=t.colors),"markerWidth"in t&&n(17,z=t.markerWidth),"$$scope"in t&&n(23,o=t.$$scope)},t.$$.update=()=>{16497&t.$$.dirty&&n(20,r="stacked"==b&&p?[0,Math.max(...A(l,l.map((t=>t[f])).filter(T)))]:[0,Math.max(...l.map((t=>t[d])))]),33&t.$$.dirty&&n(19,i=l.map((t=>t[f])).filter(T)),65&t.$$.dirty&&n(18,s=p?l.map((t=>t[p])).filter(T):null)},[l,c,u,h,d,f,p,g,$,m,y,x,v,k,b,w,_,z,s,i,r,M,a,o]}class $i extends lt{constructor(t){super(),ot(this,t,gi,pi,o,{data:0,height:1,animation:2,duration:3,xKey:4,yKey:5,zKey:6,xAxis:7,yAxis:8,xTicks:9,title:10,footer:11,legend:12,snapTicks:13,mode:14,padding:15,colors:16,markerWidth:17})}get data(){return this.$$.ctx[0]}set data(t){this.$$set({data:t}),J()}get height(){return this.$$.ctx[1]}set height(t){this.$$set({height:t}),J()}get animation(){return this.$$.ctx[2]}set animation(t){this.$$set({animation:t}),J()}get duration(){return this.$$.ctx[3]}set duration(t){this.$$set({duration:t}),J()}get xKey(){return this.$$.ctx[4]}set xKey(t){this.$$set({xKey:t}),J()}get yKey(){return this.$$.ctx[5]}set yKey(t){this.$$set({yKey:t}),J()}get zKey(){return this.$$.ctx[6]}set zKey(t){this.$$set({zKey:t}),J()}get xAxis(){return this.$$.ctx[7]}set xAxis(t){this.$$set({xAxis:t}),J()}get yAxis(){return this.$$.ctx[8]}set yAxis(t){this.$$set({yAxis:t}),J()}get xTicks(){return this.$$.ctx[9]}set xTicks(t){this.$$set({xTicks:t}),J()}get title(){return this.$$.ctx[10]}set title(t){this.$$set({title:t}),J()}get footer(){return this.$$.ctx[11]}set footer(t){this.$$set({footer:t}),J()}get legend(){return this.$$.ctx[12]}set legend(t){this.$$set({legend:t}),J()}get snapTicks(){return this.$$.ctx[13]}set snapTicks(t){this.$$set({snapTicks:t}),J()}get mode(){return this.$$.ctx[14]}set mode(t){this.$$set({mode:t}),J()}get padding(){return this.$$.ctx[15]}set padding(t){this.$$set({padding:t}),J()}get colors(){return this.$$.ctx[16]}set colors(t){this.$$set({colors:t}),J()}get markerWidth(){return this.$$.ctx[17]}set markerWidth(t){this.$$set({markerWidth:t}),J()}}function mi(t,e,n){const r=t.slice();return r[26]=e[n],r[28]=n,r}function yi(t,e,n){const r=t.slice();return r[29]=e[n],r[31]=n,r}function xi(t){let e,n,r,i,s,a;return{c(){e=z("rect"),N(e,"class","column-rect"),N(e,"data-id",t[31]),N(e,"x",n=t[29].x),N(e,"y",r=t[29].y),N(e,"height",i=t[29].h),N(e,"width",s=t[29].w),N(e,"fill",a=t[1].z?t[3](t[0][t[28]][t[31]]):t[4][0])},m(t,n){k(t,e,n)},p(t,o){4&o[0]&&n!==(n=t[29].x)&&N(e,"x",n),4&o[0]&&r!==(r=t[29].y)&&N(e,"y",r),4&o[0]&&i!==(i=t[29].h)&&N(e,"height",i),4&o[0]&&s!==(s=t[29].w)&&N(e,"width",s),27&o[0]&&a!==(a=t[1].z?t[3](t[0][t[28]][t[31]]):t[4][0])&&N(e,"fill",a)},d(t){t&&b(e)}}}function vi(t){let e,n=t[26],r=[];for(let e=0;e<n.length;e+=1)r[e]=xi(yi(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=A()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);k(t,e,n)},p(t,i){if(31&i[0]){let s;for(n=t[26],s=0;s<n.length;s+=1){const a=yi(t,n,s);r[s]?r[s].p(a,i):(r[s]=xi(a),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(t){w(r,t),t&&b(e)}}}function ki(e){let n,r=e[2],i=[];for(let t=0;t<r.length;t+=1)i[t]=vi(mi(e,r,t));return{c(){n=z("g");for(let t=0;t<i.length;t+=1)i[t].c();N(n,"class","column-group")},m(t,e){k(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,e){if(31&e[0]){let s;for(r=t[2],s=0;s<r.length;s+=1){const a=mi(t,r,s);i[s]?i[s].p(a,e):(i[s]=vi(a),i[s].c(),i[s].m(n,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=r.length}},i:t,o:t,d(t){t&&b(n),w(i,t)}}}function bi(t,e,n){let r,i,s,a,o,l,u,h,d,f,p,g;const{data:$,xGet:m,xScale:y,yGet:x,yScale:v,yRange:k,zGet:b,zRange:w,zDomain:_,config:z,custom:M}=j("LayerCake");c(t,$,(t=>n(24,d=t))),c(t,m,(t=>n(21,o=t))),c(t,y,(t=>n(22,l=t))),c(t,x,(t=>n(19,s=t))),c(t,v,(t=>n(20,a=t))),c(t,b,(t=>n(3,p=t))),c(t,w,(t=>n(4,g=t))),c(t,_,(t=>n(23,h=t))),c(t,z,(t=>n(1,u=t))),c(t,M,(t=>n(18,i=t)));let{mode:T="default"}=e,{markerWidth:A=2.5}=e,K=i.points;return c(t,K,(t=>n(2,f=t))),t.$$set=t=>{"mode"in t&&n(16,T=t.mode),"markerWidth"in t&&n(17,A=t.markerWidth)},t.$$.update=()=>{25231362&t.$$.dirty[0]&&n(0,r="stacked"==T?zn(d,h,u.y,u.z):_n(d,h,u.z)),8323073&t.$$.dirty[0]&&K.set(r.map(((t,e)=>t.map(((t,n)=>({x:l.bandwidth?o(t):o(t)[0],y:"marker"==T||("comparison"==T||"stacked"==T)&&0==e?s(t)-A/2:s(t),w:l.bandwidth?l.bandwidth():Math.max(0,o(t)[1]-o(t)[0]),h:"default"==T||("comparison"==T||"stacked"==T)&&0==e?a(0)-s(t):"stacked"==T?s(r[e-1][n])-s(t):A}))))),{duration:i.animation?i.duration:0})},[r,u,f,p,g,$,m,y,x,v,b,w,_,z,M,K,T,A,i,s,a,o,l,h,d]}class wi extends lt{constructor(t){super(),ot(this,t,bi,ki,o,{mode:16,markerWidth:17},null,[-1,-1])}}const _i=t=>({}),zi=t=>({}),Mi=t=>({}),Ti=t=>({}),Ai=t=>({}),Ki=t=>({});function Ni(t){let e,n;return e=new pr({props:{$$slots:{default:[Si]},$$scope:{ctx:t}}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};4195328&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Si(t){let e;return{c(){e=M(t[10])},m(t,n){k(t,e,n)},p(t,n){1024&n&&S(e,t[10])},d(t){t&&b(e)}}}function Ri(t){let e,n;return e=new Xn({props:{gridlines:!1}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Di(t){let e,n;return e=new sr({props:{ticks:t[9]}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};512&n&&(r.ticks=t[9]),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Wi(t){let e,n,r,i,s=t[7]&&Ri(),a=t[8]&&Di(t);return r=new wi({props:{mode:t[13],markerWidth:t[16]}}),{c(){s&&s.c(),e=T(),a&&a.c(),n=T(),rt(r.$$.fragment)},m(t,o){s&&s.m(t,o),k(t,e,o),a&&a.m(t,o),k(t,n,o),it(r,t,o),i=!0},p(t,i){t[7]?s?128&i&&et(s,1):(s=Ri(),s.c(),et(s,1),s.m(e.parentNode,e)):s&&(Q(),nt(s,1,1,(()=>{s=null})),tt()),t[8]?a?(a.p(t,i),256&i&&et(a,1)):(a=Di(t),a.c(),et(a,1),a.m(n.parentNode,n)):a&&(Q(),nt(a,1,1,(()=>{a=null})),tt());const o={};8192&i&&(o.mode=t[13]),65536&i&&(o.markerWidth=t[16]),r.$set(o)},i(t){i||(et(s),et(a),et(r.$$.fragment,t),i=!0)},o(t){nt(s),nt(a),nt(r.$$.fragment,t),i=!1},d(t){s&&s.d(t),t&&b(e),a&&a.d(t),t&&b(n),st(r,t)}}}function Ci(t){let e,n,r,i;const s=t[21].back,a=u(s,t,t[22],Ti);n=new wn({props:{$$slots:{default:[Wi]},$$scope:{ctx:t}}});const o=t[21].front,l=u(o,t,t[22],zi);return{c(){a&&a.c(),e=T(),rt(n.$$.fragment),r=T(),l&&l.c()},m(t,s){a&&a.m(t,s),k(t,e,s),it(n,t,s),k(t,r,s),l&&l.m(t,s),i=!0},p(t,e){a&&a.p&&(!i||4194304&e)&&f(a,s,t,t[22],i?d(s,t[22],e,Mi):p(t[22]),Ti);const r={};4268928&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r),l&&l.p&&(!i||4194304&e)&&f(l,o,t,t[22],i?d(o,t[22],e,_i):p(t[22]),zi)},i(t){i||(et(a,t),et(n.$$.fragment,t),et(l,t),i=!0)},o(t){nt(a,t),nt(n.$$.fragment,t),nt(l,t),i=!1},d(t){a&&a.d(t),t&&b(e),st(n,t),t&&b(r),l&&l.d(t)}}}function Ei(t){let e,n;return e=new hr({props:{domain:t[17],colors:t[15],markerWidth:t[16],line:"barcode"==t[13],comparison:"comparison"==t[13]}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};131072&n&&(r.domain=t[17]),32768&n&&(r.colors=t[15]),65536&n&&(r.markerWidth=t[16]),8192&n&&(r.line="barcode"==t[13]),8192&n&&(r.comparison="comparison"==t[13]),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Li(t){let e,n;return e=new mr({props:{$$slots:{default:[Pi]},$$scope:{ctx:t}}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};4196352&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Pi(t){let e;return{c(){e=M(t[11])},m(t,n){k(t,e,n)},p(t,n){2048&n&&S(e,t[11])},d(t){t&&b(e)}}}function ji(t){let e,n,r,i,s,a,o,l,c=t[10]&&Ni(t);const h=t[21].options,g=u(h,t,t[22],Ki);i=new $n({props:{padding:t[14],x:t[4],y:t[5],z:t[6],xDomain:t[19],yDomain:t[18],xScale:Kt().paddingInner([.05]).round(!0),zScale:At(),zDomain:t[17],zRange:t[15],data:t[0],custom:{points:qr(null,t[20]),animation:t[2],duration:t[3]},$$slots:{default:[Ci]},$$scope:{ctx:t}}});let $=t[12]&&t[17]&&Ei(t),m=t[11]&&Li(t);return{c(){c&&c.c(),e=T(),g&&g.c(),n=T(),r=_("div"),rt(i.$$.fragment),s=T(),$&&$.c(),a=T(),m&&m.c(),o=A(),N(r,"class","chart-container svelte-1dnlmiu"),R(r,"height","number"==typeof t[1]?t[1]+"px":t[1])},m(t,u){c&&c.m(t,u),k(t,e,u),g&&g.m(t,u),k(t,n,u),k(t,r,u),it(i,r,null),k(t,s,u),$&&$.m(t,u),k(t,a,u),m&&m.m(t,u),k(t,o,u),l=!0},p(t,[n]){t[10]?c?(c.p(t,n),1024&n&&et(c,1)):(c=Ni(t),c.c(),et(c,1),c.m(e.parentNode,e)):c&&(Q(),nt(c,1,1,(()=>{c=null})),tt()),g&&g.p&&(!l||4194304&n)&&f(g,h,t,t[22],l?d(h,t[22],n,Ai):p(t[22]),Ki);const s={};16384&n&&(s.padding=t[14]),16&n&&(s.x=t[4]),32&n&&(s.y=t[5]),64&n&&(s.z=t[6]),524288&n&&(s.xDomain=t[19]),262144&n&&(s.yDomain=t[18]),131072&n&&(s.zDomain=t[17]),32768&n&&(s.zRange=t[15]),1&n&&(s.data=t[0]),12&n&&(s.custom={points:qr(null,t[20]),animation:t[2],duration:t[3]}),4268928&n&&(s.$$scope={dirty:n,ctx:t}),i.$set(s),(!l||2&n)&&R(r,"height","number"==typeof t[1]?t[1]+"px":t[1]),t[12]&&t[17]?$?($.p(t,n),135168&n&&et($,1)):($=Ei(t),$.c(),et($,1),$.m(a.parentNode,a)):$&&(Q(),nt($,1,1,(()=>{$=null})),tt()),t[11]?m?(m.p(t,n),2048&n&&et(m,1)):(m=Li(t),m.c(),et(m,1),m.m(o.parentNode,o)):m&&(Q(),nt(m,1,1,(()=>{m=null})),tt())},i(t){l||(et(c),et(g,t),et(i.$$.fragment,t),et($),et(m),l=!0)},o(t){nt(c),nt(g,t),nt(i.$$.fragment,t),nt($),nt(m),l=!1},d(t){c&&c.d(t),t&&b(e),g&&g.d(t),t&&b(n),t&&b(r),st(i),t&&b(s),$&&$.d(t),t&&b(a),m&&m.d(t),t&&b(o)}}}function Oi(t,e,n){let r,i,s,{$$slots:a={},$$scope:o}=e,{data:l}=e,{height:c=250}=e,{animation:u=!0}=e,{duration:h=800}=e,{xKey:d="x"}=e,{yKey:f="y"}=e,{zKey:p=null}=e,{xAxis:g=!0}=e,{yAxis:$=!0}=e,{yTicks:m=4}=e,{title:y=null}=e,{footer:x=null}=e,{legend:v=!1}=e,{mode:k="default"}=e,{padding:b={top:0,bottom:20,left:35,right:0}}=e,{colors:w=["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]}=e,{markerWidth:_=2.5}=e;const z={duration:0,easing:Ir},M=(t,e,n)=>n.indexOf(t)==e;function T(t,e){let n=[];return e.forEach((e=>{let r=t.filter((t=>t[d]==e)).map((t=>t[f])).reduce(((t,e)=>t+e),0);n.push(r)})),n}return t.$$set=t=>{"data"in t&&n(0,l=t.data),"height"in t&&n(1,c=t.height),"animation"in t&&n(2,u=t.animation),"duration"in t&&n(3,h=t.duration),"xKey"in t&&n(4,d=t.xKey),"yKey"in t&&n(5,f=t.yKey),"zKey"in t&&n(6,p=t.zKey),"xAxis"in t&&n(7,g=t.xAxis),"yAxis"in t&&n(8,$=t.yAxis),"yTicks"in t&&n(9,m=t.yTicks),"title"in t&&n(10,y=t.title),"footer"in t&&n(11,x=t.footer),"legend"in t&&n(12,v=t.legend),"mode"in t&&n(13,k=t.mode),"padding"in t&&n(14,b=t.padding),"colors"in t&&n(15,w=t.colors),"markerWidth"in t&&n(16,_=t.markerWidth),"$$scope"in t&&n(22,o=t.$$scope)},t.$$.update=()=>{17&t.$$.dirty&&n(19,r=l.map((t=>t[d])).filter(M)),8241&t.$$.dirty&&n(18,i="stacked"==k&&f?[0,Math.max(...T(l,l.map((t=>t[d])).filter(M)))]:[0,Math.max(...l.map((t=>t[f])))]),65&t.$$.dirty&&n(17,s=p?l.map((t=>t[p])).filter(M):null)},[l,c,u,h,d,f,p,g,$,m,y,x,v,k,b,w,_,s,i,r,z,a,o]}class Bi extends lt{constructor(t){super(),ot(this,t,Oi,ji,o,{data:0,height:1,animation:2,duration:3,xKey:4,yKey:5,zKey:6,xAxis:7,yAxis:8,yTicks:9,title:10,footer:11,legend:12,mode:13,padding:14,colors:15,markerWidth:16})}get data(){return this.$$.ctx[0]}set data(t){this.$$set({data:t}),J()}get height(){return this.$$.ctx[1]}set height(t){this.$$set({height:t}),J()}get animation(){return this.$$.ctx[2]}set animation(t){this.$$set({animation:t}),J()}get duration(){return this.$$.ctx[3]}set duration(t){this.$$set({duration:t}),J()}get xKey(){return this.$$.ctx[4]}set xKey(t){this.$$set({xKey:t}),J()}get yKey(){return this.$$.ctx[5]}set yKey(t){this.$$set({yKey:t}),J()}get zKey(){return this.$$.ctx[6]}set zKey(t){this.$$set({zKey:t}),J()}get xAxis(){return this.$$.ctx[7]}set xAxis(t){this.$$set({xAxis:t}),J()}get yAxis(){return this.$$.ctx[8]}set yAxis(t){this.$$set({yAxis:t}),J()}get yTicks(){return this.$$.ctx[9]}set yTicks(t){this.$$set({yTicks:t}),J()}get title(){return this.$$.ctx[10]}set title(t){this.$$set({title:t}),J()}get footer(){return this.$$.ctx[11]}set footer(t){this.$$set({footer:t}),J()}get legend(){return this.$$.ctx[12]}set legend(t){this.$$set({legend:t}),J()}get mode(){return this.$$.ctx[13]}set mode(t){this.$$set({mode:t}),J()}get padding(){return this.$$.ctx[14]}set padding(t){this.$$set({padding:t}),J()}get colors(){return this.$$.ctx[15]}set colors(t){this.$$set({colors:t}),J()}get markerWidth(){return this.$$.ctx[16]}set markerWidth(t){this.$$set({markerWidth:t}),J()}}class Ii{constructor(t,e,n,r,i){this.items=t,this.radiusFun=e,this.xFun=n,this.padding=r,this.yOffset=i,this.tieBreakFn=this._sfc32(2654435769,608135816,3084996962,1),this.maxR=Math.max(...t.map((t=>e(t)))),this.rng=this._sfc32(1,2,3,1)}calculateYPositions(){let t=this.items.map(((t,e)=>({datum:t,originalIndex:e,x:this.xFun(t),r:this.radiusFun(t)+this.padding,y:null,placed:!1}))).sort(((t,e)=>t.x-e.x));t.forEach((function(t,e){t.index=e}));let e=this.tieBreakFn;t.forEach((function(t){t.tieBreaker=e(t.x)}));let n=[...t].sort(((t,e)=>{let n=this.radiusFun(t.datum)+5*t.tieBreaker,r=this.radiusFun(e.datum)+5*e.tieBreaker;return n!=r?r-n:t.x-e.x}));for(let e of n)e.placed=!0,e.y=this._getBestYPosition(e,t);return t.sort(((t,e)=>t.originalIndex-e.originalIndex)),t.map((t=>({x:t.x,y:t.y+this.yOffset,r:this.radiusFun(t.datum)})))}_sfc32(t,e,n,r){let i=function(){var i=(t>>>=0)+(e>>>=0)|0;return t=e^e>>>9,e=(n>>>=0)+(n<<3)|0,n=(n=n<<21|n>>>11)+(i=i+(r=(r>>>=0)+1|0)|0)|0,(i>>>0)/4294967296};for(let t=0;t<10;t++)i();return i}_getBestYPosition(t,e){let n=[];for(let r of[-1,1]){let i,s=t.r;for(let a=t.index+r;a>=0&&a<e.length&&(i=Math.abs(t.x-e[a].x))<s+this.maxR;a+=r){let t=e[a];if(!t.placed)continue;let r=s+t.r;if(i>=s+t.r)continue;let o=Math.sqrt(r*r-i*i),l=[t.y-o,t.y+o];n.push(l)}}if(0==n.length)return t.r*(this.rng()-.5)*2;let r=n.flat();r.push(0),r.sort(((t,e)=>{let n=Math.abs(t),r=Math.abs(e);return n<r?-1:n>r?1:t-e}));for(let t=0;t<r.length;t++){let e=r[t];if(n.every((t=>e<=t[0]||e>=t[1])))return e}}}function Fi(t,e,n){const r=t.slice();return r[30]=e[n],r[32]=n,r}function Gi(t){let e,n,r,i,s;return{c(){e=z("circle"),N(e,"cx",n=t[30].x),N(e,"cy",r=t[30].y),N(e,"r",i=t[30].r),N(e,"fill",s=t[4]?t[5](t[2][t[32]]):t[6][0]),N(e,"stroke",t[0]),N(e,"stroke-width",t[1])},m(t,n){k(t,e,n)},p(t,a){8&a[0]&&n!==(n=t[30].x)&&N(e,"cx",n),8&a[0]&&r!==(r=t[30].y)&&N(e,"cy",r),8&a[0]&&i!==(i=t[30].r)&&N(e,"r",i),116&a[0]&&s!==(s=t[4]?t[5](t[2][t[32]]):t[6][0])&&N(e,"fill",s),1&a[0]&&N(e,"stroke",t[0]),2&a[0]&&N(e,"stroke-width",t[1])},d(t){t&&b(e)}}}function qi(e){let n,r,i=console.log(e[19])+"",s=e[3],a=[];for(let t=0;t<s.length;t+=1)a[t]=Gi(Fi(e,s,t));return{c(){n=z("g"),r=M(i);for(let t=0;t<a.length;t+=1)a[t].c();N(n,"class","scatter-group")},m(t,e){k(t,n,e),v(n,r);for(let t=0;t<a.length;t+=1)a[t].m(n,null)},p(t,e){if(127&e[0]){let r;for(s=t[3],r=0;r<s.length;r+=1){const i=Fi(t,s,r);a[r]?a[r].p(i,e):(a[r]=Gi(i),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=s.length}},i:t,o:t,d(t){t&&b(n),w(a,t)}}}function Hi(t,e,n){let r,i,s,a,o,l,u,h,d,f,p,g,$,m;const{data:y,xGet:x,y:v,yGet:k,yRange:b,z:w,zGet:_,zRange:z,r:M,rGet:T,rRange:A,custom:K}=j("LayerCake");c(t,y,(t=>n(2,o=t))),c(t,x,(t=>n(24,a=t))),c(t,v,(t=>n(26,u=t))),c(t,k,(t=>n(25,l=t))),c(t,b,(t=>n(23,s=t))),c(t,w,(t=>n(4,g=t))),c(t,_,(t=>n(5,$=t))),c(t,z,(t=>n(6,m=t))),c(t,M,(t=>n(29,f=t))),c(t,T,(t=>n(28,d=t))),c(t,A,(t=>n(27,h=t))),c(t,K,(t=>n(22,i=t)));let{stroke:N="black"}=e,{strokeWidth:S=0}=e,{padding:R=1}=e,D=i.points;return c(t,D,(t=>n(3,p=t))),t.$$set=t=>{"stroke"in t&&n(0,N=t.stroke),"strokeWidth"in t&&n(1,S=t.strokeWidth),"padding"in t&&n(20,R=t.padding)},t.$$.update=()=>{939524096&t.$$.dirty[0]&&n(21,r=t=>f?d(t):h[0]),133169156&t.$$.dirty[0]&&D.set(u?o.map((t=>({x:a(t),y:l(t),r:r(t)}))):new Ii(o,(t=>r(t)),(t=>a(t)),R,s[0]/2).calculateYPositions(),{duration:i.animation?i.duration:0})},[N,S,o,p,g,$,m,y,x,v,k,b,w,_,z,M,T,A,K,D,R,r,i,s,a,l,u,h,d,f]}class Ui extends lt{constructor(t){super(),ot(this,t,Hi,qi,o,{stroke:0,strokeWidth:1,padding:20},null,[-1,-1])}}const Yi=134217729;function Ji(t,e,n,r,i){let s,a,o,l,c=e[0],u=r[0],h=0,d=0;u>c==u>-c?(s=c,c=e[++h]):(s=u,u=r[++d]);let f=0;if(h<t&&d<n)for(u>c==u>-c?(a=c+s,o=s-(a-c),c=e[++h]):(a=u+s,o=s-(a-u),u=r[++d]),s=a,0!==o&&(i[f++]=o);h<t&&d<n;)u>c==u>-c?(a=s+c,l=a-s,o=s-(a-l)+(c-l),c=e[++h]):(a=s+u,l=a-s,o=s-(a-l)+(u-l),u=r[++d]),s=a,0!==o&&(i[f++]=o);for(;h<t;)a=s+c,l=a-s,o=s-(a-l)+(c-l),c=e[++h],s=a,0!==o&&(i[f++]=o);for(;d<n;)a=s+u,l=a-s,o=s-(a-l)+(u-l),u=r[++d],s=a,0!==o&&(i[f++]=o);return 0===s&&0!==f||(i[f++]=s),f}function Zi(t){return new Float64Array(t)}const Vi=Zi(4),Xi=Zi(8),Qi=Zi(12),ts=Zi(16),es=Zi(4);function ns(t,e,n,r,i,s){const a=(e-s)*(n-i),o=(t-i)*(r-s),l=a-o;if(0===a||0===o||a>0!=o>0)return l;const c=Math.abs(a+o);return Math.abs(l)>=33306690738754716e-32*c?l:-function(t,e,n,r,i,s,a){let o,l,c,u,h,d,f,p,g,$,m,y,x,v,k,b,w,_;const z=t-i,M=n-i,T=e-s,A=r-s;v=z*A,d=Yi*z,f=d-(d-z),p=z-f,d=Yi*A,g=d-(d-A),$=A-g,k=p*$-(v-f*g-p*g-f*$),b=T*M,d=Yi*T,f=d-(d-T),p=T-f,d=Yi*M,g=d-(d-M),$=M-g,w=p*$-(b-f*g-p*g-f*$),m=k-w,h=k-m,Vi[0]=k-(m+h)+(h-w),y=v+m,h=y-v,x=v-(y-h)+(m-h),m=x-b,h=x-m,Vi[1]=x-(m+h)+(h-b),_=y+m,h=_-y,Vi[2]=y-(_-h)+(m-h),Vi[3]=_;let K=function(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}(4,Vi),N=22204460492503146e-32*a;if(K>=N||-K>=N)return K;if(h=t-z,o=t-(z+h)+(h-i),h=n-M,c=n-(M+h)+(h-i),h=e-T,l=e-(T+h)+(h-s),h=r-A,u=r-(A+h)+(h-s),0===o&&0===l&&0===c&&0===u)return K;if(N=11093356479670487e-47*a+33306690738754706e-32*Math.abs(K),K+=z*u+A*o-(T*c+M*l),K>=N||-K>=N)return K;v=o*A,d=Yi*o,f=d-(d-o),p=o-f,d=Yi*A,g=d-(d-A),$=A-g,k=p*$-(v-f*g-p*g-f*$),b=l*M,d=Yi*l,f=d-(d-l),p=l-f,d=Yi*M,g=d-(d-M),$=M-g,w=p*$-(b-f*g-p*g-f*$),m=k-w,h=k-m,es[0]=k-(m+h)+(h-w),y=v+m,h=y-v,x=v-(y-h)+(m-h),m=x-b,h=x-m,es[1]=x-(m+h)+(h-b),_=y+m,h=_-y,es[2]=y-(_-h)+(m-h),es[3]=_;const S=Ji(4,Vi,4,es,Xi);v=z*u,d=Yi*z,f=d-(d-z),p=z-f,d=Yi*u,g=d-(d-u),$=u-g,k=p*$-(v-f*g-p*g-f*$),b=T*c,d=Yi*T,f=d-(d-T),p=T-f,d=Yi*c,g=d-(d-c),$=c-g,w=p*$-(b-f*g-p*g-f*$),m=k-w,h=k-m,es[0]=k-(m+h)+(h-w),y=v+m,h=y-v,x=v-(y-h)+(m-h),m=x-b,h=x-m,es[1]=x-(m+h)+(h-b),_=y+m,h=_-y,es[2]=y-(_-h)+(m-h),es[3]=_;const R=Ji(S,Xi,4,es,Qi);v=o*u,d=Yi*o,f=d-(d-o),p=o-f,d=Yi*u,g=d-(d-u),$=u-g,k=p*$-(v-f*g-p*g-f*$),b=l*c,d=Yi*l,f=d-(d-l),p=l-f,d=Yi*c,g=d-(d-c),$=c-g,w=p*$-(b-f*g-p*g-f*$),m=k-w,h=k-m,es[0]=k-(m+h)+(h-w),y=v+m,h=y-v,x=v-(y-h)+(m-h),m=x-b,h=x-m,es[1]=x-(m+h)+(h-b),_=y+m,h=_-y,es[2]=y-(_-h)+(m-h),es[3]=_;const D=Ji(R,Qi,4,es,ts);return ts[D-1]}(t,e,n,r,i,s,c)}const rs=Math.pow(2,-52),is=new Uint32Array(512);class ss{static from(t,e=hs,n=ds){const r=t.length,i=new Float64Array(2*r);for(let s=0;s<r;s++){const r=t[s];i[2*s]=e(r),i[2*s+1]=n(r)}return new ss(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:i}=this,s=t.length>>1;let a=1/0,o=1/0,l=-1/0,c=-1/0;for(let e=0;e<s;e++){const n=t[2*e],r=t[2*e+1];n<a&&(a=n),r<o&&(o=r),n>l&&(l=n),r>c&&(c=r),this._ids[e]=e}const u=(a+l)/2,h=(o+c)/2;let d,f,p,g=1/0;for(let e=0;e<s;e++){const n=as(u,h,t[2*e],t[2*e+1]);n<g&&(d=e,g=n)}const $=t[2*d],m=t[2*d+1];g=1/0;for(let e=0;e<s;e++){if(e===d)continue;const n=as($,m,t[2*e],t[2*e+1]);n<g&&n>0&&(f=e,g=n)}let y=t[2*f],x=t[2*f+1],v=1/0;for(let e=0;e<s;e++){if(e===d||e===f)continue;const n=ls($,m,y,x,t[2*e],t[2*e+1]);n<v&&(p=e,v=n)}let k=t[2*p],b=t[2*p+1];if(v===1/0){for(let e=0;e<s;e++)this._dists[e]=t[2*e]-t[0]||t[2*e+1]-t[1];cs(this._ids,this._dists,0,s-1);const e=new Uint32Array(s);let n=0;for(let t=0,r=-1/0;t<s;t++){const i=this._ids[t];this._dists[i]>r&&(e[n++]=i,r=this._dists[i])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(ns($,m,y,x,k,b)<0){const t=f,e=y,n=x;f=p,y=k,x=b,p=t,k=e,b=n}const w=function(t,e,n,r,i,s){const a=n-t,o=r-e,l=i-t,c=s-e,u=a*a+o*o,h=l*l+c*c,d=.5/(a*c-o*l);return{x:t+(c*u-o*h)*d,y:e+(a*h-l*u)*d}}($,m,y,x,k,b);this._cx=w.x,this._cy=w.y;for(let e=0;e<s;e++)this._dists[e]=as(t[2*e],t[2*e+1],w.x,w.y);cs(this._ids,this._dists,0,s-1),this._hullStart=d;let _=3;n[d]=e[p]=f,n[f]=e[d]=p,n[p]=e[f]=d,r[d]=0,r[f]=1,r[p]=2,i.fill(-1),i[this._hashKey($,m)]=d,i[this._hashKey(y,x)]=f,i[this._hashKey(k,b)]=p,this.trianglesLen=0,this._addTriangle(d,f,p,-1,-1,-1);for(let s,a,o=0;o<this._ids.length;o++){const l=this._ids[o],c=t[2*l],u=t[2*l+1];if(o>0&&Math.abs(c-s)<=rs&&Math.abs(u-a)<=rs)continue;if(s=c,a=u,l===d||l===f||l===p)continue;let h=0;for(let t=0,e=this._hashKey(c,u);t<this._hashSize&&(h=i[(e+t)%this._hashSize],-1===h||h===n[h]);t++);h=e[h];let g,$=h;for(;g=n[$],ns(c,u,t[2*$],t[2*$+1],t[2*g],t[2*g+1])>=0;)if($=g,$===h){$=-1;break}if(-1===$)continue;let m=this._addTriangle($,l,n[$],-1,-1,r[$]);r[l]=this._legalize(m+2),r[$]=m,_++;let y=n[$];for(;g=n[y],ns(c,u,t[2*y],t[2*y+1],t[2*g],t[2*g+1])<0;)m=this._addTriangle(y,l,g,r[l],-1,r[y]),r[l]=this._legalize(m+2),n[y]=y,_--,y=g;if($===h)for(;g=e[$],ns(c,u,t[2*g],t[2*g+1],t[2*$],t[2*$+1])<0;)m=this._addTriangle(g,l,$,-1,r[$],r[g]),this._legalize(m+2),r[g]=m,n[$]=$,_--,$=g;this._hullStart=e[l]=$,n[$]=e[y]=l,n[l]=y,i[this._hashKey(c,u)]=l,i[this._hashKey(t[2*$],t[2*$+1])]=$}this.hull=new Uint32Array(_);for(let t=0,e=this._hullStart;t<_;t++)this.hull[t]=e,e=n[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:r}=this;let i=0,s=0;for(;;){const a=n[t],o=t-t%3;if(s=o+(t+2)%3,-1===a){if(0===i)break;t=is[--i];continue}const l=a-a%3,c=o+(t+1)%3,u=l+(a+2)%3,h=e[s],d=e[t],f=e[c],p=e[u];if(os(r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*f],r[2*f+1],r[2*p],r[2*p+1])){e[t]=p,e[a]=h;const r=n[u];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===u){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(a,n[s]),this._link(s,u);const o=l+(a+1)%3;i<is.length&&(is[i++]=o)}else{if(0===i)break;t=is[--i]}}return s}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,s){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,s),this.trianglesLen+=3,a}}function as(t,e,n,r){const i=t-n,s=e-r;return i*i+s*s}function os(t,e,n,r,i,s,a,o){const l=t-a,c=e-o,u=n-a,h=r-o,d=i-a,f=s-o,p=u*u+h*h,g=d*d+f*f;return l*(h*g-p*f)-c*(u*g-p*d)+(l*l+c*c)*(u*f-h*d)<0}function ls(t,e,n,r,i,s){const a=n-t,o=r-e,l=i-t,c=s-e,u=a*a+o*o,h=l*l+c*c,d=.5/(a*c-o*l),f=(c*u-o*h)*d,p=(a*h-l*u)*d;return f*f+p*p}function cs(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=t[i],s=e[r];let a=i-1;for(;a>=n&&e[t[a]]>s;)t[a+1]=t[a--];t[a+1]=r}else{let i=n+1,s=r;us(t,n+r>>1,i),e[t[n]]>e[t[r]]&&us(t,n,r),e[t[i]]>e[t[r]]&&us(t,i,r),e[t[n]]>e[t[i]]&&us(t,n,i);const a=t[i],o=e[a];for(;;){do{i++}while(e[t[i]]<o);do{s--}while(e[t[s]]>o);if(s<i)break;us(t,i,s)}t[n+1]=t[s],t[s]=a,r-i+1>=s-n?(cs(t,e,i,r),cs(t,e,n,s-1)):(cs(t,e,n,s-1),cs(t,e,i,r))}}function us(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function hs(t){return t[0]}function ds(t){return t[1]}const fs=1e-6;class ps{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){const r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>fs||Math.abs(this._y1-i)>fs)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,e,n,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class gs{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class $s{constructor(t,[e,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(e=+e)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let e,r,s=0,a=0,o=n.length;s<o;s+=3,a+=2){const o=2*n[s],l=2*n[s+1],c=2*n[s+2],u=t[o],h=t[o+1],d=t[l],f=t[l+1],p=t[c],g=t[c+1],$=d-u,m=f-h,y=p-u,x=g-h,v=2*($*x-m*y);if(Math.abs(v)<1e-9){let i=1e9;const s=2*n[0];i*=Math.sign((t[s]-u)*x-(t[s+1]-h)*y),e=(u+p)/2-i*x,r=(h+g)/2+i*y}else{const t=1/v,n=$*$+m*m,i=y*y+x*x;e=u+(x*n-m*i)*t,r=h+($*i-y*n)*t}i[a]=e,i[a+1]=r}let s,a,o,l=e[e.length-1],c=4*l,u=t[2*l],h=t[2*l+1];r.fill(0);for(let n=0;n<e.length;++n)l=e[n],s=c,a=u,o=h,c=4*l,u=t[2*l],h=t[2*l+1],r[s+2]=r[c]=o-h,r[s+3]=r[c+1]=u-a}render(t){const e=null==t?t=new ps:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:s,vectors:a}=this;if(i.length<=1)return null;for(let e=0,r=n.length;e<r;++e){const r=n[e];if(r<e)continue;const i=2*Math.floor(e/3),a=2*Math.floor(r/3),o=s[i],l=s[i+1],c=s[a],u=s[a+1];this._renderSegment(o,l,c,u,t)}let o,l=i[i.length-1];for(let e=0;e<i.length;++e){o=l,l=i[e];const n=2*Math.floor(r[l]/3),c=s[n],u=s[n+1],h=4*o,d=this._project(c,u,a[h+2],a[h+3]);d&&this._renderSegment(c,u,d[0],d[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new ps:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new ps:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||e.lineTo(r[t],r[t+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new gs;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let s;const a=this._regioncode(t,e),o=this._regioncode(n,r);0===a&&0===o?(i.moveTo(t,e),i.lineTo(n,r)):(s=this._clipSegment(t,e,n,r,a,o))&&(i.moveTo(s[0],s[1]),i.lineTo(s[2],s[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let r=0,i=e.length;r<i;r+=2)for(let s=0,a=t.length;s<a;s+=2)if(e[r]==t[s]&&e[r+1]==t[s+1]&&e[(r+2)%i]==t[(s+a-2)%a]&&e[(r+3)%i]==t[(s+a-1)%a]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,s=n[t];if(-1===s)return null;const a=[];let o=s;do{const n=Math.floor(o/3);if(a.push(e[2*n],e[2*n+1]),o=o%3==2?o-2:o+1,i[o]!==t)break;o=r[o]}while(o!==s&&-1!==o);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,r=4*t;return n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e)}_clipFinite(t,e){const n=e.length;let r,i,s,a,o=null,l=e[n-2],c=e[n-1],u=this._regioncode(l,c),h=0;for(let d=0;d<n;d+=2)if(r=l,i=c,l=e[d],c=e[d+1],s=u,u=this._regioncode(l,c),0===s&&0===u)a=h,h=0,o?o.push(l,c):o=[l,c];else{let e,n,d,f,p;if(0===s){if(null===(e=this._clipSegment(r,i,l,c,s,u)))continue;[n,d,f,p]=e}else{if(null===(e=this._clipSegment(l,c,r,i,u,s)))continue;[f,p,n,d]=e,a=h,h=this._edgecode(n,d),a&&h&&this._edge(t,a,h,o,o.length),o?o.push(n,d):o=[n,d]}a=h,h=this._edgecode(f,p),a&&h&&this._edge(t,a,h,o,o.length),o?o.push(f,p):o=[f,p]}if(o)a=h,h=this._edgecode(o[0],o[1]),a&&h&&this._edge(t,a,h,o,o.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return o}_clipSegment(t,e,n,r,i,s){for(;;){if(0===i&&0===s)return[t,e,n,r];if(i&s)return null;let a,o,l=i||s;8&l?(a=t+(n-t)*(this.ymax-e)/(r-e),o=this.ymax):4&l?(a=t+(n-t)*(this.ymin-e)/(r-e),o=this.ymin):2&l?(o=e+(r-e)*(this.xmax-t)/(n-t),a=this.xmax):(o=e+(r-e)*(this.xmin-t)/(n-t),a=this.xmin),i?(t=a,e=o,i=this._regioncode(t,e)):(n=a,r=o,s=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,s){let a,o=Array.from(e);if((a=this._project(o[0],o[1],n,r))&&o.unshift(a[0],a[1]),(a=this._project(o[o.length-2],o[o.length-1],i,s))&&o.push(a[0],a[1]),o=this._clipFinite(t,o))for(let e,n=0,r=o.length,i=this._edgecode(o[r-2],o[r-1]);n<r;n+=2)e=i,i=this._edgecode(o[n],o[n+1]),e&&i&&(n=this._edge(t,e,i,o,n),r=o.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(t,e,n,r,i){for(;e!==n;){let n,s;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,s=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,s=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,s=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,s=this.ymin}r[i]===n&&r[i+1]===s||!this.contains(t,n,s)||(r.splice(i,0,n,s),i+=2)}if(r.length>4)for(let t=0;t<r.length;t+=2){const e=(t+2)%r.length,n=(t+4)%r.length;(r[t]===r[e]&&r[e]===r[n]||r[t+1]===r[e+1]&&r[e+1]===r[n+1])&&(r.splice(e,2),t-=2)}return i}_project(t,e,n,r){let i,s,a,o=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<o&&(a=this.ymin,s=t+(o=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<o&&(a=this.ymax,s=t+(o=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<o&&(s=this.xmax,a=e+(o=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<o&&(s=this.xmin,a=e+(o=i)*r)}return[s,a]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}const ms=2*Math.PI,ys=Math.pow;function xs(t){return t[0]}function vs(t){return t[1]}function ks(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class bs{static from(t,e=xs,n=vs,r){return new bs("length"in t?function(t,e,n,r){const i=t.length,s=new Float64Array(2*i);for(let a=0;a<i;++a){const i=t[a];s[2*a]=e.call(r,i,a,t),s[2*a+1]=n.call(r,i,a,t)}return s}(t,e,n,r):Float64Array.from(function*(t,e,n,r){let i=0;for(const s of t)yield e.call(r,s,i,t),yield n.call(r,s,i,t),++i}(t,e,n,r)))}constructor(t){this._delaunator=new ss(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let t=0;t<e.length;t+=3){const r=2*e[t],i=2*e[t+1],s=2*e[t+2];if((n[s]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[s+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},((t,e)=>e)).sort(((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]));const t=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,n=e.length/2;t<n;++t){const n=ks(e[2*t],e[2*t+1],i);e[2*t]=n[0],e[2*t+1]=n[1]}this._delaunator=new ss(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let t=0,e=n.length;t<e;++t){const e=i[t%3==2?t-2:t+1];-1!==n[t]&&-1!==s[e]||(s[e]=t)}for(let t=0,e=r.length;t<e;++t)a[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],s[r[0]]=1,2===r.length&&(s[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new $s(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:s,collinear:a}=this;if(a){const e=a.indexOf(t);return e>0&&(yield a[e-1]),void(e<a.length-1&&(yield a[e+1]))}const o=e[t];if(-1===o)return;let l=o,c=-1;do{if(yield c=s[l],l=l%3==2?l-2:l+1,s[l]!==t)return;if(l=i[l],-1===l){const e=n[(r[t]+1)%n.length];return void(e!==c&&(yield e))}}while(l!==o)}find(t,e,n=0){if((t=+t)!=t||(e=+e)!=e)return-1;const r=n;let i;for(;(i=this._step(n,t,e))>=0&&i!==n&&i!==r;)n=i;return i}_step(t,e,n){const{inedges:r,hull:i,_hullIndex:s,halfedges:a,triangles:o,points:l}=this;if(-1===r[t]||!l.length)return(t+1)%(l.length>>1);let c=t,u=ys(e-l[2*t],2)+ys(n-l[2*t+1],2);const h=r[t];let d=h;do{let r=o[d];const h=ys(e-l[2*r],2)+ys(n-l[2*r+1],2);if(h<u&&(u=h,c=r),d=d%3==2?d-2:d+1,o[d]!==t)break;if(d=a[d],-1===d){if(d=i[(s[t]+1)%i.length],d!==r&&ys(e-l[2*d],2)+ys(n-l[2*d+1],2)<u)return d;break}}while(d!==h);return c}render(t){const e=null==t?t=new ps:void 0,{points:n,halfedges:r,triangles:i}=this;for(let e=0,s=r.length;e<s;++e){const s=r[e];if(s<e)continue;const a=2*i[e],o=2*i[s];t.moveTo(n[a],n[a+1]),t.lineTo(n[o],n[o+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){void 0!==e||t&&"function"==typeof t.moveTo||(e=t,t=null),e=null==e?2:+e;const n=null==t?t=new ps:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){const i=r[n],s=r[n+1];t.moveTo(i+e,s),t.arc(i,s,e,0,ms)}return n&&n.value()}renderHull(t){const e=null==t?t=new ps:void 0,{hull:n,points:r}=this,i=2*n[0],s=n.length;t.moveTo(r[i],r[i+1]);for(let e=1;e<s;++e){const i=2*n[e];t.lineTo(r[i],r[i+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new gs;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new ps:void 0,{points:r,triangles:i}=this,s=2*i[t*=3],a=2*i[t+1],o=2*i[t+2];return e.moveTo(r[s],r[s+1]),e.lineTo(r[a],r[a+1]),e.lineTo(r[o],r[o+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new gs;return this.renderTriangle(t,e),e.value()}}function ws(t,e,n){const r=t.slice();return r[13]=e[n],r[15]=n,r}function _s(t){let e,n=t[0],r=[];for(let e=0;e<n.length;e+=1)r[e]=zs(ws(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=A()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);k(t,e,n)},p(t,i){if(3&i){let s;for(n=t[0],s=0;s<n.length;s+=1){const a=ws(t,n,s);r[s]?r[s].p(a,i):(r[s]=zs(a),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(t){w(r,t),t&&b(e)}}}function zs(t){let e,n,r,i;return{c(){e=z("path"),N(e,"class","voronoi-cell svelte-12f2stz"),N(e,"d",n=t[1].renderCell(t[15]))},m(n,s){k(n,e,s),r||(i=K(e,"mouseover",(function(){a((t[13],void t[15]))&&(t[13],void t[15]).apply(this,arguments)})),r=!0)},p(r,i){t=r,2&i&&n!==(n=t[1].renderCell(t[15]))&&N(e,"d",n)},d(t){t&&b(e),r=!1,i()}}}function Ms(e){let n,r=e[0]&&_s(e);return{c(){r&&r.c(),n=A()},m(t,e){r&&r.m(t,e),k(t,n,e)},p(t,[e]){t[0]?r?r.p(t,e):(r=_s(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&b(n)}}}function Ts(t,e,n){let r,i,s,a,o,l;const{data:u,xGet:h,yGet:d,width:f,height:p,custom:g}=j("LayerCake");c(t,f,(t=>n(7,a=t))),c(t,p,(t=>n(6,s=t))),c(t,g,(t=>n(9,l=t)));let $=l.points;return c(t,$,(t=>n(8,o=t))),t.$$.update=()=>{256&t.$$.dirty&&n(0,r=Array.isArray(o)?o.map((t=>[t.x,t.y])):[]),193&t.$$.dirty&&n(1,i=bs.from(r).voronoi([0,0,a,s]))},[r,i,f,p,g,$,s,a,o]}class As extends lt{constructor(t){super(),ot(this,t,Ts,Ms,o,{})}}const Ks=t=>({}),Ns=t=>({}),Ss=t=>({}),Rs=t=>({}),Ds=t=>({}),Ws=t=>({});function Cs(t){let e,n;return e=new pr({props:{$$slots:{default:[Es]},$$scope:{ctx:t}}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};8392704&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Es(t){let e;return{c(){e=M(t[12])},m(t,n){k(t,e,n)},p(t,n){4096&n&&S(e,t[12])},d(t){t&&b(e)}}}function Ls(t){let e,n;return e=new Xn({props:{ticks:t[10],snapTicks:t[15]}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};1024&n&&(r.ticks=t[10]),32768&n&&(r.snapTicks=t[15]),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Ps(t){let e,n;return e=new sr({props:{ticks:t[11]}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};2048&n&&(r.ticks=t[11]),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function js(t){let e,n,r,i,s,a,o=t[8]&&Ls(t),l=t[9]&&t[5]&&Ps(t);return r=new Ui({props:{r:t[19]}}),s=new As({}),{c(){o&&o.c(),e=T(),l&&l.c(),n=T(),rt(r.$$.fragment),i=T(),rt(s.$$.fragment)},m(t,c){o&&o.m(t,c),k(t,e,c),l&&l.m(t,c),k(t,n,c),it(r,t,c),k(t,i,c),it(s,t,c),a=!0},p(t,i){t[8]?o?(o.p(t,i),256&i&&et(o,1)):(o=Ls(t),o.c(),et(o,1),o.m(e.parentNode,e)):o&&(Q(),nt(o,1,1,(()=>{o=null})),tt()),t[9]&&t[5]?l?(l.p(t,i),544&i&&et(l,1)):(l=Ps(t),l.c(),et(l,1),l.m(n.parentNode,n)):l&&(Q(),nt(l,1,1,(()=>{l=null})),tt());const s={};524288&i&&(s.r=t[19]),r.$set(s)},i(t){a||(et(o),et(l),et(r.$$.fragment,t),et(s.$$.fragment,t),a=!0)},o(t){nt(o),nt(l),nt(r.$$.fragment,t),nt(s.$$.fragment,t),a=!1},d(t){o&&o.d(t),t&&b(e),l&&l.d(t),t&&b(n),st(r,t),t&&b(i),st(s,t)}}}function Os(t){let e,n,r,i;const s=t[22].back,a=u(s,t,t[23],Rs);n=new wn({props:{$$slots:{default:[js]},$$scope:{ctx:t}}});const o=t[22].front,l=u(o,t,t[23],Ns);return{c(){a&&a.c(),e=T(),rt(n.$$.fragment),r=T(),l&&l.c()},m(t,s){a&&a.m(t,s),k(t,e,s),it(n,t,s),k(t,r,s),l&&l.m(t,s),i=!0},p(t,e){a&&a.p&&(!i||8388608&e)&&f(a,s,t,t[23],i?d(s,t[23],e,Ss):p(t[23]),Rs);const r={};8949536&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r),l&&l.p&&(!i||8388608&e)&&f(l,o,t,t[23],i?d(o,t[23],e,Ks):p(t[23]),Ns)},i(t){i||(et(a,t),et(n.$$.fragment,t),et(l,t),i=!0)},o(t){nt(a,t),nt(n.$$.fragment,t),nt(l,t),i=!1},d(t){a&&a.d(t),t&&b(e),st(n,t),t&&b(r),l&&l.d(t)}}}function Bs(t){let e,n;return e=new hr({props:{domain:t[20],colors:t[18],markerLength:Array.isArray(t[19])?2*t[19][0]:2*t[19],round:!0}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};1048576&n&&(r.domain=t[20]),262144&n&&(r.colors=t[18]),524288&n&&(r.markerLength=Array.isArray(t[19])?2*t[19][0]:2*t[19]),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Is(t){let e,n;return e=new mr({props:{$$slots:{default:[Fs]},$$scope:{ctx:t}}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};8396800&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Fs(t){let e;return{c(){e=M(t[13])},m(t,n){k(t,e,n)},p(t,n){8192&n&&S(e,t[13])},d(t){t&&b(e)}}}function Gs(t){let e,n,r,i,s,a,o,l,c=t[12]&&Cs(t);const h=t[22].options,g=u(h,t,t[23],Ws);i=new $n({props:{padding:t[16],x:t[4],y:t[5],z:t[6],r:t[7],zScale:At(),zDomain:t[20],zRange:t[18],rRange:Array.isArray(t[19])?t[19]:[t[19],t[19]],data:t[0],xPadding:[t[17],t[17]],yPadding:t[5]?[t[17],t[17]]:null,custom:{points:qr(void 0,t[21]),animation:t[2],duration:t[3]},$$slots:{default:[Os]},$$scope:{ctx:t}}});let $=t[14]&&t[20]&&Bs(t),m=t[13]&&Is(t);return{c(){c&&c.c(),e=T(),g&&g.c(),n=T(),r=_("div"),rt(i.$$.fragment),s=T(),$&&$.c(),a=T(),m&&m.c(),o=A(),N(r,"class","chart-container svelte-1dnlmiu"),R(r,"height","number"==typeof t[1]?t[1]+"px":t[1])},m(t,u){c&&c.m(t,u),k(t,e,u),g&&g.m(t,u),k(t,n,u),k(t,r,u),it(i,r,null),k(t,s,u),$&&$.m(t,u),k(t,a,u),m&&m.m(t,u),k(t,o,u),l=!0},p(t,[n]){t[12]?c?(c.p(t,n),4096&n&&et(c,1)):(c=Cs(t),c.c(),et(c,1),c.m(e.parentNode,e)):c&&(Q(),nt(c,1,1,(()=>{c=null})),tt()),g&&g.p&&(!l||8388608&n)&&f(g,h,t,t[23],l?d(h,t[23],n,Ds):p(t[23]),Ws);const s={};65536&n&&(s.padding=t[16]),16&n&&(s.x=t[4]),32&n&&(s.y=t[5]),64&n&&(s.z=t[6]),128&n&&(s.r=t[7]),1048576&n&&(s.zDomain=t[20]),262144&n&&(s.zRange=t[18]),524288&n&&(s.rRange=Array.isArray(t[19])?t[19]:[t[19],t[19]]),1&n&&(s.data=t[0]),131072&n&&(s.xPadding=[t[17],t[17]]),131104&n&&(s.yPadding=t[5]?[t[17],t[17]]:null),12&n&&(s.custom={points:qr(void 0,t[21]),animation:t[2],duration:t[3]}),8949536&n&&(s.$$scope={dirty:n,ctx:t}),i.$set(s),(!l||2&n)&&R(r,"height","number"==typeof t[1]?t[1]+"px":t[1]),t[14]&&t[20]?$?($.p(t,n),1064960&n&&et($,1)):($=Bs(t),$.c(),et($,1),$.m(a.parentNode,a)):$&&(Q(),nt($,1,1,(()=>{$=null})),tt()),t[13]?m?(m.p(t,n),8192&n&&et(m,1)):(m=Is(t),m.c(),et(m,1),m.m(o.parentNode,o)):m&&(Q(),nt(m,1,1,(()=>{m=null})),tt())},i(t){l||(et(c),et(g,t),et(i.$$.fragment,t),et($),et(m),l=!0)},o(t){nt(c),nt(g,t),nt(i.$$.fragment,t),nt($),nt(m),l=!1},d(t){c&&c.d(t),t&&b(e),g&&g.d(t),t&&b(n),t&&b(r),st(i),t&&b(s),$&&$.d(t),t&&b(a),m&&m.d(t),t&&b(o)}}}function qs(t,e,n){let r,{$$slots:i={},$$scope:s}=e,{data:a}=e,{height:o=250}=e,{animation:l=!0}=e,{duration:c=800}=e,{xKey:u="x"}=e,{yKey:h=null}=e,{zKey:d=null}=e,{rKey:f=null}=e,{xAxis:p=!0}=e,{yAxis:g=!0}=e,{xTicks:$=4}=e,{yTicks:m=4}=e,{title:y=null}=e,{footer:x=null}=e,{legend:v=!1}=e,{snapTicks:k=!1}=e,{padding:b={top:0,bottom:20,left:35,right:0}}=e,{buffer:w=5}=e,{colors:_=["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]}=e,{r:z=4}=e;const M={duration:0,easing:Ir},T=(t,e,n)=>n.indexOf(t)==e;return t.$$set=t=>{"data"in t&&n(0,a=t.data),"height"in t&&n(1,o=t.height),"animation"in t&&n(2,l=t.animation),"duration"in t&&n(3,c=t.duration),"xKey"in t&&n(4,u=t.xKey),"yKey"in t&&n(5,h=t.yKey),"zKey"in t&&n(6,d=t.zKey),"rKey"in t&&n(7,f=t.rKey),"xAxis"in t&&n(8,p=t.xAxis),"yAxis"in t&&n(9,g=t.yAxis),"xTicks"in t&&n(10,$=t.xTicks),"yTicks"in t&&n(11,m=t.yTicks),"title"in t&&n(12,y=t.title),"footer"in t&&n(13,x=t.footer),"legend"in t&&n(14,v=t.legend),"snapTicks"in t&&n(15,k=t.snapTicks),"padding"in t&&n(16,b=t.padding),"buffer"in t&&n(17,w=t.buffer),"colors"in t&&n(18,_=t.colors),"r"in t&&n(19,z=t.r),"$$scope"in t&&n(23,s=t.$$scope)},t.$$.update=()=>{65&t.$$.dirty&&n(20,r=d?a.map((t=>t[d])).filter(T):null)},[a,o,l,c,u,h,d,f,p,g,$,m,y,x,v,k,b,w,_,z,r,M,i,s]}class Hs extends lt{constructor(t){super(),ot(this,t,qs,Gs,o,{data:0,height:1,animation:2,duration:3,xKey:4,yKey:5,zKey:6,rKey:7,xAxis:8,yAxis:9,xTicks:10,yTicks:11,title:12,footer:13,legend:14,snapTicks:15,padding:16,buffer:17,colors:18,r:19})}get data(){return this.$$.ctx[0]}set data(t){this.$$set({data:t}),J()}get height(){return this.$$.ctx[1]}set height(t){this.$$set({height:t}),J()}get animation(){return this.$$.ctx[2]}set animation(t){this.$$set({animation:t}),J()}get duration(){return this.$$.ctx[3]}set duration(t){this.$$set({duration:t}),J()}get xKey(){return this.$$.ctx[4]}set xKey(t){this.$$set({xKey:t}),J()}get yKey(){return this.$$.ctx[5]}set yKey(t){this.$$set({yKey:t}),J()}get zKey(){return this.$$.ctx[6]}set zKey(t){this.$$set({zKey:t}),J()}get rKey(){return this.$$.ctx[7]}set rKey(t){this.$$set({rKey:t}),J()}get xAxis(){return this.$$.ctx[8]}set xAxis(t){this.$$set({xAxis:t}),J()}get yAxis(){return this.$$.ctx[9]}set yAxis(t){this.$$set({yAxis:t}),J()}get xTicks(){return this.$$.ctx[10]}set xTicks(t){this.$$set({xTicks:t}),J()}get yTicks(){return this.$$.ctx[11]}set yTicks(t){this.$$set({yTicks:t}),J()}get title(){return this.$$.ctx[12]}set title(t){this.$$set({title:t}),J()}get footer(){return this.$$.ctx[13]}set footer(t){this.$$set({footer:t}),J()}get legend(){return this.$$.ctx[14]}set legend(t){this.$$set({legend:t}),J()}get snapTicks(){return this.$$.ctx[15]}set snapTicks(t){this.$$set({snapTicks:t}),J()}get padding(){return this.$$.ctx[16]}set padding(t){this.$$set({padding:t}),J()}get buffer(){return this.$$.ctx[17]}set buffer(t){this.$$set({buffer:t}),J()}get colors(){return this.$$.ctx[18]}set colors(t){this.$$set({colors:t}),J()}get r(){return this.$$.ctx[19]}set r(t){this.$$set({r:t}),J()}}var Us=[{year:2017,value:320,group:"apples"},{year:2017,value:480,group:"bananas"},{year:2017,value:640,group:"cherries"},{year:2017,value:400,group:"dates"},{year:2018,value:640,group:"apples"},{year:2018,value:960,group:"bananas"},{year:2018,value:640,group:"cherries"},{year:2018,value:400,group:"dates"},{year:2019,value:1600,group:"apples"},{year:2019,value:1440,group:"bananas"},{year:2019,value:960,group:"cherries"},{year:2019,value:400,group:"dates"},{year:2020,value:3840,group:"apples"},{year:2020,value:1920,group:"bananas"},{year:2020,value:960,group:"cherries"},{year:2020,value:400,group:"dates"}],Ys=[{year:1979,value:7.19,alt:12,group:"apples"},{year:1980,value:7.83,alt:15,group:"apples"},{year:1981,value:7.24,alt:17,group:"apples"},{year:1982,value:7.44,alt:28,group:"apples"},{year:1983,value:7.51,alt:23,group:"apples"},{year:1984,value:7.1,alt:17,group:"apples"},{year:1985,value:6.91,alt:11,group:"apples"},{year:1986,value:7.53,alt:13,group:"apples"},{year:1987,value:7.47,alt:18,group:"apples"},{year:1988,value:7.48,alt:20,group:"apples"},{year:1989,value:7.03,alt:24,group:"apples"},{year:1990,value:6.23,alt:26,group:"bananas"},{year:1991,value:6.54,alt:16,group:"bananas"},{year:1992,value:7.54,alt:25,group:"bananas"},{year:1993,value:6.5,alt:28,group:"bananas"},{year:1994,value:7.18,alt:11,group:"bananas"},{year:1995,value:6.12,alt:19,group:"bananas"},{year:1996,value:7.87,alt:14,group:"bananas"},{year:1997,value:6.73,alt:22,group:"bananas"},{year:1998,value:6.55,alt:13,group:"bananas"},{year:1999,value:6.23,alt:30,group:"bananas"},{year:2e3,value:6.31,alt:27,group:"bananas"},{year:2001,value:6.74,alt:13,group:"cherries"},{year:2002,value:5.95,alt:18,group:"cherries"},{year:2003,value:6.13,alt:15,group:"cherries"},{year:2004,value:6.04,alt:11,group:"cherries"},{year:2005,value:5.56,alt:29,group:"cherries"},{year:2006,value:5.91,alt:26,group:"cherries"},{year:2007,value:4.29,alt:10,group:"cherries"},{year:2008,value:4.72,alt:14,group:"cherries"},{year:2009,value:5.38,alt:21,group:"cherries"},{year:2010,value:4.92,alt:20,group:"cherries"},{year:2011,value:4.61,alt:24,group:"dates"},{year:2012,value:3.62,alt:19,group:"dates"},{year:2013,value:5.35,alt:12,group:"dates"},{year:2014,value:5.28,alt:13,group:"dates"},{year:2015,value:4.63,alt:28,group:"dates"},{year:2016,value:4.72,alt:30,group:"dates"}];function Js(t,e,n){const r=t.slice();return r[15]=e[n],r}function Zs(t,e,n){const r=t.slice();return r[15]=e[n],r}function Vs(t,e,n){const r=t.slice();return r[15]=e[n],r}function Xs(t,e,n){const r=t.slice();return r[15]=e[n],r}function Qs(t){let e,n,r,i,s,a,o,l=t[15]+"";return{c(){e=_("label"),n=_("input"),i=T(),s=M(l),N(n,"type","radio"),n.__value=r=t[15],n.value=n.__value,t[6][0].push(n),N(e,"class","svelte-1pbp4rr")},m(r,l){k(r,e,l),v(e,n),n.checked=n.__value===t[1].selected,v(e,i),v(e,s),a||(o=K(n,"change",t[5]),a=!0)},p(t,e){2&e&&r!==(r=t[15])&&(n.__value=r,n.value=n.__value),2&e&&(n.checked=n.__value===t[1].selected),2&e&&l!==(l=t[15]+"")&&S(s,l)},d(r){r&&b(e),t[6][0].splice(t[6][0].indexOf(n),1),a=!1,o()}}}function ta(t){let e,n=t[1].options,r=[];for(let e=0;e<n.length;e+=1)r[e]=Qs(Xs(t,n,e));return{c(){e=_("div");for(let t=0;t<r.length;t+=1)r[t].c();N(e,"slot","options"),N(e,"class","controls small svelte-1pbp4rr")},m(t,n){k(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,i){if(2&i){let s;for(n=t[1].options,s=0;s<n.length;s+=1){const a=Xs(t,n,s);r[s]?r[s].p(a,i):(r[s]=Qs(a),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(t){t&&b(e),w(r,t)}}}function ea(t){let e,n,r,i,s,a,o,l=t[15]+"";return{c(){e=_("label"),n=_("input"),i=T(),s=M(l),N(n,"type","radio"),n.__value=r=t[15],n.value=n.__value,t[6][1].push(n),N(e,"class","svelte-1pbp4rr")},m(r,l){k(r,e,l),v(e,n),n.checked=n.__value===t[2].selected,v(e,i),v(e,s),a||(o=K(n,"change",t[8]),a=!0)},p(t,e){4&e&&r!==(r=t[15])&&(n.__value=r,n.value=n.__value),4&e&&(n.checked=n.__value===t[2].selected),4&e&&l!==(l=t[15]+"")&&S(s,l)},d(r){r&&b(e),t[6][1].splice(t[6][1].indexOf(n),1),a=!1,o()}}}function na(t){let e,n=t[2].options,r=[];for(let e=0;e<n.length;e+=1)r[e]=ea(Vs(t,n,e));return{c(){e=_("div");for(let t=0;t<r.length;t+=1)r[t].c();N(e,"slot","options"),N(e,"class","controls small svelte-1pbp4rr")},m(t,n){k(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,i){if(4&i){let s;for(n=t[2].options,s=0;s<n.length;s+=1){const a=Vs(t,n,s);r[s]?r[s].p(a,i):(r[s]=ea(a),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(t){t&&b(e),w(r,t)}}}function ra(t){let e,n,r,i,s,a,o,l=t[15]+"";return{c(){e=_("label"),n=_("input"),i=T(),s=M(l),N(n,"type","radio"),n.__value=r=t[15],n.value=n.__value,t[6][0].push(n),N(e,"class","svelte-1pbp4rr")},m(r,l){k(r,e,l),v(e,n),n.checked=n.__value===t[1].selected,v(e,i),v(e,s),a||(o=K(n,"change",t[9]),a=!0)},p(t,e){2&e&&r!==(r=t[15])&&(n.__value=r,n.value=n.__value),2&e&&(n.checked=n.__value===t[1].selected),2&e&&l!==(l=t[15]+"")&&S(s,l)},d(r){r&&b(e),t[6][0].splice(t[6][0].indexOf(n),1),a=!1,o()}}}function ia(t){let e,n=t[1].options,r=[];for(let e=0;e<n.length;e+=1)r[e]=ra(Zs(t,n,e));return{c(){e=_("div");for(let t=0;t<r.length;t+=1)r[t].c();N(e,"slot","options"),N(e,"class","controls small svelte-1pbp4rr")},m(t,n){k(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,i){if(2&i){let s;for(n=t[1].options,s=0;s<n.length;s+=1){const a=Zs(t,n,s);r[s]?r[s].p(a,i):(r[s]=ra(a),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(t){t&&b(e),w(r,t)}}}function sa(t){let e,n,r,i,s,a,o,l=t[15]+"";return{c(){e=_("label"),n=_("input"),i=T(),s=M(l),N(n,"type","radio"),n.__value=r=t[15],n.value=n.__value,t[6][1].push(n),N(e,"class","svelte-1pbp4rr")},m(r,l){k(r,e,l),v(e,n),n.checked=n.__value===t[2].selected,v(e,i),v(e,s),a||(o=K(n,"change",t[11]),a=!0)},p(t,e){4&e&&r!==(r=t[15])&&(n.__value=r,n.value=n.__value),4&e&&(n.checked=n.__value===t[2].selected),4&e&&l!==(l=t[15]+"")&&S(s,l)},d(r){r&&b(e),t[6][1].splice(t[6][1].indexOf(n),1),a=!1,o()}}}function aa(t){let e,n=t[2].options,r=[];for(let e=0;e<n.length;e+=1)r[e]=sa(Js(t,n,e));return{c(){e=_("div");for(let t=0;t<r.length;t+=1)r[t].c();N(e,"slot","options"),N(e,"class","controls small svelte-1pbp4rr")},m(t,n){k(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,i){if(4&i){let s;for(n=t[2].options,s=0;s<n.length;s+=1){const a=Js(t,n,s);r[s]?r[s].p(a,i):(r[s]=sa(a),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(t){t&&b(e),w(r,t)}}}function oa(t){let e,n,r,i,a,o,l,c,u,h,d,f,p,g;return{c(){e=_("div"),n=_("label"),r=_("input"),i=M(" Y variable"),a=T(),o=_("label"),l=_("input"),c=M(" Radius"),u=T(),h=_("label"),d=_("input"),f=M(" Colours"),N(r,"type","checkbox"),N(n,"class","svelte-1pbp4rr"),N(l,"type","checkbox"),N(o,"class","svelte-1pbp4rr"),N(d,"type","checkbox"),N(h,"class","svelte-1pbp4rr"),N(e,"slot","options"),N(e,"class","controls small svelte-1pbp4rr")},m(s,$){k(s,e,$),v(e,n),v(n,r),r.checked=t[3].yKey,v(n,i),v(e,a),v(e,o),v(o,l),l.checked=t[3].rKey,v(o,c),v(e,u),v(e,h),v(h,d),d.checked=t[3].zKey,v(h,f),p||(g=[K(r,"change",t[12]),K(l,"change",t[13]),K(d,"change",t[14])],p=!0)},p(t,e){8&e&&(r.checked=t[3].yKey),8&e&&(l.checked=t[3].rKey),8&e&&(d.checked=t[3].zKey)},d(t){t&&b(e),p=!1,s(g)}}}function la(t){let e,n,r,i,s,a,o,l,c,u,h,d,f,p,g,$,m,y,x,w,z,A,S,R,D,W,C,E,L,P,j,O,B,I,F,G,q,H,U,Y,J,Z,V,X,Q,tt,at,ot,lt,ct,ut,ht,dt,ft,pt;return m=new $i({props:{data:Us.filter(t[7]),xKey:"value",yKey:"year",animation:t[0],title:"Single variable bar chart",$$slots:{options:[ta]},$$scope:{ctx:t}}}),w=new $i({props:{data:Us,xKey:"value",yKey:"year",zKey:"group",mode:t[2].selected,animation:t[0],title:"Stacked / comparative bar chart",legend:!0,$$slots:{options:[na]},$$scope:{ctx:t}}}),S=new $i({props:{data:Us.filter(ca),xKey:"value",yKey:"group",zKey:"group",title:"Coloured bar chart"}}),W=new Bi({props:{data:Us.filter(t[10]),xKey:"year",yKey:"value",animation:t[0],title:"Single variable column chart",$$slots:{options:[ia]},$$scope:{ctx:t}}}),L=new Bi({props:{data:Us,xKey:"year",yKey:"value",zKey:"group",mode:t[2].selected,animation:t[0],title:"Stacked / comparative column chart",legend:!0,$$slots:{options:[aa]},$$scope:{ctx:t}}}),O=new Bi({props:{data:Us.filter(ua),xKey:"group",yKey:"value",zKey:"group",comparison:!1,title:"Coloured column chart"}}),F=new Br({props:{data:Us.filter(ha),xKey:"year",yKey:"value",areaOpacity:.3,title:"Line chart with area",footer:"Source: Fictitious data about fruit, 2020."}}),H=new Br({props:{data:Us,xKey:"year",yKey:"value",zKey:"group",area:!1,title:"Multi-line chart",footer:"Source: Fictitious data about fruit, 2020.",legend:!0}}),J=new Br({props:{data:Us,xKey:"year",yKey:"value",zKey:"group",line:!1,title:"Stacked area chart",stacked:!0,legend:!0}}),X=new Br({props:{data:Us,xKey:"year",yKey:"value",zKey:"group",areaOpacity:.3,title:"Stacked area chart with lines",stacked:!0,legend:!0}}),at=new Hs({props:{data:Ys,xKey:"year",yKey:"value",zKey:"group",rKey:"alt",r:[3,6],animation:t[3].animation,title:"Scatter chart with radius and colour",legend:!0}}),ct=new Hs({props:{data:Ys,xKey:"year",yKey:t[3].yKey?"value":null,zKey:t[3].zKey?"group":null,rKey:t[3].rKey?"alt":null,r:[3,6],animation:t[0],legend:t[3].zKey,title:"Beeswarm/scatter plot with animation",$$slots:{options:[oa]},$$scope:{ctx:t}}}),{c(){e=_("section"),n=_("div"),r=_("h1"),r.textContent="ONS Svelte Charts Library",i=T(),s=_("p"),s.innerHTML='Below are a series of charts built using <a href="https://layercake.graphics" target="_blank">Layer Cake</a>, a responsive charts/graphics framework for <a href="https://svelte.dev" target="_blank">Svelte</a>. The charts are all responsive in that they fit to the width of their html container element, and will resize automatically when the screen/window is resized. The charts below can be used in the following ways:',a=T(),o=_("ol"),o.innerHTML="<li>The charts and/or their sub-components (axes etc) can be <strong>imported into Svelte projects</strong> via NPM.</li> \n    \t<li>The charts also have compiled versions that can be <strong>embedded in &quot;vanilla&quot; javascript projects</strong>.</li> \n    \t<li>This whole repository can be <strong>downloaded/cloned and hacked</strong> to create variations of the charts.</li>",l=T(),c=_("div"),u=_("label"),h=_("input"),d=M(" Animation enabled"),f=T(),p=_("section"),g=_("div"),$=_("div"),rt(m.$$.fragment),y=T(),x=_("div"),rt(w.$$.fragment),z=T(),A=_("div"),rt(S.$$.fragment),R=T(),D=_("div"),rt(W.$$.fragment),C=T(),E=_("div"),rt(L.$$.fragment),P=T(),j=_("div"),rt(O.$$.fragment),B=T(),I=_("div"),rt(F.$$.fragment),G=T(),q=_("div"),rt(H.$$.fragment),U=T(),Y=_("div"),rt(J.$$.fragment),Z=T(),V=_("div"),rt(X.$$.fragment),Q=T(),tt=_("div"),rt(at.$$.fragment),ot=T(),lt=_("div"),rt(ct.$$.fragment),ut=T(),ht=_("section"),ht.innerHTML='<div class="wrapper svelte-1pbp4rr"><h2 class="svelte-1pbp4rr">Current features</h2> \n    <p>In all use cases, each top-level chart component (eg. bar chart, scatter chart) is able to take a series of parameters (data, colours, title, etc) to  initialise and customise it.</p> \n\t\t<p>As far as possible these parameters are consistent across chart types, and generally there are sensible default values for all parameters (eg. height = 250 pixels) other than &quot;data&quot;, which always requires a Tidy Data array.</p> \n\t\t<h2 class="svelte-1pbp4rr">Examples of usage</h2> \n\t\t<p>You can see examples of how these charts can be used in a Svelte project in <a href="https://svelte.dev/repl/324b696de5304ceebbe0213511e7ed23?version=3.41.0" target="_blank">this REPL</a>, and how they can be used in a plain/vanilla javascript project in <a href="https://codepen.io/bothness/pen/RwVJvav" target="_blank">this CodePen</a>.</p> \n\t\t<h2 class="svelte-1pbp4rr">Intended features</h2> \n\t\t<p>It is the intention to translate all of the most useful charts from Layer Cake&#39;s examples into components, as well as a number of other custom charts (eg. spine charts). For each of the charts, it is the intention to support the following functionalities:</p> \n\t\t<ul><li>Every chart type to support a standard Tidy Data format.</li> \n\t\t\t<li>Optional title, legend and footnote types that can be added to charts.</li> \n\t\t\t<li>Optional hover and click-to-select functionality on all relevant chart types with custom events.</li> \n\t\t\t<li>Options/methods for inline labels, tooltips and annotations.</li> \n\t\t\t<li>Optional prefixes and suffixes for axis labels.</li> \n\t\t\t<li>Colour by group (z parameter) with colors = [array], and colours for hovered and highlighted/selected data points.</li> \n\t\t\t<li>Animated transitions when data or keys change (which can be enabled/disabled with animation = true/false).</li> \n\t\t\t<li>To group similar charts in a logical way to improve ease of use and allow for custom combinations and animated transitions (eg. scatter + beeswarm or line + area).</li> \n\t\t\t<li>Possibility to add custom LayerCake SVG/HTML/Canvas layers in front or behind standard layers of any chart.</li> \n\t\t\t<li>Support for pre-rendering and progressive enhancement.</li></ul> \n\t\t<h2 class="svelte-1pbp4rr">Acknowledgement</h2> \n\t\t<p>These charts are largely based on the chart examples by <a href="https://twitter.com/mhkeller" target="\n\t\t\t_blank">Michael Keller</a>, the author of the Layer Cake charts/graphics framework for Svelte.</p></div>',N(h,"type","checkbox"),N(u,"class","svelte-1pbp4rr"),N(c,"class","controls svelte-1pbp4rr"),N(n,"class","wrapper svelte-1pbp4rr"),N(e,"class","svelte-1pbp4rr"),N(g,"class","grid svelte-1pbp4rr"),N(p,"class","svelte-1pbp4rr"),N(ht,"class","svelte-1pbp4rr")},m(b,_){k(b,e,_),v(e,n),v(n,r),v(n,i),v(n,s),v(n,a),v(n,o),v(n,l),v(n,c),v(c,u),v(u,h),h.checked=t[0],v(u,d),k(b,f,_),k(b,p,_),v(p,g),v(g,$),it(m,$,null),v(g,y),v(g,x),it(w,x,null),v(g,z),v(g,A),it(S,A,null),v(g,R),v(g,D),it(W,D,null),v(g,C),v(g,E),it(L,E,null),v(g,P),v(g,j),it(O,j,null),v(g,B),v(g,I),it(F,I,null),v(g,G),v(g,q),it(H,q,null),v(g,U),v(g,Y),it(J,Y,null),v(g,Z),v(g,V),it(X,V,null),v(g,Q),v(g,tt),it(at,tt,null),v(g,ot),v(g,lt),it(ct,lt,null),k(b,ut,_),k(b,ht,_),dt=!0,ft||(pt=K(h,"change",t[4]),ft=!0)},p(t,[e]){1&e&&(h.checked=t[0]);const n={};2&e&&(n.data=Us.filter(t[7])),1&e&&(n.animation=t[0]),16777218&e&&(n.$$scope={dirty:e,ctx:t}),m.$set(n);const r={};4&e&&(r.mode=t[2].selected),1&e&&(r.animation=t[0]),16777220&e&&(r.$$scope={dirty:e,ctx:t}),w.$set(r);const i={};2&e&&(i.data=Us.filter(t[10])),1&e&&(i.animation=t[0]),16777218&e&&(i.$$scope={dirty:e,ctx:t}),W.$set(i);const s={};4&e&&(s.mode=t[2].selected),1&e&&(s.animation=t[0]),16777220&e&&(s.$$scope={dirty:e,ctx:t}),L.$set(s);const a={};8&e&&(a.animation=t[3].animation),at.$set(a);const o={};8&e&&(o.yKey=t[3].yKey?"value":null),8&e&&(o.zKey=t[3].zKey?"group":null),8&e&&(o.rKey=t[3].rKey?"alt":null),1&e&&(o.animation=t[0]),8&e&&(o.legend=t[3].zKey),16777224&e&&(o.$$scope={dirty:e,ctx:t}),ct.$set(o)},i(t){dt||(et(m.$$.fragment,t),et(w.$$.fragment,t),et(S.$$.fragment,t),et(W.$$.fragment,t),et(L.$$.fragment,t),et(O.$$.fragment,t),et(F.$$.fragment,t),et(H.$$.fragment,t),et(J.$$.fragment,t),et(X.$$.fragment,t),et(at.$$.fragment,t),et(ct.$$.fragment,t),dt=!0)},o(t){nt(m.$$.fragment,t),nt(w.$$.fragment,t),nt(S.$$.fragment,t),nt(W.$$.fragment,t),nt(L.$$.fragment,t),nt(O.$$.fragment,t),nt(F.$$.fragment,t),nt(H.$$.fragment,t),nt(J.$$.fragment,t),nt(X.$$.fragment,t),nt(at.$$.fragment,t),nt(ct.$$.fragment,t),dt=!1},d(t){t&&b(e),t&&b(f),t&&b(p),st(m),st(w),st(S),st(W),st(L),st(O),st(F),st(H),st(J),st(X),st(at),st(ct),t&&b(ut),t&&b(ht),ft=!1,pt()}}}const ca=t=>2020==t.year,ua=t=>2020==t.year,ha=t=>"apples"==t.group;function da(t,e,n){let r=!0,i={animation:!0,options:["apples","bananas","cherries","dates"],selected:"apples"},s={animation:!0,options:["stacked","comparison","barcode"],selected:"stacked"},a={animation:!0,yKey:!1,zKey:!1,rKey:!0};return[r,i,s,a,function(){r=this.checked,n(0,r)},function(){i.selected=this.__value,n(1,i)},[[],[]],t=>t.group==i.selected,function(){s.selected=this.__value,n(2,s)},function(){i.selected=this.__value,n(1,i)},t=>t.group==i.selected,function(){s.selected=this.__value,n(2,s)},function(){a.yKey=this.checked,n(3,a)},function(){a.rKey=this.checked,n(3,a)},function(){a.zKey=this.checked,n(3,a)}]}var fa=!1;return new class extends lt{constructor(t){super(),ot(this,t,da,la,o,{})}}({target:document.body,hydrate:fa})}();
//# sourceMappingURL=bundle.js.map
